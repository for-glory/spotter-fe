"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[845],{18882:function(e,a,s){s.d(a,{Z:function(){return i}});var l=s(66252),t=s(2262),r=s(3577),n=s(31810);const o={class:"buttons__container"};var u=(0,l.aZ)({__name:"ButtonsFooter",props:{mainButtonText:{},secondaryButtonText:{default:""},disabled:{type:Boolean,default:!1}},emits:["handle-click","handle-secondary-click"],setup(e){return(e,a)=>((0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)((0,t.SU)(n.YG),{onClick:a[0]||(a[0]=a=>e.$emit("handle-click")),class:"submit-btn",disabled:e.disabled},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.mainButtonText),1)])),_:1},8,["disabled"]),e.secondaryButtonText?((0,l.wg)(),(0,l.j4)((0,t.SU)(n.YG),{key:0,class:"secondary secondary-btn",onClick:a[1]||(a[1]=a=>e.$emit("handle-secondary-click"))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.secondaryButtonText),1)])),_:1})):(0,l.kq)("",!0)]))}}),d=s(83744);const c=(0,d.Z)(u,[["__scopeId","data-v-70d0b6b0"]]);var i=c},10845:function(e,a,s){s.r(a),s.d(a,{default:function(){return U}});var l=s(66252),t=s(2262),r=s(10121),n=s(19239),o=s(67273),u=s(18882),d=s(22201),c=s(49316),i=s(87794),v=s(12954),p=s(8373),w=s(59483),m=s(31810);const g={class:"password__form"};var _=(0,l.aZ)({__name:"Password",setup(e){const a=(0,d.tv)(),{mutate:s,onDone:_,loading:b,error:k}=(0,c.Db)(i.Gh),{value:U,errorMessage:y}=(0,v.U$)("password",p.Js),{value:h,errorMessage:f}=(0,v.U$)("new password",p.Js),{value:S,errorMessage:Z}=(0,v.U$)("password confirmation",(e=>e===h.value)),C=(0,l.Fl)((()=>(0,w.Cb)(k.value?.message||"Something went wrong. Please try again."))),B=async(e,a="success")=>{const s=await m.Mn.create({message:e,duration:2e3,icon:"assets/icon/success.svg",cssClass:`${a}-toast`});return s.present()};_((({data:e})=>{B(e.updatePassword.message),a.go(-1)}));const x=(0,l.Fl)((()=>T.value?!y.value&&!Z.value&&!f.value&&U.value&&S.value&&h.value:!Z.value&&!f.value&&S.value&&h.value)),$=()=>{x.value&&s({input:{old_password:T.value?U.value:"",password:h.value,password_confirmation:S.value}}).catch((()=>{B(C.value,"danger")}))},q=()=>{a.go(-1)},{result:M}=(0,c.aM)(i.en),T=(0,l.Fl)((()=>M.value?.me.has_password));return(e,a)=>((0,l.wg)(),(0,l.j4)(r.Z,null,{header:(0,l.w5)((()=>[(0,l.Wm)(n.Z,{"back-btn":"",title:(T.value?"Change":"Set")+" password",onBack:q},null,8,["title"])])),content:(0,l.w5)((()=>[(0,l._)("div",g,[T.value?((0,l.wg)(),(0,l.j4)(o.Z,{key:0,type:"password",placeholder:"Enter your current password",class:"password__input",value:(0,t.SU)(U),"onUpdate:value":a[0]||(a[0]=e=>(0,t.dq)(U)?U.value=e:null),"error-message":(0,t.SU)(y),disabled:(0,t.SU)(b)},null,8,["value","error-message","disabled"])):(0,l.kq)("",!0),(0,l.Wm)(o.Z,{value:(0,t.SU)(h),"onUpdate:value":a[1]||(a[1]=e=>(0,t.dq)(h)?h.value=e:null),"error-message":(0,t.SU)(f),disabled:(0,t.SU)(b),type:"password",placeholder:"Enter your new password",class:"password__input"},null,8,["value","error-message","disabled"]),(0,l.Wm)(o.Z,{value:(0,t.SU)(S),"onUpdate:value":a[2]||(a[2]=e=>(0,t.dq)(S)?S.value=e:null),"error-message":(0,t.SU)(Z),type:"password",placeholder:"Enter your new password again",class:"password__input"},null,8,["value","error-message"])])])),footer:(0,l.w5)((()=>[(0,l.Wm)(u.Z,{"main-button-text":"Change password",onClick:$,disabled:(0,t.SU)(b)||!x.value},null,8,["disabled"])])),_:1}))}}),b=s(83744);const k=(0,b.Z)(_,[["__scopeId","data-v-71a67759"]]);var U=k}}]);
//# sourceMappingURL=845.f2ef4cba.js.map