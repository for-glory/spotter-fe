{"version":3,"file":"js/5609.befd2661.js","mappings":"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","sources":["webpack://spotter/./src/general/components/VideoPlayer.vue?8f18","webpack://spotter/./src/general/components/VideoPlayer.vue","webpack://spotter/./src/users/views/workouts/components/BlurredScreenModal.vue?69d6","webpack://spotter/./src/users/views/workouts/components/BlurredScreenModal.vue","webpack://spotter/./src/users/views/workouts/Preview.vue?bdf7","webpack://spotter/./src/users/views/workouts/Preview.vue","webpack://spotter/./src/users/views/workouts/components/InstructionTipModal.vue?6576","webpack://spotter/./src/users/views/workouts/components/InstructionTipModal.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { shallowRef, withDefaults } from \"vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport { VideoJsPlayer } from \"video.js\";\nimport { VideoPlayer } from \"@videojs-player/vue\";\nimport \"video.js/dist/video-js.css\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'VideoPlayer',\n  props: {\n    pathUrl: {},\n    height: {},\n    width: { default: 320 },\n    photoUrl: { default: \"\" },\n    autoplay: { type: Boolean, default: false }\n  },\n  emits: [\"back\", \"ended\"],\n  setup(__props: any, { emit: emits }) {\n\n\n\n\n\nconst player = shallowRef<VideoJsPlayer>();\nconst handleMounted = (payload: any) => {\n  player.value = payload.player;\n};\n\nconst onBack = () => {\n  emits(\"back\");\n};\n\nconst handleVideoEnded = () => {\n  emits(\"ended\");\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(PageHeader, {\n      class: \"header\",\n      \"back-btn\": \"\",\n      onBack: onBack,\n      transparent: \"\"\n    }, {\n      \"custom-btn\": _withCtx(() => [\n        _renderSlot(_ctx.$slots, \"custom-header-btn\")\n      ]),\n      _: 3\n    }),\n    _createVNode(_unref(VideoPlayer), {\n      autoplay: _ctx.autoplay,\n      class: \"video-player vjs-big-play-centered\",\n      src: _ctx.pathUrl,\n      crossorigin: \"anonymous\",\n      playsinline: \"\",\n      controls: \"\",\n      poster: _ctx.photoUrl,\n      volume: 0.6,\n      height: _ctx.height,\n      width: _ctx.width,\n      \"playback-rates\": [0.7, 1.0, 1.5, 2.0],\n      preferFullWindow: true,\n      onMounted: handleMounted,\n      onEnded: handleVideoEnded\n    }, null, 8, [\"autoplay\", \"src\", \"poster\", \"height\", \"width\"])\n  ], 64))\n}\n}\n\n})","import script from \"./VideoPlayer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./VideoPlayer.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./VideoPlayer.vue?vue&type=style&index=0&id=5766a306&scoped=true&lang=scss\"\nimport \"./VideoPlayer.vue?vue&type=style&index=1&id=5766a306&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5766a306\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-85629722\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"modal-buttons ion-padding-horizontal ion-padding-top\",\n  slot: \"fixed\"\n}\n\nimport { IonModal, IonContent, IonButton } from \"@ionic/vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport { ref, watch } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { MeDocument, SettingsCodeEnum } from \"@/generated/graphql\";\nimport { useQuery } from \"@vue/apollo-composable\";\n\n\nconst __default__ = {\n  name: \"WorkoutPreviewBlurredScreeModal\",\n};\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  props: {\n    previewUrl: {},\n    disabled: { type: Boolean }\n  },\n  emits: [\"visibility\", \"watchTrialVideo\", \"purchaseDaily\"],\n  setup(__props: any, { emit: emits }) {\n\nconst props = __props;\n\nconst isTrusted = ref(false);\n\n\n\n\n\nconst router = useRouter();\n\nconst isOpen = ref(true);\nconst blurredModal = ref(null);\n\nconst bgImage = ref(\n  `background: no-repeat center/cover url(${props.previewUrl})`\n);\n\nwatch(props, (newVal) => {\n  bgImage.value = `background: no-repeat center/cover url(${newVal.previewUrl})`;\n});\n\nconst purchaseDaily = () => {\n  isOpen.value = false;\n  emits(\"purchaseDaily\");\n};\n\nconst { onResult: gotMe } = useQuery(\n  MeDocument,\n  {},\n  {\n    fetchPolicy: \"no-cache\",\n  }\n);\n\ngotMe(async (response) => {\n  isTrusted.value = !!response.data?.me?.settings?.find(\n    (settings: any) => settings.setting.code === SettingsCodeEnum.VerifiedUser\n  )?.value;\n});\n\nconst onBack = () => {\n  isOpen.value = false;\n  emits(\"visibility\", false);\n  router.go(-1);\n};\n\nconst watchTrialVideo = () => {\n  isOpen.value = false;\n  emits(\"visibility\", false);\n  emits(\"watchTrialVideo\");\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonModal), {\n    ref_key: \"blurredModal\",\n    ref: blurredModal,\n    trigger: \"open-modal\",\n    \"is-open\": isOpen.value\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", {\n        class: \"blurred-bg\",\n        style: _normalizeStyle(bgImage.value)\n      }, null, 4),\n      _createVNode(_unref(IonContent), { class: \"modal-content ion-padding\" }, {\n        default: _withCtx(() => [\n          _createVNode(PageHeader, {\n            \"back-btn\": \"\",\n            onBack: onBack,\n            class: \"header\",\n            transparent: \"\"\n          }),\n          _createElementVNode(\"div\", _hoisted_1, [\n            (isTrusted.value)\n              ? (_openBlock(), _createBlock(_unref(IonButton), {\n                  key: 0,\n                  expand: \"block\",\n                  onClick: purchaseDaily,\n                  disabled: _ctx.disabled\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" Purchase Daily \")\n                  ]),\n                  _: 1\n                }, 8, [\"disabled\"]))\n              : _createCommentVNode(\"\", true),\n            _createVNode(_unref(IonButton), {\n              onClick: watchTrialVideo,\n              expand: \"block\",\n              fill: \"outline\",\n              color: \"medium\",\n              class: \"watch-btn\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Watch free-trial video \")\n              ]),\n              _: 1\n            })\n          ])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"is-open\"]))\n}\n}\n\n})","import script from \"./BlurredScreenModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BlurredScreenModal.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BlurredScreenModal.vue?vue&type=style&index=0&id=85629722&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-85629722\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { useRoute } from \"vue-router\";\nimport { useMutation, useQuery } from \"@vue/apollo-composable\";\nimport {\n  AddToCartDocument,\n  AddToCartPurchasableEnum,\n  WorkoutDocument,\n} from \"@/generated/graphql\";\nimport MyVideoPlayer from \"@/general/components/VideoPlayer.vue\";\n\nimport {\n  IonPage,\n  IonContent,\n  IonButton,\n  IonIcon,\n  toastController,\n} from \"@ionic/vue\";\nimport { ref, computed } from \"vue\";\nimport InstructionTipModal from \"./components/InstructionTipModal.vue\";\nimport BlurredScreenModal from \"./components/BlurredScreenModal.vue\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport router from \"@/router\";\n\n\nconst __default__ = {\n  name: \"WorkoutPreview\",\n};\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  setup(__props) {\n\nconst trialMode = ref(false);\nconst isOpenInstructionTipModal = ref(false);\nconst isOpenBlurredScreenModal = ref(true);\nconst trialVideoPlayer = ref(null);\n\nconst { mutate: addToCartMutation, loading: addToCartLoading } =\n  useMutation(AddToCartDocument);\n\nconst route = useRoute();\n\nconst { result, onResult: gotWorkout } = useQuery(WorkoutDocument, {\n  id: route.params.id,\n});\n\ngotWorkout((response) => {\n  if (response.data.workout.was_ordered_by_me) {\n    isOpenBlurredScreenModal.value = isOpenInstructionTipModal.value = false;\n    router.push({\n      name: EntitiesEnum.UserWorkouts,\n    });\n  }\n});\n\nconst trialVideo = computed<string>(\n  () => result?.value?.workout?.exercises[0].pathUrl ?? \"\"\n);\nconst previewUrl = computed<string>(\n  () => result?.value?.workout?.previewUrl ?? \"\"\n);\nconst workoutInstructionTip = computed<string>(\n  () => result?.value?.workout?.exercises[0]?.description ?? \"\"\n);\n\nconst closeVideo = () => {\n  trialMode.value = false;\n  isOpenBlurredScreenModal.value = true;\n};\n\nconst purchaseWorkout = () => {\n  addToCartMutation({\n    input: {\n      purchasable_id: route.params.id,\n      purchasable: AddToCartPurchasableEnum.Workout,\n    },\n  })\n    .then((res) => {\n      isOpenBlurredScreenModal.value = false;\n      router.push({\n        name: EntitiesEnum.WorkoutOrder,\n        params: {\n          id: route.params.id,\n        },\n        query: {\n          cart_id: res?.data?.addToCart?.id,\n        },\n      });\n    })\n    .catch(async () => {\n      const toast = await toastController.create({\n        message: \"Something went wrong. Try again.\",\n        duration: 2000,\n        icon: \"assets/icon/info.svg\",\n        cssClass: \"warning-toast\",\n      });\n      toast.present();\n    });\n};\n\nconst videoEndedHandle = () => {\n  purchaseWorkout();\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (trialMode.value)\n      ? (_openBlock(), _createBlock(_unref(IonPage), { key: 0 }, {\n          default: _withCtx(() => [\n            _createVNode(_unref(IonContent), { fullscreen: true }, {\n              default: _withCtx(() => [\n                _createVNode(MyVideoPlayer, {\n                  ref_key: \"trialVideoPlayer\",\n                  ref: trialVideoPlayer,\n                  pathUrl: trialVideo.value || '',\n                  photoUrl: previewUrl.value || '',\n                  height: 800,\n                  width: 400,\n                  class: \"trial-video-player\",\n                  onBack: closeVideo,\n                  onEnded: videoEndedHandle,\n                  autoplay: \"\"\n                }, {\n                  \"custom-header-btn\": _withCtx(() => [\n                    _createVNode(_unref(IonButton), {\n                      onClick: _cache[0] || (_cache[0] = ($event: any) => (isOpenInstructionTipModal.value = !isOpenInstructionTipModal.value)),\n                      class: \"header-btn\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(IonIcon), { src: \"assets/icon/info.svg\" })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"pathUrl\", \"photoUrl\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(BlurredScreenModal, {\n      \"is-open\": isOpenBlurredScreenModal.value,\n      \"preview-url\": previewUrl.value,\n      onVisibility: _cache[1] || (_cache[1] = ($event: any) => (isOpenBlurredScreenModal.value = false)),\n      onWatchTrialVideo: _cache[2] || (_cache[2] = ($event: any) => (trialMode.value = true)),\n      onPurchaseDaily: purchaseWorkout,\n      disabled: _unref(addToCartLoading)\n    }, null, 8, [\"is-open\", \"preview-url\", \"disabled\"]),\n    _createVNode(InstructionTipModal, {\n      \"is-open\": isOpenInstructionTipModal.value,\n      onVisibility: _cache[3] || (_cache[3] = ($event: any) => (isOpenInstructionTipModal.value = false)),\n      \"instruction-tip\": workoutInstructionTip.value\n    }, null, 8, [\"is-open\", \"instruction-tip\"])\n  ], 64))\n}\n}\n\n})","import script from \"./Preview.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Preview.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Preview.vue?vue&type=style&index=0&id=1a4c9622&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1a4c9622\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { IonModal, IonContent, IonText, IonLabel } from \"@ionic/vue\";\n\n\n\nconst __default__ = {\n  name: \"WorkoutPreviewInstructionTipModal\",\n};\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  props: {\n    isOpen: { type: Boolean },\n    instructionTip: {}\n  },\n  emits: [\"visibility\"],\n  setup(__props: any, { emit: emits }) {\n\n\n\n\n\nconst handleOpen = () => {\n  emits(\"visibility\", false);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonModal), {\n    class: \"instruction-tip-modal\",\n    \"is-open\": _ctx.isOpen,\n    ref: \"modal\",\n    trigger: \"open-modal\",\n    \"initial-breakpoint\": 0.4,\n    breakpoints: [0, 0.4, 1],\n    \"backdrop-dismiss\": true,\n    onDidDismiss: handleOpen\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(IonContent), { class: \"instruction-tip-content\" }, {\n        default: _withCtx(() => [\n          _createVNode(_unref(IonLabel), { class: \"instruction-tip-label\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Instruction Tip\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(IonText), {\n            color: \"secondary\",\n            innerHTML: _ctx.instructionTip\n          }, null, 8, [\"innerHTML\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"is-open\"]))\n}\n}\n\n})","import script from \"./InstructionTipModal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./InstructionTipModal.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./InstructionTipModal.vue?vue&type=style&index=0&id=1dbcd9ba&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1dbcd9ba\"]])\n\nexport default __exports__"],"names":["_defineComponent","__name","props","pathUrl","height","width","default","photoUrl","autoplay","type","Boolean","emits","setup","__props","emit","player","shallowRef","handleMounted","payload","value","onBack","handleVideoEnded","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","_createVNode","PageHeader","class","transparent","_withCtx","_renderSlot","$slots","_","_unref","VideoPlayer","src","crossorigin","playsinline","controls","poster","volume","preferFullWindow","onMounted","onEnded","__exports__","_hoisted_1","slot","__default__","name","previewUrl","disabled","isTrusted","ref","router","useRouter","isOpen","blurredModal","bgImage","watch","newVal","purchaseDaily","onResult","gotMe","useQuery","MeDocument","fetchPolicy","async","response","data","me","settings","find","setting","code","SettingsCodeEnum","VerifiedUser","go","watchTrialVideo","_createBlock","IonModal","ref_key","trigger","_createElementVNode","style","_normalizeStyle","IonContent","IonButton","key","expand","onClick","_createTextVNode","_createCommentVNode","fill","color","trialMode","isOpenInstructionTipModal","isOpenBlurredScreenModal","trialVideoPlayer","mutate","addToCartMutation","loading","addToCartLoading","useMutation","AddToCartDocument","route","useRoute","result","gotWorkout","WorkoutDocument","id","params","workout","was_ordered_by_me","push","EntitiesEnum","UserWorkouts","trialVideo","computed","exercises","workoutInstructionTip","description","closeVideo","purchaseWorkout","input","purchasable_id","purchasable","AddToCartPurchasableEnum","Workout","then","res","WorkoutOrder","query","cart_id","addToCart","catch","toast","toastController","create","message","duration","icon","cssClass","present","videoEndedHandle","IonPage","fullscreen","MyVideoPlayer","$event","IonIcon","BlurredScreenModal","onVisibility","onWatchTrialVideo","onPurchaseDaily","InstructionTipModal","instructionTip","handleOpen","breakpoints","onDidDismiss","IonLabel","IonText","innerHTML"],"sourceRoot":""}