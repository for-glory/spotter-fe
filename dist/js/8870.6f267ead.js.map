{"version":3,"file":"js/8870.6f267ead.js","mappings":"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","sources":["webpack://spotter/./src/trainers/views/workouts/Exercise.vue?0f7d","webpack://spotter/./src/trainers/views/workouts/Exercise.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, isRef as _isRef, createBlock as _createBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2d47c0af\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"exercise-form-content\" }\nconst _hoisted_2 = { class: \"form-row\" }\nconst _hoisted_3 = { class: \"form-row\" }\nconst _hoisted_4 = { class: \"form-row\" }\nconst _hoisted_5 = { class: \"form-row\" }\nconst _hoisted_6 = { class: \"exercise-action-wrap\" }\n\nimport { ref, computed, watch } from \"vue\";\nimport { IonLabel, IonButton } from \"@ionic/vue\";\nimport { useField } from \"vee-validate\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport DiscardChanges from \"@/general/components/modals/confirmations/DiscardChanges.vue\";\nimport { useWorkoutsStore } from \"../../store/workouts\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport UploadVideo from \"@/general/components/UploadVideo.vue\";\nimport { dataURItoFile } from \"@/utils/fileUtils\";\nimport { FilePreloadDocument } from \"@/generated/graphql\";\nimport { useMutation } from \"@vue/apollo-composable\";\nimport PhotoLoader from \"@/general/components/blocks/PhotoLoader.vue\";\nimport BaseInput from \"@/general/components/base/BaseInput.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Exercise',\n  setup(__props) {\n\nconst router = useRouter();\nconst route = useRoute();\nconst store = useWorkoutsStore();\n\nconst exerciseDescription = ref<string>(\"\");\nconst isConfirmationOpen = ref<boolean>(false);\nconst exerciseIndex = ref<number>(0);\n\nconst previewUrl = ref<string>(\"\");\nconst previewPath = ref<string>(\"\");\nconst previewOnLoading = ref<boolean>(false);\nconst videoOnLoading = ref<boolean>(false);\nconst path = ref<string>(\"\");\nconst videoPath = ref<string>(\"\");\nconst percentLoaded = ref<number | undefined>();\nconst videoInfo = ref<{ name: string; size: string }>({ name: \"\", size: \"\" });\n\nwatch(\n  () => route.params.id,\n  (newVal) => {\n    checkExercise(newVal.toString());\n  }\n);\n\nconst { value: exerciseTitle, errorMessage: titleError } =\n  useField<string>(\"exerciseTitle\");\n\nconst pushValueToStore = async () => {\n  store.setExercise({\n    title: exerciseTitle.value,\n    description: exerciseDescription.value,\n    videoPath: videoPath.value,\n    previewUrl: previewUrl.value,\n    previewPath: previewPath.value,\n    path: path.value,\n    id: route.params.id as string,\n    videoSize: videoInfo.value.size,\n    videoName: videoInfo.value.name,\n  });\n};\n\nconst handleAddNextExercise = () => {\n  pushValueToStore();\n  exerciseTitle.value = \"\";\n  videoPath.value = \"\";\n  exerciseDescription.value = \"\";\n  previewUrl.value = \"\";\n  exerciseIndex.value++;\n  router.push({\n    name: EntitiesEnum.TrainerCreateExercise,\n    params: { id: uuidv4() },\n  });\n};\n\nconst isValidForm = computed(\n  () => exerciseTitle.value && previewUrl.value && videoPath.value\n);\n\nconst photoSelected = async (value: string): Promise<void> => {\n  if (!value?.length) {\n    removePhoto();\n    return;\n  }\n  const file = dataURItoFile(value, uuidv4());\n  previewOnLoading.value = true;\n  percentLoaded.value = 0;\n  await filePreload({ file })\n    .then((res) => {\n      previewPath.value = res?.data.filePreload.path;\n      previewUrl.value = `${process.env.VUE_APP_MEDIA_URL}${res?.data.filePreload.path}`;\n      previewOnLoading.value = false;\n      percentLoaded.value = undefined;\n    })\n    .catch((error) => {\n      console.error(error);\n      abort();\n      previewOnLoading.value = false;\n      percentLoaded.value = undefined;\n    });\n};\n\nconst videoSelected = async (\n  file: File,\n  size: string,\n  name: string\n): Promise<void> => {\n  videoOnLoading.value = true;\n  percentLoaded.value = 0;\n  await filePreload({ file })\n    .then((res) => {\n      path.value = res?.data.filePreload.path;\n      videoPath.value = `${process.env.VUE_APP_MEDIA_URL}${res?.data.filePreload.path}`;\n      videoOnLoading.value = false;\n      percentLoaded.value = undefined;\n      videoInfo.value.size = size;\n      videoInfo.value.name = name;\n    })\n    .catch((error) => {\n      abort();\n      console.error(error);\n      path.value = \"\";\n      videoPath.value = \"\";\n      videoOnLoading.value = false;\n      percentLoaded.value = undefined;\n      videoInfo.value.size = \"\";\n      videoInfo.value.name = \"\";\n    });\n};\n\nlet abort: any;\n\nconst { mutate: filePreload } = useMutation(FilePreloadDocument, {\n  context: {\n    fetchOptions: {\n      useUpload: true,\n      onProgress: (ev: ProgressEvent) => {\n        percentLoaded.value = (ev.loaded / ev.total) * 100;\n      },\n      onAbortPossible: (abortHandler: any) => {\n        abort = abortHandler;\n      },\n    },\n  },\n});\n\nconst removePhoto = () => {\n  previewUrl.value = \"\";\n};\n\nconst removeVideo = () => {\n  videoPath.value = \"\";\n};\n\nconst handleFinishWorkout = () => {\n  !isEditing.value ? pushValueToStore() : updateExercise();\n  store.setMedia();\n  if (isValidForm.value) {\n    if (!isEditing.value) {\n      router.push({\n        name: EntitiesEnum.TrainerExerciseList,\n      });\n    } else {\n      router.go(-1);\n    }\n  }\n};\n\nconst discardModalClosed = (approved: boolean) => {\n  isConfirmationOpen.value = false;\n  if (approved) {\n    if (store.exercises[route.params.id.toString()]) {\n      store.removeExercise(route.params.id.toString());\n    }\n    router.go(-1);\n  }\n};\n\nconst onBack = () => {\n  if (\n    !isEditing.value &&\n    (videoPath.value || exerciseTitle.value || exerciseDescription.value)\n  ) {\n    isConfirmationOpen.value = true;\n  } else {\n    router.go(-1);\n  }\n};\n\nconst checkExercise = (id: string) => {\n  const exercise = store.exercises[id];\n  if (exercise) {\n    exerciseTitle.value = exercise.title;\n    videoPath.value = exercise.videoPath;\n    previewUrl.value = exercise.previewUrl;\n    previewPath.value = exercise.previewPath;\n    exerciseDescription.value = exercise.description || \"\";\n    videoInfo.value = {\n      size: exercise?.videoSize || \"\",\n      name: exercise?.videoName || \"\",\n    };\n  }\n};\n\nconst id = route.params.id;\nif (id) {\n  checkExercise(id.toString());\n}\n\nconst exerciseId = ref<string | null>(\n  route.params.id ? String(route.params.id) : null\n);\nconst isEditing = ref<boolean>(Boolean(route.query[\"edit\"]));\n\nif (isEditing.value && exerciseId.value) {\n  const exercise = store.exercises[exerciseId.value];\n\n  exerciseTitle.value = exercise.title;\n  exerciseDescription.value = exercise.description || \"\";\n  videoPath.value = exercise.videoPath;\n  previewUrl.value = exercise.previewUrl;\n  previewPath.value = exercise.previewPath;\n  path.value = exercise.path;\n  videoInfo.value = {\n    size: exercise.videoSize,\n    name: exercise.videoName,\n  };\n}\n\nconst updateExercise = () => {\n  store.editExercise(exerciseId.value as string, {\n    title: exerciseTitle.value,\n    description: exerciseDescription.value,\n    videoPath: videoPath.value,\n    previewUrl: previewUrl.value,\n    previewPath: previewPath.value,\n    path: path.value,\n    id: route.params.id as string,\n    videoSize: videoInfo.value.size,\n    videoName: videoInfo.value.name,\n  });\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_page_header = _resolveComponent(\"page-header\")!\n  const _component_base_layout = _resolveComponent(\"base-layout\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_base_layout, { hideNavigationMenu: \"\" }, {\n      header: _withCtx(() => [\n        _createVNode(_component_page_header, {\n          onBack: onBack,\n          \"back-btn\": \"\",\n          title: \"Create exercise\"\n        })\n      ]),\n      content: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_1, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createVNode(_unref(IonLabel), { class: \"label\" }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Choose exercise cover \")\n              ]),\n              _: 1\n            }),\n            _createVNode(PhotoLoader, {\n              photo: previewUrl.value,\n              onChange: photoSelected,\n              progress: percentLoaded.value,\n              loading: previewOnLoading.value\n            }, null, 8, [\"photo\", \"progress\", \"loading\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createVNode(_unref(IonLabel), { class: \"label\" }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Choose video for \"),\n                (exerciseIndex.value === 0)\n                  ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                      _createTextVNode(\"first\")\n                    ], 64))\n                  : _createCommentVNode(\"\", true),\n                _createTextVNode(\" exercise \")\n              ]),\n              _: 1\n            }),\n            _createVNode(UploadVideo, {\n              video: videoPath.value,\n              onDelete: removeVideo,\n              onChange: videoSelected,\n              loading: videoOnLoading.value,\n              \"video-size\": videoInfo.value.size,\n              \"video-name\": videoInfo.value.name,\n              \"button-text\": \"Upload exercise\",\n              loadingPercent: percentLoaded.value\n            }, null, 8, [\"video\", \"loading\", \"video-size\", \"video-name\", \"loadingPercent\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(BaseInput, {\n              value: _unref(exerciseTitle),\n              \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(exerciseTitle) ? (exerciseTitle).value = $event : null)),\n              \"error-message\": _unref(titleError),\n              placeholder: \"Enter title\",\n              name: \"exerciseTitle\",\n              label: \"Create short title for video\",\n              required: \"\"\n            }, null, 8, [\"value\", \"error-message\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createVNode(BaseInput, {\n              \"auto-grow\": \"\",\n              value: exerciseDescription.value,\n              \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((exerciseDescription).value = $event)),\n              \"error-message\": _unref(titleError),\n              placeholder: \"Enter instruction tips\",\n              name: \"exerciseTitle\",\n              label: \"Create instruction tip for video\",\n              rows: 3\n            }, null, 8, [\"value\", \"error-message\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_6, [\n            (!isEditing.value)\n              ? (_openBlock(), _createBlock(_unref(IonButton), {\n                  key: 0,\n                  onClick: handleAddNextExercise,\n                  type: \"submit\",\n                  expand: \"block\",\n                  disabled: !isValidForm.value\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" Add next exercise \")\n                  ]),\n                  _: 1\n                }, 8, [\"disabled\"]))\n              : _createCommentVNode(\"\", true),\n            _createVNode(_unref(IonButton), {\n              onClick: handleFinishWorkout,\n              type: \"submit\",\n              expand: \"block\",\n              class: \"secondary\",\n              disabled: !isValidForm.value\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(isEditing.value ? \"Save exercise\" : \"Finish workout\"), 1)\n              ]),\n              _: 1\n            }, 8, [\"disabled\"])\n          ])\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(DiscardChanges, {\n      \"is-open\": isConfirmationOpen.value,\n      onClose: discardModalClosed\n    }, null, 8, [\"is-open\"])\n  ], 64))\n}\n}\n\n})","import script from \"./Exercise.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Exercise.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Exercise.vue?vue&type=style&index=0&id=2d47c0af&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2d47c0af\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_defineComponent","__name","setup","__props","router","useRouter","route","useRoute","store","useWorkoutsStore","exerciseDescription","ref","isConfirmationOpen","exerciseIndex","previewUrl","previewPath","previewOnLoading","videoOnLoading","path","videoPath","percentLoaded","videoInfo","name","size","watch","params","id","newVal","checkExercise","toString","value","exerciseTitle","errorMessage","titleError","useField","pushValueToStore","async","setExercise","title","description","videoSize","videoName","handleAddNextExercise","push","EntitiesEnum","TrainerCreateExercise","uuidv4","isValidForm","computed","photoSelected","length","removePhoto","file","dataURItoFile","filePreload","then","res","data","process","VUE_APP_MEDIA_URL","undefined","catch","error","console","abort","videoSelected","mutate","useMutation","FilePreloadDocument","context","fetchOptions","useUpload","onProgress","ev","loaded","total","onAbortPossible","abortHandler","removeVideo","handleFinishWorkout","isEditing","updateExercise","setMedia","go","TrainerExerciseList","discardModalClosed","approved","exercises","removeExercise","onBack","exercise","exerciseId","String","Boolean","query","editExercise","_ctx","_cache","_component_page_header","_resolveComponent","_component_base_layout","_openBlock","_createElementBlock","_Fragment","_createVNode","hideNavigationMenu","header","_withCtx","content","_createElementVNode","_unref","IonLabel","default","_createTextVNode","_","PhotoLoader","photo","onChange","progress","loading","key","_createCommentVNode","UploadVideo","video","onDelete","loadingPercent","BaseInput","$event","_isRef","placeholder","label","required","rows","_createBlock","IonButton","onClick","type","expand","disabled","_toDisplayString","DiscardChanges","onClose","__exports__"],"sourceRoot":""}