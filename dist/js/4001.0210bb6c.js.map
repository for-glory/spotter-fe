{"version":3,"file":"js/4001.0210bb6c.js","mappings":"4OACA,MAAMA,GAAc,QAAe,cAAe,CAC9CC,IAAK,IAAM,gCAAgBC,MAAKC,GAAK,IAAIA,EAAEC,mBCEzCC,EAAa,CAAEC,MAAO,iBACtBC,EAAa,CAAED,MAAO,eACtBE,EAAa,CAAEF,MAAO,WAU5B,OAA4BG,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,aACRC,MAAMC,GAER,MAAQC,OAAQC,EAAuB,QAAEC,IACvCC,EAAAA,EAAAA,IAA0CC,EAAAA,IAEtCC,GAAcC,EAAAA,EAAAA,KAClBC,EAAAA,EAAAA,GAAW,cACPA,EAAAA,EAAAA,GAAW,WACT,yBACAA,EAAAA,EAAAA,GAAW,OACX,aACA,KACF,MAEAC,GAAeF,EAAAA,EAAAA,MAAeD,EAAYI,OAE1CC,EAAsBC,UAC1B,MAAM,MAAEF,SAAgBtB,EAAYyB,WAAW,CAC7CC,IAAKR,EAAYI,OAAS,KAG5B,OADAD,EAAaC,MAAQA,EACdA,CAAK,EAGVD,EAAaC,OACfC,IAGF,MAAMI,EAAeH,UACnB,MAAMI,QAAgBL,IACjBK,SACC5B,EAAY6B,QAAQ,CAAEH,IAAKR,EAAYI,OAAS,IAAK,EAGvDQ,EAAgBA,KACpB,MAAMC,EAAiBC,KAAKC,MAC1BC,aAAaC,QAAQ,oBAAsB,MAGzCJ,GACFjB,EAAwB,CAAEsB,MAAOL,G,EAIrC,MAAO,CAACM,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOnC,EAAY,EAC3DoC,EAAAA,EAAAA,GAAoB,MAAOlC,EAAY,EACrCmC,EAAAA,EAAAA,KAAaC,EAAAA,EAAAA,IAAOC,EAAAA,IAAW,KAAM,CACnCC,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAiB,2BAEnBC,EAAG,KAELN,EAAAA,EAAAA,KAAaC,EAAAA,EAAAA,IAAOM,EAAAA,IAAU,CAAE3C,MAAO,qBAAuB,CAC5DuC,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAiB,+EAEnBC,EAAG,OAGPP,EAAAA,EAAAA,GAAoB,MAAOjC,EAAY,CACpCa,EAAaC,QACTiB,EAAAA,EAAAA,OAAcW,EAAAA,EAAAA,KAAaP,EAAAA,EAAAA,IAAOQ,EAAAA,IAAY,CAC7CC,IAAK,EACL9C,MAAO,SACP+C,OAAQ,QACRC,QAAS3B,GACR,CACDkB,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAiB,oBAEnBC,EAAG,MAELO,EAAAA,EAAAA,IAAoB,IAAI,IAC5Bb,EAAAA,EAAAA,KAAaC,EAAAA,EAAAA,IAAOQ,EAAAA,IAAY,CAC9BE,OAAQ,QACRG,UAAUb,EAAAA,EAAAA,IAAO5B,GACjBuC,QAASxB,EACTxB,MAAO,oBACN,CACDuC,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtBC,EAAAA,EAAAA,IAAiB,qBAEnBC,EAAG,GACF,EAAG,CAAC,iBAIb,I,WCpGA,MAAMS,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://spotter/./node_modules/@capacitor/app-launcher/dist/esm/index.js","webpack://spotter/./src/general/views/CheckEmail.vue?3c64","webpack://spotter/./src/general/views/CheckEmail.vue"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst AppLauncher = registerPlugin('AppLauncher', {\n    web: () => import('./web').then(m => new m.AppLauncherWeb()),\n});\nexport * from './definitions';\nexport { AppLauncher };\n//# sourceMappingURL=index.js.map","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-49324767\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"page--content\" }\nconst _hoisted_2 = { class: \"page--title\" }\nconst _hoisted_3 = { class: \"buttons\" }\n\nimport { IonText, IonTitle, IonButton, isPlatform } from \"@ionic/vue\";\nimport { useMutation } from \"@vue/apollo-composable\";\nimport { ResendEmailConfirmationInput } from \"@/generated/graphql\";\nimport { ResendEmailConfirmationDocument } from \"@/graphql/documents/authDocuments\";\nimport { AppLauncher } from \"@capacitor/app-launcher\";\nimport { ref } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CheckEmail',\n  setup(__props) {\n\nconst { mutate: resendEmailConfirmation, loading } =\n  useMutation<ResendEmailConfirmationInput>(ResendEmailConfirmationDocument);\n\nconst emailAppUrl = ref<string | null>(\n  isPlatform(\"capacitor\")\n    ? isPlatform(\"android\")\n      ? \"com.google.android.gm\"\n      : isPlatform(\"ios\")\n      ? \"message://\"\n      : null\n    : null\n);\nconst showEmailBtn = ref<boolean>(!!emailAppUrl.value);\n\nconst checkMailBoxCanOpen = async (): Promise<boolean> => {\n  const { value } = await AppLauncher.canOpenUrl({\n    url: emailAppUrl.value || \"\",\n  });\n  showEmailBtn.value = value;\n  return value;\n};\n\nif (showEmailBtn.value) {\n  checkMailBoxCanOpen();\n}\n\nconst onCheckEmail = async () => {\n  const canOpen = await checkMailBoxCanOpen();\n  if (!canOpen) return;\n  await AppLauncher.openUrl({ url: emailAppUrl.value || \"\" });\n};\n\nconst onResendEmail = () => {\n  const temporaryEmail = JSON.parse(\n    localStorage.getItem(\"temporary_email\") || \"{}\"\n  );\n\n  if (temporaryEmail) {\n    resendEmailConfirmation({ email: temporaryEmail });\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_unref(IonTitle), null, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Activation Link Sent\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(IonText), { class: \"font-20 grey-text\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" We sent you an email, please follow the link to activate your profile. \")\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (showEmailBtn.value)\n        ? (_openBlock(), _createBlock(_unref(IonButton), {\n            key: 0,\n            class: \"button\",\n            expand: \"block\",\n            onClick: onCheckEmail\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Check email \")\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_unref(IonButton), {\n        expand: \"block\",\n        disabled: _unref(loading),\n        onClick: onResendEmail,\n        class: \"button secondary\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Resend email \")\n        ]),\n        _: 1\n      }, 8, [\"disabled\"])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./CheckEmail.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CheckEmail.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CheckEmail.vue?vue&type=style&index=0&id=49324767&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-49324767\"]])\n\nexport default __exports__"],"names":["AppLauncher","web","then","m","AppLauncherWeb","_hoisted_1","class","_hoisted_2","_hoisted_3","_defineComponent","__name","setup","__props","mutate","resendEmailConfirmation","loading","useMutation","ResendEmailConfirmationDocument","emailAppUrl","ref","isPlatform","showEmailBtn","value","checkMailBoxCanOpen","async","canOpenUrl","url","onCheckEmail","canOpen","openUrl","onResendEmail","temporaryEmail","JSON","parse","localStorage","getItem","email","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","_createVNode","_unref","IonTitle","default","_withCtx","_createTextVNode","_","IonText","_createBlock","IonButton","key","expand","onClick","_createCommentVNode","disabled","__exports__"],"sourceRoot":""}