{"version":3,"file":"js/1728.de0bda38.js","mappings":"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","sources":["webpack://spotter/./src/trainers/store/selected-address.ts","webpack://spotter/./src/trainers/views/registration/ChooseGymAccount.vue?68da","webpack://spotter/./src/trainers/views/registration/ChooseGymAccount.vue"],"sourcesContent":["import { FacilitySearchResult } from \"@/interfaces/FacilitySearchResult\";\nimport { selectedAddressStoreTypes } from \"@/ts/types/store\";\nimport { defineStore } from \"pinia\";\n\nexport const useSelectedAddressStore = defineStore(\"seleted-address\", {\n  state: (): selectedAddressStoreTypes => {\n    return {\n      assignedFacility: null,\n      hourlyRate: null,\n      remoteHourlyRate: null,\n      travelRadius: null,\n      useTrainerLocation: false,\n      workingInGym: false,\n      edit: false,\n    };\n  },\n  actions: {\n    setEdit(value: boolean) {\n      this.edit = value;\n    },\n    setAssignedFacility(facility: FacilitySearchResult) {\n      this.assignedFacility = facility;\n    },\n    setWorkinginGym(val: boolean) {\n      this.workingInGym = val;\n    },\n    setHourlyRate(rate: number) {\n      this.hourlyRate = rate;\n    },\n    setRemoteHourlyRate(rate: number) {\n      this.remoteHourlyRate = rate;\n    },\n    setTravelRadius(radius: number | null) {\n      this.travelRadius = radius;\n    },\n    setUseTrainerLocation(value: boolean) {\n      this.useTrainerLocation = value;\n    },\n    clearState() {\n      this.assignedFacility = null;\n      this.hourlyRate = null;\n      this.remoteHourlyRate = null;\n      this.travelRadius = null;\n      this.useTrainerLocation = false;\n    },\n    clearAssignedFacility() {\n      this.assignedFacility = null;\n    },\n  },\n});\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0485689f\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"holder-content ion-padding-horizontal\" }\n\nimport { IonBackButton, IonLabel, IonSpinner, IonItem } from \"@ionic/vue\";\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport SearchForm from \"@/general/components/forms/SearchForm.vue\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport { useRouter } from \"vue-router\";\nimport { computed, ref, onMounted } from \"vue\";\nimport {\n  FacilitiesDocument,\n  FacilitiesQuery,\n  FacilitiesQueryVariables,\n} from \"@/generated/graphql\";\nimport { useQuery } from \"@vue/apollo-composable\";\nimport { FacilitySearchResult } from \"@/interfaces/FacilitySearchResult\";\nimport SearchResult from \"@/users/views/facilities/SearchResult.vue\";\nimport { useSelectedAddressStore } from \"@/trainers/store/selected-address\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChooseGymAccount',\n  setup(__props) {\n\nconst router = useRouter();\n\nconst handleBack = () => {\n  router.go(-1);\n};\nconst searchForm = ref<typeof SearchForm | null>(null);\n\nconst searchQuery = ref<string>(\"\");\nconst facilitiesParams: FacilitiesQueryVariables = {\n  first: 10,\n  page: 0,\n  search: searchQuery.value.length > 2 ? searchQuery.value : undefined,\n};\n\nconst store = useSelectedAddressStore();\n\nconst onResultItemClick = (facility: FacilitySearchResult) => {\n  store.setAssignedFacility(facility);\n  handleBack();\n};\n\nconst search = (query?: string) => {\n  searchQuery.value = query || \"\";\n  facilityRefetch({\n    first: 100,\n    search: searchQuery.value.length > 2 ? searchQuery.value : undefined,\n  });\n};\n\nconst {\n  result: facilityResult,\n  loading: facilityLoading,\n  refetch: facilityRefetch,\n} = useQuery<FacilitiesQuery>(FacilitiesDocument, facilitiesParams);\n\nconst facilities = computed(\n  () => facilityResult.value?.facilities?.data as FacilitySearchResult[]\n);\n\nonMounted(() => {\n  setTimeout(() => {\n    searchForm.value?.setFocus();\n  }, 500);\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseLayout, { \"hide-navigation-menu\": \"\" }, {\n    header: _withCtx(() => [\n      _createVNode(_unref(IonBackButton), {\n        class: \"back-btn\",\n        icon: \"assets/icon/arrow-back.svg\",\n        onClick: handleBack\n      }),\n      _createVNode(SearchForm, {\n        ref_key: \"searchForm\",\n        ref: searchForm,\n        type: _unref(EntitiesEnum).Facilities,\n        \"hide-results\": \"\",\n        onSearch: search,\n        \"hidden-cancel\": \"\"\n      }, null, 8, [\"type\"])\n    ]),\n    content: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_unref(facilityLoading))\n          ? (_openBlock(), _createBlock(_unref(IonSpinner), {\n              key: 0,\n              name: \"lines\",\n              class: \"spinner\"\n            }))\n          : (!_unref(facilityLoading) && facilities.value?.length)\n            ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(facilities.value, (facility) => {\n                return (_openBlock(), _createBlock(SearchResult, {\n                  item: facility,\n                  key: facility.id,\n                  showRating: false,\n                  onClick: ($event: any) => (onResultItemClick(facility))\n                }, null, 8, [\"item\", \"onClick\"]))\n              }), 128))\n            : (_openBlock(), _createBlock(_unref(IonItem), { key: 2 }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(IonLabel), null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"No results found...\")\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }))\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./ChooseGymAccount.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChooseGymAccount.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ChooseGymAccount.vue?vue&type=style&index=0&id=0485689f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0485689f\"]])\n\nexport default __exports__"],"names":["useSelectedAddressStore","defineStore","state","assignedFacility","hourlyRate","remoteHourlyRate","travelRadius","useTrainerLocation","workingInGym","edit","actions","setEdit","value","this","setAssignedFacility","facility","setWorkinginGym","val","setHourlyRate","rate","setRemoteHourlyRate","setTravelRadius","radius","setUseTrainerLocation","clearState","clearAssignedFacility","_hoisted_1","class","_defineComponent","__name","setup","__props","router","useRouter","handleBack","go","searchForm","ref","searchQuery","facilitiesParams","first","page","search","length","undefined","store","onResultItemClick","query","facilityRefetch","result","facilityResult","loading","facilityLoading","refetch","useQuery","FacilitiesDocument","facilities","computed","data","onMounted","setTimeout","setFocus","_ctx","_cache","_openBlock","_createBlock","BaseLayout","header","_withCtx","_createVNode","_unref","IonBackButton","icon","onClick","SearchForm","ref_key","type","EntitiesEnum","Facilities","onSearch","content","_createElementVNode","IonSpinner","key","name","_createElementBlock","_Fragment","_renderList","SearchResult","item","id","showRating","$event","IonItem","default","IonLabel","_createTextVNode","_","__exports__"],"sourceRoot":""}