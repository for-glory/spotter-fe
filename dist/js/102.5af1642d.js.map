{"version":3,"file":"js/102.5af1642d.js","mappings":"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","sources":["webpack://spotter/./src/hooks/useFacilityId.ts","webpack://spotter/./node_modules/@capacitor-community/barcode-scanner/dist/esm/definitions.js","webpack://spotter/./node_modules/@capacitor-community/barcode-scanner/dist/esm/index.js","webpack://spotter/./src/general/views/qr/Scan.vue?3f43","webpack://spotter/./src/general/views/qr/Scan.vue"],"sourcesContent":["import { RoleEnum } from \"@/generated/graphql\";\nimport useRoles from \"./useRole\";\n\nexport default function useFacilityId() {\n  const { role: myRole } = useRoles();\n  if (\n    myRole !== RoleEnum.Manager &&\n    myRole !== RoleEnum.FacilityOwner &&\n    myRole !== RoleEnum.OrganizationOwner\n  )\n    return {};\n  const { facilities, owned_facilities } = JSON.parse(\n    localStorage.getItem(\"user\") || \"{}\"\n  );\n  const facility =\n    myRole === RoleEnum.Manager ? facilities[0] : owned_facilities[0];\n\n  return {\n    id: facility?.id,\n  };\n}\n","export var SupportedFormat;\n(function (SupportedFormat) {\n    // BEGIN 1D Product\n    /**\n     * Android only, UPC_A is part of EAN_13 according to Apple docs\n     */\n    SupportedFormat[\"UPC_A\"] = \"UPC_A\";\n    SupportedFormat[\"UPC_E\"] = \"UPC_E\";\n    /**\n     * Android only\n     */\n    SupportedFormat[\"UPC_EAN_EXTENSION\"] = \"UPC_EAN_EXTENSION\";\n    SupportedFormat[\"EAN_8\"] = \"EAN_8\";\n    SupportedFormat[\"EAN_13\"] = \"EAN_13\";\n    // END 1D Product\n    // BEGIN 1D Industrial\n    SupportedFormat[\"CODE_39\"] = \"CODE_39\";\n    /**\n     * iOS only\n     */\n    SupportedFormat[\"CODE_39_MOD_43\"] = \"CODE_39_MOD_43\";\n    SupportedFormat[\"CODE_93\"] = \"CODE_93\";\n    SupportedFormat[\"CODE_128\"] = \"CODE_128\";\n    /**\n     * Android only\n     */\n    SupportedFormat[\"CODABAR\"] = \"CODABAR\";\n    SupportedFormat[\"ITF\"] = \"ITF\";\n    /**\n     * iOS only\n     */\n    SupportedFormat[\"ITF_14\"] = \"ITF_14\";\n    // END 1D Industrial\n    // BEGIN 2D\n    SupportedFormat[\"AZTEC\"] = \"AZTEC\";\n    SupportedFormat[\"DATA_MATRIX\"] = \"DATA_MATRIX\";\n    /**\n     * Android only\n     */\n    SupportedFormat[\"MAXICODE\"] = \"MAXICODE\";\n    SupportedFormat[\"PDF_417\"] = \"PDF_417\";\n    SupportedFormat[\"QR_CODE\"] = \"QR_CODE\";\n    /**\n     * Android only\n     */\n    SupportedFormat[\"RSS_14\"] = \"RSS_14\";\n    /**\n     * Android only\n     */\n    SupportedFormat[\"RSS_EXPANDED\"] = \"RSS_EXPANDED\";\n    // END 2D\n})(SupportedFormat || (SupportedFormat = {}));\nexport var CameraDirection;\n(function (CameraDirection) {\n    CameraDirection[\"FRONT\"] = \"front\";\n    CameraDirection[\"BACK\"] = \"back\";\n})(CameraDirection || (CameraDirection = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst BarcodeScanner = registerPlugin('BarcodeScanner', {\n    web: () => import('./web').then(m => new m.BarcodeScannerWeb()),\n});\nexport * from './definitions';\nexport { BarcodeScanner };\n//# sourceMappingURL=index.js.map","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0910a45e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"scanner\"\n}\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"scanner__corner scanner__corner--tl\" }, null, -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"scanner__corner scanner__corner--tr\" }, null, -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"scanner__corner scanner__corner--br\" }, null, -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"scanner__corner scanner__corner--bl\" }, null, -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"scanner__scan\" }, null, -1))\nconst _hoisted_7 = { class: \"scanner__hint\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"scanner__hint__text\" }, \" Scan the cleintâ€™s QR-code. The code should be in the center of scanner. \", -1))\n\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport { useRouter } from \"vue-router\";\nimport { BarcodeScanner } from \"@capacitor-community/barcode-scanner\";\nimport { onMounted, onUnmounted, ref } from \"vue\";\nimport { IonIcon, toastController } from \"@ionic/vue\";\nimport CryptoJs from \"crypto-js\";\nimport useId from \"@/hooks/useId\";\nimport { useLazyQuery, useMutation } from \"@vue/apollo-composable\";\nimport {\n  FacilityItemPassDocument,\n  Query,\n  RoleEnum,\n  TrainingDocument,\n  TrainingStatesEnum,\n  CheckinByPassDocument,\n  TrainingCheckinDocument,\n  CheckinByPassMutationVariables,\n  TrainingCheckinMutationVariables,\n} from \"@/generated/graphql\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport useFacilityId from \"@/hooks/useFacilityId\";\nimport useRoles from \"@/hooks/useRole\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Scan',\n  setup(__props) {\n\nconst router = useRouter();\n\nconst back = () => {\n  router.go(-1);\n};\n\nconst scanActive = ref<boolean>(true);\n\nonMounted(() => {\n  startScanner();\n});\n\nonUnmounted(() => {\n  stopScanner();\n});\n\nconst checkPermission = () => {\n  return new Promise((resolve, reject) => {\n    BarcodeScanner.checkPermission({ force: true })\n      .then((status) => {\n        if (status.granted) {\n          resolve(true);\n        } else if (status.denied) {\n          BarcodeScanner.openAppSettings();\n          reject(false);\n        }\n      })\n      .catch((err) => {\n        console.log(\"check permission error: \", err);\n      });\n  });\n};\n\nconst startScanner = async () => {\n  const allowed = await checkPermission();\n\n  if (allowed) {\n    scanActive.value = true;\n    BarcodeScanner.hideBackground();\n    document.body.classList.add(\"bg-transparent\");\n\n    const result = await BarcodeScanner.startScan();\n\n    if (result.hasContent && result.content) {\n      scanActive.value = false;\n      const { id: myId } = useId();\n      const { role } = useRoles();\n      const { id: myFacilityId } = useFacilityId();\n      const res = CryptoJs.AES.decrypt(\n        result.content,\n        role === RoleEnum.Trainer ? myId : myFacilityId\n      )\n        .toString(CryptoJs.enc.Utf8)\n        .split(\"/\");\n\n      switch (res[0]) {\n        case \"facilityPass\":\n          return getFacilityPass(FacilityItemPassDocument, { id: res[1] });\n\n        case \"training\":\n          return getTraining(TrainingDocument, { id: res[1] });\n\n        case \"event\":\n          return router.push({\n            name: EntitiesEnum.Session,\n            params: { id: res[1] },\n            query: {\n              userId: res[2],\n              type: EntitiesEnum.Event,\n            },\n          });\n\n        default: {\n          showToast(\"Nothing found!\", \"warning-toast\");\n          startScanner();\n          break;\n        }\n      }\n    } else {\n      startScanner();\n    }\n  } else {\n    showToast(\"Permission not allowed!\", \"warning-toast\");\n    back();\n  }\n};\n\nconst showToast = async (message: string, cssClass: string) => {\n  const toast = await toastController.create({\n    message,\n    cssClass,\n    duration: 2000,\n    icon: \"assets/icon/info.svg\",\n  });\n  toast.present();\n};\n\nconst stopScanner = () => {\n  document.body.classList.remove(\"bg-transparent\");\n  BarcodeScanner.stopScan();\n  scanActive.value = false;\n};\n\nconst {\n  onResult: checkFacilityPass,\n  load: getFacilityPass,\n  onError: facilityPassError,\n} = useLazyQuery<Pick<Query, \"facilityItemPass\">>(FacilityItemPassDocument);\n\nfacilityPassError(() => {\n  startScanner();\n});\n\nconst {\n  mutate: checkinByPass,\n  onDone: byPassCheckedIn,\n  onError: byPassCheckinError,\n} = useMutation(CheckinByPassDocument);\n\ncheckFacilityPass((facilityPassResult) => {\n  const facilityItemPass = facilityPassResult.data.facilityItemPass;\n\n  if (!facilityItemPass?.is_active_pass)\n    return showToast(\"This GYM pass is not active\", \"warning-toast\");\n\n  const { id: myId } = useId();\n  const checkinByPassVariables: CheckinByPassMutationVariables = {\n    input: {\n      facility_item_pass_id: facilityItemPass.id,\n      manager_id: myId,\n    },\n  };\n\n  checkinByPass(checkinByPassVariables);\n});\n\nbyPassCheckinError((error) => {\n  showToast(error.message, \"danger-toast\");\n});\n\nbyPassCheckedIn((response) => {\n  showToast(\n    `${response.data.checkinByPass.user.first_name} ${response.data.checkinByPass.user.last_name} successfully checked in`,\n    \"success-toast\"\n  );\n\n  router.push({\n    name: EntitiesEnum.Session,\n    params: { id: response.data.checkinByPass.id },\n    query: {\n      type: EntitiesEnum.Facility,\n    },\n  });\n});\n\nconst {\n  onResult: checkTraining,\n  load: getTraining,\n  onError: trainingError,\n} = useLazyQuery<Pick<Query, \"training\">>(TrainingDocument);\n\ntrainingError(() => {\n  startScanner();\n});\n\nconst {\n  mutate: trainingCheckin,\n  onDone: trainingCheckedIn,\n  onError: trainingCheckinError,\n} = useMutation(TrainingCheckinDocument);\n\ncheckTraining((trainingResult) => {\n  const training = trainingResult.data.training;\n  if (training.state !== TrainingStatesEnum.Accepted) {\n    if (training.state === TrainingStatesEnum.Started)\n      return router.push({\n        name: EntitiesEnum.Session,\n        params: { id: training.id },\n        query: {\n          type: EntitiesEnum.Training,\n        },\n      });\n\n    return showToast(\n      `Error! Training status is ${training.state}`,\n      \"warning-toast\"\n    );\n  }\n\n  const trainingCheckinParams: TrainingCheckinMutationVariables = {\n    input: {\n      training_id: training.id,\n      user_id: training.user.id,\n    },\n  };\n\n  trainingCheckin(trainingCheckinParams);\n});\n\ntrainingCheckinError((error) => {\n  showToast(error.message, \"danger-toast\");\n});\n\ntrainingCheckedIn((response) => {\n  showToast(\n    `Training with ${response.data.training.user.first_name} ${response.data.training.user.last_name} was started`,\n    \"success-toast\"\n  );\n\n  router.push({\n    name: EntitiesEnum.Session,\n    params: { id: response.data.training.id },\n    query: {\n      type: EntitiesEnum.Training,\n    },\n  });\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseLayout, { \"hide-navigation-menu\": \"\" }, {\n    header: _withCtx(() => [\n      _createVNode(PageHeader, {\n        class: \"header\",\n        title: \"Scan code\",\n        \"back-btn\": \"\",\n        onBack: back,\n        transparent: \"\"\n      })\n    ]),\n    content: _withCtx(() => [\n      (scanActive.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _hoisted_2,\n            _hoisted_3,\n            _hoisted_4,\n            _hoisted_5,\n            _hoisted_6,\n            _createElementVNode(\"div\", _hoisted_7, [\n              _createVNode(_unref(IonIcon), {\n                class: \"scanner__hint__icon\",\n                src: \"assets/icon/scanner.svg\"\n              }),\n              _hoisted_8\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./Scan.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Scan.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Scan.vue?vue&type=style&index=0&id=0910a45e&lang=scss&scoped=true\"\nimport \"./Scan.vue?vue&type=style&index=1&id=0910a45e&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0910a45e\"]])\n\nexport default __exports__"],"names":["useFacilityId","role","myRole","useRoles","RoleEnum","Manager","FacilityOwner","OrganizationOwner","facilities","owned_facilities","JSON","parse","localStorage","getItem","facility","id","SupportedFormat","CameraDirection","BarcodeScanner","web","then","m","BarcodeScannerWeb","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","key","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_defineComponent","__name","setup","__props","router","useRouter","back","go","scanActive","ref","onMounted","startScanner","onUnmounted","stopScanner","checkPermission","Promise","resolve","reject","force","status","granted","denied","openAppSettings","catch","err","console","log","async","allowed","value","hideBackground","document","body","classList","add","result","startScan","hasContent","content","myId","useId","myFacilityId","res","CryptoJs","decrypt","Trainer","toString","Utf8","split","getFacilityPass","FacilityItemPassDocument","getTraining","TrainingDocument","push","name","EntitiesEnum","Session","params","query","userId","type","Event","showToast","message","cssClass","toast","toastController","create","duration","icon","present","remove","stopScan","onResult","checkFacilityPass","load","onError","facilityPassError","useLazyQuery","mutate","checkinByPass","onDone","byPassCheckedIn","byPassCheckinError","useMutation","CheckinByPassDocument","facilityPassResult","facilityItemPass","data","is_active_pass","checkinByPassVariables","input","facility_item_pass_id","manager_id","error","response","user","first_name","last_name","Facility","checkTraining","trainingError","trainingCheckin","trainingCheckedIn","trainingCheckinError","TrainingCheckinDocument","trainingResult","training","state","TrainingStatesEnum","Accepted","Started","Training","trainingCheckinParams","training_id","user_id","_ctx","_cache","_openBlock","_createBlock","BaseLayout","header","_withCtx","_createVNode","PageHeader","title","onBack","transparent","_createElementBlock","_unref","IonIcon","src","_createCommentVNode","_","__exports__"],"sourceRoot":""}