{"version":3,"file":"js/415.627841b9.js","mappings":"0QAGA,MACMA,EAAa,CAAEC,MAAO,WAa5B,OAA4BC,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,QACRC,MAAMC,GAER,MAAMC,GAASC,EAAAA,EAAAA,MACTC,EAASA,KACbC,EAAqBC,OAAQ,CAAI,EAG7BD,GAAuBE,EAAAA,EAAAA,KAAI,GAE3BC,EAAsBC,IAC1BJ,EAAqBC,OAAQ,EACzBG,IACFC,EAAUJ,OAAOK,aACjBT,EAAOU,IAAI,G,GAKbC,OAAQC,EACRC,QAASC,EACTC,OAAQC,IACNC,EAAAA,EAAAA,IAAYC,EAAAA,IAEVC,EAAeC,IACnBR,EAAkB,CAAEQ,SAAQ,EAGxBZ,GAAYH,EAAAA,EAAAA,IAA6B,MAE/CW,GAAa,KACXK,IACAb,EAAUJ,OAAOK,aACjBT,EAAOU,IAAI,EAAE,IAGf,MAAMW,EAAmBC,UACvB,MAAMC,QAAcC,EAAAA,GAAgBC,OAAO,CACzCC,QAAS,gCACTC,SAAU,IACVC,KAAM,0BACNC,SAAU,kBAEZ,OAAON,EAAMO,SAAS,EAGxB,MAAO,CAACC,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoBC,EAAAA,GAAW,KAAM,EACzDC,EAAAA,EAAAA,IAAaC,EAAAA,EAAY,CAAE,uBAAwB,IAAM,CACvDC,QAAQC,EAAAA,EAAAA,KAAS,IAAM,EACrBH,EAAAA,EAAAA,IAAaI,EAAAA,EAAY,CACvB,WAAY,GACZtC,OAAQA,EACRuC,MAAO,oBAGXC,SAASH,EAAAA,EAAAA,KAAS,IAAM,EACtBI,EAAAA,EAAAA,GAAoB,MAAOjD,EAAY,EACrC0C,EAAAA,EAAAA,IAAaQ,EAAAA,EAAW,CACtBC,QAAS,YACTxC,IAAKG,EACLsC,SAAU3B,EACVN,SAASkC,EAAAA,EAAAA,IAAOjC,IACf,KAAM,EAAG,CAAC,iBAGjBkC,EAAG,KAELZ,EAAAA,EAAAA,IAAaa,EAAAA,EAAgB,CAC3B,UAAW9C,EAAqBC,MAChC8C,QAAS5C,GACR,KAAM,EAAG,CAAC,aACZ,IAEL,I,WCtFA,MAAM6C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://spotter/./src/general/views/events/create/Index.vue?4d35","webpack://spotter/./src/general/views/events/create/Index.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, withCtx as _withCtx, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-762c8771\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"content\" }\n\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport EventForm from \"@/general/components/forms/EventForm.vue\";\nimport DiscardChanges from \"@/general/components/modals/confirmations/DiscardChanges.vue\";\nimport { useRouter } from \"vue-router\";\nimport { ref } from \"vue\";\nimport { toastController } from \"@ionic/vue\";\nimport { CreateEventDocument, CreateEventInput } from \"@/generated/graphql\";\nimport { useMutation } from \"@vue/apollo-composable\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Index',\n  setup(__props) {\n\nconst router = useRouter();\nconst onBack = () => {\n  isConfirmedModalOpen.value = true;\n};\n\nconst isConfirmedModalOpen = ref(false);\n\nconst discardModalClosed = (approved: boolean) => {\n  isConfirmedModalOpen.value = false;\n  if (approved) {\n    eventForm.value?.clearStore();\n    router.go(-1);\n  }\n};\n\nconst {\n  mutate: createEventMutate,\n  loading: eventOnCreation,\n  onDone: eventCreated,\n} = useMutation(CreateEventDocument);\n\nconst createEvent = (input: CreateEventInput) => {\n  createEventMutate({ input });\n};\n\nconst eventForm = ref<typeof EventForm | null>(null);\n\neventCreated(() => {\n  showSuccessToast();\n  eventForm.value?.clearStore();\n  router.go(-1);\n});\n\nconst showSuccessToast = async () => {\n  const toast = await toastController.create({\n    message: \"Succesfully created the event\",\n    duration: 2000,\n    icon: \"assets/icon/success.svg\",\n    cssClass: \"success-toast\",\n  });\n  return toast.present();\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(BaseLayout, { \"hide-navigation-menu\": \"\" }, {\n      header: _withCtx(() => [\n        _createVNode(PageHeader, {\n          \"back-btn\": \"\",\n          onBack: onBack,\n          title: \"Create event\"\n        })\n      ]),\n      content: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_1, [\n          _createVNode(EventForm, {\n            ref_key: \"eventForm\",\n            ref: eventForm,\n            onSubmit: createEvent,\n            loading: _unref(eventOnCreation)\n          }, null, 8, [\"loading\"])\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(DiscardChanges, {\n      \"is-open\": isConfirmedModalOpen.value,\n      onClose: discardModalClosed\n    }, null, 8, [\"is-open\"])\n  ], 64))\n}\n}\n\n})","import script from \"./Index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=762c8771&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-762c8771\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_defineComponent","__name","setup","__props","router","useRouter","onBack","isConfirmedModalOpen","value","ref","discardModalClosed","approved","eventForm","clearStore","go","mutate","createEventMutate","loading","eventOnCreation","onDone","eventCreated","useMutation","CreateEventDocument","createEvent","input","showSuccessToast","async","toast","toastController","create","message","duration","icon","cssClass","present","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","_createVNode","BaseLayout","header","_withCtx","PageHeader","title","content","_createElementVNode","EventForm","ref_key","onSubmit","_unref","_","DiscardChanges","onClose","__exports__"],"sourceRoot":""}