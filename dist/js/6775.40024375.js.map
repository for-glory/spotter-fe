{"version":3,"file":"js/6775.40024375.js","mappings":"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","sources":["webpack://spotter/./src/general/helpers/getSumForPayment.ts","webpack://spotter/./src/general/components/AddressItem.vue?bd05","webpack://spotter/./src/general/components/AddressItem.vue","webpack://spotter/./src/general/components/RatingNumber.vue?ed53","webpack://spotter/./src/general/components/RatingNumber.vue","webpack://spotter/./src/general/components/base/BaseItem.vue?4f44","webpack://spotter/./src/general/components/base/BaseItem.vue","webpack://spotter/./src/helpers/history-orders-data.ts","webpack://spotter/./src/general/views/profile/BookingHistory.vue?e88d","webpack://spotter/./src/general/views/profile/BookingHistory.vue"],"sourcesContent":["export const getSumForPayment = (sum: number | string, isFormatted = false) =>\n  isFormatted ? (Number(sum) / 100).toFixed(2) : Number(sum) * 100;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeClass as _normalizeClass, createVNode as _createVNode, renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { IonIcon } from \"@ionic/vue\";\nimport { withDefaults } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AddressItem',\n  props: {\n    large: { type: Boolean, default: false }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([{ 'address--large': _ctx.large }, \"address\"])\n  }, [\n    _createVNode(_unref(IonIcon), {\n      class: _normalizeClass([{ 'address__icon--large': _ctx.large }, \"address__icon\"]),\n      src: \"assets/icon/location.svg\"\n    }, null, 8, [\"class\"]),\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 2))\n}\n}\n\n})","import script from \"./AddressItem.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AddressItem.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AddressItem.vue?vue&type=style&index=0&id=1aaae496&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1aaae496\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, unref as _unref, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { withDefaults } from \"vue\";\nimport { IonText } from \"@ionic/vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'RatingNumber',\n  props: {\n    color: { default: \"primary\" }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonText), {\n    color: _ctx.color,\n    class: _normalizeClass([\"rating-number\", `rating-number--${_ctx.color}`]),\n    style: _normalizeStyle({ '--border-color': `var(--ion-color-${_ctx.color})` })\n  }, {\n    default: _withCtx(() => [\n      _renderSlot(_ctx.$slots, \"default\")\n    ]),\n    _: 3\n  }, 8, [\"color\", \"class\", \"style\"]))\n}\n}\n\n})","import script from \"./RatingNumber.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RatingNumber.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./RatingNumber.vue?vue&type=style&index=0&id=436066f8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-436066f8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, renderSlot as _renderSlot, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-35c74582\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = { class: \"item__holder\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"item__end\"\n}\n\nimport { IonThumbnail, IonItem, IonLabel, IonText } from \"@ionic/vue\";\nimport AddressItem from \"@/general/components/AddressItem.vue\";\n\nimport RatingNumber from \"@/general/components/RatingNumber.vue\";\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseItem',\n  props: {\n    title: {},\n    avatarUrl: {},\n    address: {},\n    date: {},\n    rating: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonItem), {\n    lines: \"none\",\n    class: \"item\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(IonThumbnail), { class: \"item__photo\" }, {\n        default: _withCtx(() => [\n          (_ctx.avatarUrl)\n            ? (_openBlock(), _createElementBlock(\"img\", {\n                key: 0,\n                src: _ctx.avatarUrl,\n                class: \"item__img\"\n              }, null, 8, _hoisted_1))\n            : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                _createTextVNode(_toDisplayString(_ctx.title.charAt(0)), 1)\n              ], 64))\n        ]),\n        _: 1\n      }),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"item__header\", { 'item__header--offset': _ctx.$slots.end }])\n        }, [\n          _createVNode(_unref(IonLabel), { class: \"item__title\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.title), 1)\n            ]),\n            _: 1\n          }),\n          (_ctx.rating)\n            ? (_openBlock(), _createBlock(RatingNumber, { key: 0 }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_ctx.rating), 1)\n                ]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true)\n        ], 2),\n        (_ctx.$slots.end)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n              _renderSlot(_ctx.$slots, \"end\")\n            ]))\n          : _createCommentVNode(\"\", true),\n        (_ctx.date)\n          ? (_openBlock(), _createBlock(_unref(IonText), {\n              key: 1,\n              class: \"item__date\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.date), 1)\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true),\n        (_ctx.address)\n          ? (_openBlock(), _createBlock(AddressItem, {\n              key: 2,\n              class: \"item__address\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.address), 1)\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    _: 3\n  }))\n}\n}\n\n})","import script from \"./BaseItem.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BaseItem.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BaseItem.vue?vue&type=style&index=0&id=35c74582&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-35c74582\"]])\n\nexport default __exports__","import { getSumForPayment } from \"@/general/helpers/getSumForPayment\";\nimport { Orderable } from \"@/generated/graphql\";\nimport { OrderHistoryType } from \"@/ts/types/orders\";\nimport dayjs from \"dayjs\";\n\nexport const getHistoryOrdersData = (item: Orderable, price: number) => {\n  const ordersData: OrderHistoryType[] = [];\n\n  switch (item?.__typename) {\n    case \"TrainerRate\":\n      item.user &&\n        ordersData.push({\n          id: item.user.id,\n          date: dayjs(item.user.created_at).format(\"DD MMM\"),\n          rating: item.user.score?.toFixed(1),\n          title: `${item.user?.first_name} ${item.user?.last_name}`,\n          previewUrl: item.user?.avatarUrl,\n          address: item.user?.facilities?.length\n            ? item.user?.facilities[0]?.address?.street\n            : \"Training at client's location\",\n          price: item.front_price,\n        });\n      break;\n    case \"FacilityItem\":\n      ordersData.push({\n        id: item.facility.id,\n        title: item.facility.name || \"\",\n        rating: item.facility.score?.toFixed(1),\n        date: item.facility.productItems?.length\n          ? dayjs(item.facility.productItems[0]?.created_at).format(\"DD MMM\")\n          : \"\",\n        previewUrl: item?.facility?.media?.length\n          ? item?.facility?.media[0]?.pathUrl\n          : \"\",\n        address: item?.facility?.address?.street || \"\",\n        price: getSumForPayment(price, true),\n      });\n      break;\n    case \"Event\":\n      ordersData.push({\n        id: item.id,\n        title: item.title,\n        rating: \"0.0\",\n        date: dayjs(item.start_date).format(\"DD MMM\"),\n        previewUrl: item.media?.length ? item.media[0]?.pathUrl : \"\",\n        address: item.address?.street,\n        price: getSumForPayment(price, true),\n      });\n      break;\n    case \"Workout\":\n      ordersData.push({\n        id: item.id,\n        title: item.title,\n        previewUrl: item.previewUrl,\n        price: getSumForPayment(price, true),\n      });\n      break;\n    default:\n      break;\n  }\n  return ordersData;\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-55ae42e3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 1,\n  class: \"booking-items\"\n}\n\nimport {\n  IonText,\n  IonInfiniteScrollContent,\n  IonInfiniteScroll,\n  InfiniteScrollCustomEvent,\n  IonSpinner,\n} from \"@ionic/vue\";\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport BaseItem from \"@/general/components/base/BaseItem.vue\";\nimport { useRouter } from \"vue-router\";\nimport { useQuery } from \"@vue/apollo-composable\";\nimport {\n  Order,\n  OrderItem,\n  OrdersDocument,\n  OrdersQuery,\n  QueryTrainerTrainingsOrderByColumn,\n  RoleEnum,\n  SortOrder,\n  TrainerTrainingsDocument,\n  TrainerTrainingsQuery,\n  Training,\n  TrainingStatesEnum,\n  TransactionStatesEnum,\n} from \"@/generated/graphql\";\nimport { computed, ref } from \"vue\";\nimport { OrderHistoryType } from \"@/ts/types/orders\";\nimport { getHistoryOrdersData } from \"@/helpers/history-orders-data\";\nimport useRoles from \"@/hooks/useRole\";\nimport dayjs from \"dayjs\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BookingHistory',\n  setup(__props) {\n\nconst router = useRouter();\nconst orders = ref<OrderHistoryType[]>([]);\nconst quantity = ref(50);\nconst page = ref(1);\nconst loading = ref(true);\nconst { role } = useRoles();\n\nconst onBack = () => {\n  router.go(-1);\n};\n\nconst { result, onResult, refetch } = useQuery<OrdersQuery>(\n  OrdersDocument,\n  {\n    first: quantity.value,\n    page: page.value,\n    state: [TransactionStatesEnum.Canceled],\n  },\n  () => ({\n    enabled: role === RoleEnum.User,\n  })\n);\n\nconst { result: trainerTrainingsResult, onResult: onTrainerTrainingsResult } =\n  useQuery<TrainerTrainingsQuery>(\n    TrainerTrainingsDocument,\n    {\n      first: quantity.value,\n      page: page.value,\n      states: [TrainingStatesEnum.Finished],\n      orderBy: [\n        {\n          column: QueryTrainerTrainingsOrderByColumn.StartDate,\n          order: SortOrder.Desc,\n        },\n      ],\n    },\n    () => ({\n      enabled: role === RoleEnum.Trainer,\n    })\n  );\n\nconst userTotal = computed(() => result.value?.orders?.paginatorInfo.total);\n\nconst trainerTotal = computed(\n  () => trainerTrainingsResult.value?.trainerTrainings?.paginatorInfo?.total\n);\n\nconst total = computed(() => userTotal.value || trainerTotal.value);\n\nonResult(({ data }) => {\n  const ordersData: OrderHistoryType[] = [];\n\n  data?.orders?.data?.forEach((order: Order) => {\n    order.items.forEach((item: OrderItem) => {\n      ordersData.push(...getHistoryOrdersData(item.orderable, item.price));\n    });\n  });\n\n  orders.value = [...orders.value, ...ordersData];\n\n  loading.value = false;\n});\n\nonTrainerTrainingsResult(({ data }) => {\n  const ordersData: OrderHistoryType[] = [];\n\n  data?.trainerTrainings?.data?.forEach((training: Training) => {\n    ordersData.push({\n      id: training.id,\n      date: dayjs(training.start_date).format(\"DD MMM\"),\n      rating: \"\",\n      title: `${training.user?.first_name} ${training.user?.last_name}`,\n      previewUrl: training.user?.avatarUrl,\n      address: training?.address_string || \"\",\n      price: training.order?.total / 100,\n    });\n  });\n  orders.value = [...orders.value, ...ordersData];\n\n  loading.value = false;\n});\n\nconst loadData = (ev: InfiniteScrollCustomEvent) => {\n  if (page.value * quantity.value < Number(total.value)) {\n    page.value = page.value + 1;\n    refetch({ first: quantity.value, page: page.value });\n    ev.target.complete();\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseLayout, { \"hide-navigation-menu\": \"\" }, {\n    header: _withCtx(() => [\n      _createVNode(PageHeader, {\n        \"back-btn\": \"\",\n        title: \"Booking history\",\n        onBack: onBack\n      })\n    ]),\n    content: _withCtx(() => [\n      (loading.value)\n        ? (_openBlock(), _createBlock(_unref(IonSpinner), {\n            key: 0,\n            class: \"spinner\"\n          }))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(orders.value, (order) => {\n              return (_openBlock(), _createBlock(BaseItem, {\n                key: order.id,\n                title: order.title,\n                rating: order.rating,\n                date: order.date,\n                avatarUrl: order.previewUrl,\n                address: order.address,\n                price: order.price\n              }, {\n                end: _withCtx(() => [\n                  _createVNode(_unref(IonText), { class: \"booking-item__price\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" $\" + _toDisplayString(order.price), 1)\n                    ]),\n                    _: 2\n                  }, 1024)\n                ]),\n                _: 2\n              }, 1032, [\"title\", \"rating\", \"date\", \"avatarUrl\", \"address\", \"price\"]))\n            }), 128)),\n            (page.value * quantity.value < Number(total.value))\n              ? (_openBlock(), _createBlock(_unref(IonInfiniteScroll), {\n                  key: 0,\n                  threshold: \"100px\",\n                  onIonInfinite: loadData\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonInfiniteScrollContent), {\n                      \"loading-spinner\": \"lines\",\n                      \"loading-text\": \"Loading more data...\"\n                    })\n                  ]),\n                  _: 1\n                }))\n              : _createCommentVNode(\"\", true)\n          ]))\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./BookingHistory.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BookingHistory.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BookingHistory.vue?vue&type=style&index=0&id=55ae42e3&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-55ae42e3\"]])\n\nexport default __exports__"],"names":["getSumForPayment","sum","isFormatted","Number","toFixed","_defineComponent","__name","props","large","type","Boolean","default","setup","__props","_ctx","_cache","_openBlock","_createElementBlock","class","_normalizeClass","_createVNode","_unref","IonIcon","src","_renderSlot","$slots","__exports__","color","_createBlock","IonText","style","_normalizeStyle","_withCtx","_","_hoisted_1","_hoisted_2","_hoisted_3","key","title","avatarUrl","address","date","rating","IonItem","lines","IonThumbnail","_Fragment","_createTextVNode","_toDisplayString","charAt","_createElementVNode","end","IonLabel","RatingNumber","_createCommentVNode","AddressItem","getHistoryOrdersData","item","price","ordersData","__typename","user","push","id","dayjs","created_at","format","score","first_name","last_name","previewUrl","facilities","length","street","front_price","facility","name","productItems","media","pathUrl","start_date","router","useRouter","orders","ref","quantity","page","loading","role","useRoles","onBack","go","result","onResult","refetch","useQuery","OrdersDocument","first","value","state","TransactionStatesEnum","Canceled","enabled","RoleEnum","User","trainerTrainingsResult","onTrainerTrainingsResult","TrainerTrainingsDocument","states","TrainingStatesEnum","Finished","orderBy","column","QueryTrainerTrainingsOrderByColumn","StartDate","order","SortOrder","Desc","Trainer","userTotal","computed","paginatorInfo","total","trainerTotal","trainerTrainings","data","forEach","items","orderable","training","address_string","loadData","ev","target","complete","BaseLayout","header","PageHeader","content","IonSpinner","_renderList","BaseItem","IonInfiniteScroll","threshold","onIonInfinite","IonInfiniteScrollContent"],"sourceRoot":""}