{"version":3,"file":"js/9507.a82c7880.js","mappings":"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","sources":["webpack://spotter/./node_modules/@capacitor/share/dist/esm/index.js","webpack://spotter/./src/general/helpers/getSumForPayment.ts","webpack://spotter/./src/helpers/date-formater.ts","webpack://spotter/./src/general/components/blocks/AdvantageItem.vue?5903","webpack://spotter/./src/general/components/blocks/AdvantageItem.vue","webpack://spotter/./src/general/components/blocks/Info.vue?7714","webpack://spotter/./src/general/components/blocks/Info.vue","webpack://spotter/./src/general/views/events/Details.vue?ad26","webpack://spotter/./src/general/views/events/Details.vue"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst Share = registerPlugin('Share', {\n    web: () => import('./web').then(m => new m.ShareWeb()),\n});\nexport * from './definitions';\nexport { Share };\n//# sourceMappingURL=index.js.map","export const getSumForPayment = (sum: number | string, isFormatted = false) =>\n  isFormatted ? (Number(sum) / 100).toFixed(2) : Number(sum) * 100;\n","import dayjs from \"dayjs\";\n\nconst formateDate = (date: string, format = \"DD MMM, h:mm A\") => {\n  return dayjs(date).format(format);\n};\n\nconst formateDayMonth = (date: string, format = \"DD MMMM\") => {\n  return dayjs(date).format(format);\n};\n\nconst timeConvertToHuman = (n: number) => {\n  const num = n;\n  const hours = num / 60;\n  const rhours = Math.floor(hours);\n  const minutes = (hours - rhours) * 60;\n  const rminutes = Math.round(minutes);\n  return `${rhours > 0 ? rhours + \" h \" : \"\"}${rminutes} min`;\n};\n\nexport { formateDate, timeConvertToHuman, formateDayMonth };\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-20d89745\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"certificate\" }\n\nimport { IonIcon } from \"@ionic/vue\";\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AdvantageItem',\n  props: {\n    icon: {},\n    title: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(IonIcon), {\n      src: _ctx.icon,\n      class: \"certificate-icon\"\n    }, null, 8, [\"src\"]),\n    _createTextVNode(\" \" + _toDisplayString(_ctx.title), 1)\n  ]))\n}\n}\n\n})","import script from \"./AdvantageItem.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AdvantageItem.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AdvantageItem.vue?vue&type=style&index=0&id=20d89745&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-20d89745\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-26f5e932\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"info\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"info__block\"\n}\nconst _hoisted_3 = { class: \"info__block\" }\nconst _hoisted_4 = { class: \"info__block info__block--wide\" }\n\nimport { IonText } from \"@ionic/vue\";\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Info',\n  props: {\n    startDate: {},\n    startDateLabel: {},\n    price: {},\n    priceLabel: {},\n    members: {},\n    membersLabel: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_ctx.startDate && _ctx.startDateLabel)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createVNode(_unref(IonText), { class: \"info__main\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.startDate), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(IonText), { class: \"info__secondary\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.startDateLabel), 1)\n            ]),\n            _: 1\n          })\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_unref(IonText), { class: \"info__main\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(_ctx.price), 1)\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(IonText), { class: \"info__secondary\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(_ctx.priceLabel), 1)\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createVNode(_unref(IonText), { class: \"info__main\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(_ctx.members), 1)\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(IonText), { class: \"info__secondary\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(_ctx.membersLabel), 1)\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","import script from \"./Info.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Info.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Info.vue?vue&type=style&index=0&id=26f5e932&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-26f5e932\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-265d9c14\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"holder-content ion-padding-horizontal\" }\n\nimport { IonText, IonSpinner, actionSheetController } from \"@ionic/vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport Detail from \"@/general/components/Detail.vue\";\nimport { useMutation, useQuery } from \"@vue/apollo-composable\";\nimport {\n  AddToCartDocument,\n  AddToCartPurchasableEnum,\n  EventDocument,\n  MeDocument,\n  Media,\n  SettingsCodeEnum,\n} from \"@/generated/graphql\";\nimport AdvantageItem from \"@/general/components/blocks/AdvantageItem.vue\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport Info from \"@/general/components/blocks/Info.vue\";\nimport { formateDayMonth } from \"@/helpers/date-formater\";\nimport { computed, ref } from \"vue\";\nimport { getSumForPayment } from \"@/general/helpers/getSumForPayment\";\nimport { toastController } from \"@ionic/core\";\nimport useId from \"@/hooks/useId\";\nimport { Share } from \"@capacitor/share\";\n\n\nconst __default__ = {\n  name: \"EventDetail\",\n};\n\nexport default /*#__PURE__*/_defineComponent({\n  ...__default__,\n  setup(__props) {\n\nconst route = useRoute();\nconst router = useRouter();\nconst isTrusted = ref(false);\n\nconst { result, loading } = useQuery(\n  EventDocument,\n  {\n    id: route.params.id,\n  },\n  {\n    fetchPolicy: \"no-cache\",\n  }\n);\n\nconst { onResult: gotMe } = useQuery(\n  MeDocument,\n  {},\n  {\n    fetchPolicy: \"no-cache\",\n  }\n);\n\ngotMe(async (response) => {\n  isTrusted.value = !!response.data?.me?.settings?.find(\n    (settings: any) => settings.setting.code === SettingsCodeEnum.VerifiedUser\n  )?.value;\n});\n\nconst { mutate: addToCartMutation, loading: addToCartLoading } =\n  useMutation(AddToCartDocument);\n\nconst eventData = computed(() => ({\n  id: result?.value?.event?.id || null,\n  title: result?.value?.event?.title || \"\",\n  description: result?.value?.event?.description || \"\",\n  startDate: formateDayMonth(result?.value?.event?.start_date) || \"\",\n  endDate: result?.value?.event?.end_date || \"\",\n  price: getSumForPayment(result?.value?.event?.price, true) || \"0.00\",\n  trainerId: result?.value?.event?.trainer?.id || null,\n  address: result?.value?.event?.address?.street || \"\",\n  media:\n    result?.value?.event?.media?.map((media: Media) => media?.pathUrl) ?? [],\n  maxParticipants: result?.value?.event?.max_participants,\n  bookedCount: result?.value?.event?.booked_count || 0,\n  amenities: result?.value?.event?.amenities || \"\",\n  equipments: result?.value?.event?.equipments || \"\",\n}));\n\nconst ordered = computed(() => result?.value?.event?.was_ordered_by_me);\n\nconst amenityIcon = (icon: string) =>\n  icon?.iconUrl || `assets/icon/advantages/gym.svg`;\n\nconst onBook = () => {\n  addToCartMutation({\n    input: {\n      purchasable_id: route.params.id,\n      purchasable: AddToCartPurchasableEnum.Event,\n    },\n  })\n    .then((res) => {\n      router.push({\n        name: EntitiesEnum.EventOrder,\n        params: {\n          id: route.params.id,\n        },\n        query: {\n          cart_id: res?.data?.addToCart?.id,\n        },\n      });\n    })\n    .catch(async () => {\n      const toast = await toastController.create({\n        message: \"Something went wrong. Try again.\",\n        duration: 2000,\n        icon: \"assets/icon/info.svg\",\n        cssClass: \"warning-toast\",\n      });\n      toast.present();\n    });\n};\n\nconst { id } = useId();\n\nenum actionTypesEnum {\n  EditEvent = \"EDIT_EVENT\",\n  ShareEvent = \"SHARE_EVENT\",\n}\n\nconst onEdit = async () => {\n  const actionSheet = await actionSheetController.create({\n    mode: \"ios\",\n    buttons: [\n      {\n        text: \"Edit event\",\n        data: {\n          type: actionTypesEnum.EditEvent,\n        },\n      },\n      {\n        text: \"Share event\",\n        data: {\n          type: actionTypesEnum.ShareEvent,\n        },\n      },\n      {\n        text: \"Cancel\",\n        role: \"cancel\",\n      },\n    ],\n  });\n\n  await actionSheet.present();\n\n  const { data } = await actionSheet.onWillDismiss();\n  const type: actionTypesEnum = data?.type;\n\n  const actions = {\n    [actionTypesEnum.EditEvent]: () => editEvent(),\n    [actionTypesEnum.ShareEvent]: () => shareEvent(),\n  };\n\n  if (actions[type]) {\n    actions[type]();\n  }\n};\n\nconst editEvent = () => {\n  router.push({\n    name: EntitiesEnum.EditEvent,\n    params: { id: eventData.value.id },\n  });\n};\n\nconst shareEvent = async () => {\n  await Share.share({\n    title: result?.value?.event?.title,\n    text: result?.value?.event?.description,\n    url: `https://${process.env.VUE_APP_URL}/users/activites/event/${result?.value?.event?.id}`,\n    dialogTitle: \"Share\",\n  });\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_unref(loading))\n    ? (_openBlock(), _createBlock(_unref(IonSpinner), {\n        key: 0,\n        name: \"lines\",\n        class: \"spinner\"\n      }))\n    : (_openBlock(), _createBlock(Detail, {\n        key: 1,\n        hiddenReviews: \"\",\n        name: eventData.value?.title,\n        \"photos-url\": eventData.value?.media,\n        address: eventData.value?.address,\n        \"footer-subtitle\": \"Event\",\n        buttonText: \"Purchase Entry\",\n        advantagesTitle: \"Amenities\",\n        equipmentsTitle: \"Equipments\",\n        \"show-share-button\": eventData.value?.trainerId !== _unref(id),\n        \"edit-button\": eventData.value?.trainerId === _unref(id),\n        onHandleBook: onBook,\n        onHandleEdit: onEdit,\n        \"is-trusted\": isTrusted.value,\n        disabled: _unref(addToCartLoading),\n        ordered: ordered.value,\n        \"show-advantages\": eventData.value?.amenities.length,\n        \"show-equipments\": eventData.value?.equipments.length\n      }, {\n        info: _withCtx(() => [\n          _createVNode(Info, {\n            \"start-date\": eventData.value?.startDate || '',\n            \"start-date-label\": \"Start date\",\n            price: `$${eventData.value?.price}`,\n            \"price-label\": \"Entry\",\n            members: `${eventData.value?.bookedCount}/${eventData.value?.maxParticipants}`,\n            \"members-label\": \"Members\"\n          }, null, 8, [\"start-date\", \"price\", \"members\"])\n        ]),\n        content: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createVNode(_unref(IonText), {\n              innerHTML: eventData.value?.description || ''\n            }, null, 8, [\"innerHTML\"])\n          ])\n        ]),\n        advantages: _withCtx(() => [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(eventData.value?.amenities, (amenity, index) => {\n            return (_openBlock(), _createBlock(AdvantageItem, {\n              icon: amenityIcon(amenity),\n              title: amenity?.name,\n              key: index\n            }, null, 8, [\"icon\", \"title\"]))\n          }), 128))\n        ]),\n        equipments: _withCtx(() => [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(eventData.value?.equipments, (equipment, index) => {\n            return (_openBlock(), _createBlock(AdvantageItem, {\n              icon: amenityIcon(equipment),\n              title: equipment?.name,\n              key: index\n            }, null, 8, [\"icon\", \"title\"]))\n          }), 128))\n        ]),\n        _: 1\n      }, 8, [\"name\", \"photos-url\", \"address\", \"show-share-button\", \"edit-button\", \"is-trusted\", \"disabled\", \"ordered\", \"show-advantages\", \"show-equipments\"]))\n}\n}\n\n})","import script from \"./Details.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Details.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Details.vue?vue&type=style&index=0&id=265d9c14&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-265d9c14\"]])\n\nexport default __exports__"],"names":["Share","web","then","m","ShareWeb","getSumForPayment","sum","isFormatted","Number","toFixed","formateDayMonth","date","format","dayjs","timeConvertToHuman","n","num","hours","rhours","Math","floor","minutes","rminutes","round","_hoisted_1","class","_defineComponent","__name","props","icon","title","setup","__props","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","_unref","IonIcon","src","_createTextVNode","_toDisplayString","__exports__","_hoisted_2","key","_hoisted_3","_hoisted_4","startDate","startDateLabel","price","priceLabel","members","membersLabel","IonText","default","_withCtx","_","_createCommentVNode","_createElementVNode","__default__","name","route","useRoute","router","useRouter","isTrusted","ref","result","loading","useQuery","EventDocument","id","params","fetchPolicy","onResult","gotMe","MeDocument","async","value","response","data","me","settings","find","setting","code","SettingsCodeEnum","VerifiedUser","mutate","addToCartMutation","addToCartLoading","useMutation","AddToCartDocument","eventData","computed","event","description","start_date","endDate","end_date","trainerId","trainer","address","street","media","map","pathUrl","maxParticipants","max_participants","bookedCount","booked_count","amenities","equipments","ordered","was_ordered_by_me","amenityIcon","iconUrl","onBook","input","purchasable_id","purchasable","AddToCartPurchasableEnum","Event","res","push","EntitiesEnum","EventOrder","query","cart_id","addToCart","catch","toast","toastController","create","message","duration","cssClass","present","useId","actionTypesEnum","onEdit","actionSheet","actionSheetController","mode","buttons","text","type","EditEvent","ShareEvent","role","onWillDismiss","actions","editEvent","shareEvent","share","url","process","VUE_APP_URL","dialogTitle","_createBlock","IonSpinner","Detail","hiddenReviews","buttonText","advantagesTitle","equipmentsTitle","onHandleBook","onHandleEdit","disabled","length","info","Info","content","innerHTML","advantages","_Fragment","_renderList","amenity","index","AdvantageItem","equipment"],"sourceRoot":""}