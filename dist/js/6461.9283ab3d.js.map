{"version":3,"file":"js/6461.9283ab3d.js","mappings":"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","sources":["webpack://spotter/./src/const/schedule.ts","webpack://spotter/./src/helpers/getDefaultOpenHours.ts","webpack://spotter/./src/trainers/store/selected-address.ts","webpack://spotter/./src/trainers/views/registration/CreateProfileAccount.vue?c43a","webpack://spotter/./src/trainers/views/registration/CreateProfileAccount.vue"],"sourcesContent":["export const WEEKDAYS = {\n  monday: [],\n  tuesday: [],\n  friday: [],\n  thursday: [],\n  wednesday: [],\n  sunday: [],\n  saturday: [],\n};\n\nexport const HOURS_RANGE = {\n  monday: [],\n  tuesday: [],\n  friday: [],\n  sunday: [],\n  saturday: [],\n  thursday: [],\n  wednesday: [],\n};\n\nexport const IS_WORKING_DAYS = {\n  monday: true,\n  tuesday: true,\n  friday: true,\n  sunday: false,\n  saturday: false,\n  thursday: true,\n  wednesday: true,\n};\n","import { WEEKDAYS } from \"@/const/schedule\";\n\nexport const openHours = () => {\n  const hoursRange: string[] = [\"09:00-19:00\"];\n\n  return Object.keys(WEEKDAYS)\n    .slice(0, -2)\n    .reduce((acc: { [index: string]: string[] }, cur: string) => {\n      acc[cur] = hoursRange;\n      return acc;\n    }, {});\n};\n","import { FacilitySearchResult } from \"@/interfaces/FacilitySearchResult\";\nimport { selectedAddressStoreTypes } from \"@/ts/types/store\";\nimport { defineStore } from \"pinia\";\n\nexport const useSelectedAddressStore = defineStore(\"seleted-address\", {\n  state: (): selectedAddressStoreTypes => {\n    return {\n      assignedFacility: null,\n      hourlyRate: null,\n      remoteHourlyRate: null,\n      travelRadius: null,\n      useTrainerLocation: false,\n      workingInGym: false,\n      edit: false,\n    };\n  },\n  actions: {\n    setEdit(value: boolean) {\n      this.edit = value;\n    },\n    setAssignedFacility(facility: FacilitySearchResult) {\n      this.assignedFacility = facility;\n    },\n    setWorkinginGym(val: boolean) {\n      this.workingInGym = val;\n    },\n    setHourlyRate(rate: number) {\n      this.hourlyRate = rate;\n    },\n    setRemoteHourlyRate(rate: number) {\n      this.remoteHourlyRate = rate;\n    },\n    setTravelRadius(radius: number | null) {\n      this.travelRadius = radius;\n    },\n    setUseTrainerLocation(value: boolean) {\n      this.useTrainerLocation = value;\n    },\n    clearState() {\n      this.assignedFacility = null;\n      this.hourlyRate = null;\n      this.remoteHourlyRate = null;\n      this.travelRadius = null;\n      this.useTrainerLocation = false;\n    },\n    clearAssignedFacility() {\n      this.assignedFacility = null;\n    },\n  },\n});\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3afded2b\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"page\" }\nconst _hoisted_2 = { class: \"page__head\" }\nconst _hoisted_3 = { class: \"form-row\" }\nconst _hoisted_4 = { class: \"form-row\" }\nconst _hoisted_5 = { class: \"holder-button\" }\n\nimport { IonButton, IonText, IonTitle, IonLabel } from \"@ionic/vue\";\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport { useRouter } from \"vue-router\";\nimport { computed } from \"vue\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport { useSelectedAddressStore } from \"@/trainers/store/selected-address\";\nimport ChooseBlock from \"@/general/components/blocks/Choose.vue\";\nimport { useMutation } from \"@vue/apollo-composable\";\nimport {\n  TrainerTypeEnum,\n  SettingsCodeEnum,\n  UpdateTrainerTypeDocument,\n  UpdateUserSettingsDocument,\n} from \"@/generated/graphql\";\nimport useId from \"@/hooks/useId\";\nimport { setSettings } from \"@/hooks/useSettings\";\nimport { ProfileSettings } from \"@/ts/enums/user\";\nimport { openHours } from \"@/helpers/getDefaultOpenHours\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'CreateProfileAccount',\n  setup(__props) {\n\nconst router = useRouter();\nconst store = useSelectedAddressStore();\n\nconst onBack = () => {\n  store.clearState();\n  router.go(-1);\n};\n\nconst chosenGym = computed(() => store.assignedFacility);\nconst openChooseGym = () => {\n  router.push({\n    name: EntitiesEnum.ChooseGymAccount,\n  });\n};\n\nconst hourlyRate = computed(() =>\n  store.hourlyRate ? String(store.hourlyRate / 100) : \"\"\n);\nconst hourlyRateChange = (value: string) => {\n  store.setHourlyRate(Number(value) * 100);\n};\n\nconst {\n  loading,\n  mutate: updateTrainerType,\n  onDone: afterTrainerTypeUpdated,\n} = useMutation(UpdateTrainerTypeDocument);\n\nconst saveAddress = () => {\n  if (!chosenGym.value) return;\n  const { id } = useId();\n  updateTrainerType({\n    id,\n    trainer_type: TrainerTypeEnum.WorkingInGym,\n    facility_id: chosenGym.value.id,\n    opening_hours: JSON.stringify(openHours()),\n    settings: [\n      {\n        code: SettingsCodeEnum.HourlyRate,\n        value: Number(hourlyRate.value) * 100,\n      },\n    ],\n  });\n};\n\nconst { mutate: updateUserSettings, onDone: settingsUpdated } = useMutation(\n  UpdateUserSettingsDocument\n);\n\nafterTrainerTypeUpdated(() => {\n  setSettings([{ isAddressSelected: true }]);\n\n  const { id } = useId();\n  const front_settings = localStorage.getItem(ProfileSettings.UserSettings);\n\n  updateUserSettings({\n    id,\n    front_settings,\n  });\n});\n\nsettingsUpdated(() => {\n  store.clearState();\n  router.push({ name: EntitiesEnum.TrainersExtraPersonal });\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_base_input = _resolveComponent(\"base-input\")!\n\n  return (_openBlock(), _createBlock(BaseLayout, null, {\n    header: _withCtx(() => [\n      _createVNode(PageHeader, {\n        \"back-btn\": \"\",\n        onBack: onBack\n      })\n    ]),\n    content: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(_unref(IonTitle), {\n            class: \"page__title\",\n            color: \"primary\"\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"Business Setup\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_unref(IonText), { color: \"secondary\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Please give us more details regarding your business setup \")\n            ]),\n            _: 1\n          })\n        ]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(_unref(IonLabel), { class: \"label\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" What is the name of the gym/facility you conduct business out of? \")\n            ]),\n            _: 1\n          }),\n          _createVNode(ChooseBlock, {\n            title: \"Choose gym\",\n            value: chosenGym.value?.name,\n            onHandleClick: openChooseGym\n          }, null, 8, [\"value\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_unref(IonLabel), { class: \"label\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Set your hourly rate for trainings in the gym (USD $) \")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_base_input, {\n            type: \"number\",\n            value: hourlyRate.value,\n            \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((hourlyRate).value = $event)),\n            onChange: hourlyRateChange,\n            placeholder: \"Enter your rate per hour\"\n          }, null, 8, [\"value\"])\n        ])\n      ])\n    ]),\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createVNode(_unref(IonButton), {\n          expand: \"block\",\n          onClick: saveAddress,\n          disabled: !chosenGym.value || !hourlyRate.value?.length || _unref(loading)\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\" Next \")\n          ]),\n          _: 1\n        }, 8, [\"disabled\"])\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./CreateProfileAccount.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CreateProfileAccount.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CreateProfileAccount.vue?vue&type=style&index=0&id=3afded2b&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3afded2b\"]])\n\nexport default __exports__"],"names":["WEEKDAYS","monday","tuesday","friday","thursday","wednesday","sunday","saturday","HOURS_RANGE","IS_WORKING_DAYS","openHours","hoursRange","Object","keys","slice","reduce","acc","cur","useSelectedAddressStore","defineStore","state","assignedFacility","hourlyRate","remoteHourlyRate","travelRadius","useTrainerLocation","workingInGym","edit","actions","setEdit","value","this","setAssignedFacility","facility","setWorkinginGym","val","setHourlyRate","rate","setRemoteHourlyRate","setTravelRadius","radius","setUseTrainerLocation","clearState","clearAssignedFacility","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_defineComponent","__name","setup","__props","router","useRouter","store","onBack","go","chosenGym","computed","openChooseGym","push","name","EntitiesEnum","ChooseGymAccount","String","hourlyRateChange","Number","loading","mutate","updateTrainerType","onDone","afterTrainerTypeUpdated","useMutation","UpdateTrainerTypeDocument","saveAddress","id","useId","trainer_type","TrainerTypeEnum","WorkingInGym","facility_id","opening_hours","JSON","stringify","settings","code","SettingsCodeEnum","HourlyRate","updateUserSettings","settingsUpdated","UpdateUserSettingsDocument","setSettings","isAddressSelected","front_settings","localStorage","getItem","ProfileSettings","UserSettings","TrainersExtraPersonal","_ctx","_cache","_component_base_input","_resolveComponent","_openBlock","_createBlock","BaseLayout","header","_withCtx","_createVNode","PageHeader","content","_createElementVNode","_unref","IonTitle","color","default","_createTextVNode","_","IonText","IonLabel","ChooseBlock","title","onHandleClick","type","$event","onChange","placeholder","footer","IonButton","expand","onClick","disabled","length","__exports__"],"sourceRoot":""}