"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[9507],{94161:function(e,t,a){a.d(t,{m:function(){return i}});var n=a(29895);const i=(0,n.fo)("Share",{web:()=>a.e(4811).then(a.bind(a,24811)).then((e=>new e.ShareWeb))})},12432:function(e,t,a){a.d(t,{y:function(){return n}});const n=(e,t=!1)=>t?(Number(e)/100).toFixed(2):100*Number(e)},92781:function(e,t,a){a.d(t,{W0:function(){return s},vt:function(){return r}});var n=a(27484),i=a.n(n);const s=(e,t="DD MMMM")=>i()(e).format(t),r=e=>{const t=e,a=t/60,n=Math.floor(a),i=60*(a-n),s=Math.round(i);return`${n>0?n+" h ":""}${s} min`}},24634:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(66252),i=a(2262),s=a(3577),r=a(31810);const l={class:"certificate"};var o=(0,n.aZ)({__name:"AdvantageItem",props:{icon:{},title:{}},setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)((0,i.SU)(r.gu),{src:e.icon,class:"certificate-icon"},null,8,["src"]),(0,n.Uk)(" "+(0,s.zw)(e.title),1)]))}}),d=a(83744);const u=(0,d.Z)(o,[["__scopeId","data-v-20d89745"]]);var c=u},33735:function(e,t,a){a.d(t,{Z:function(){return p}});var n=a(66252),i=a(2262),s=a(3577),r=a(31810);const l={class:"info"},o={key:0,class:"info__block"},d={class:"info__block"},u={class:"info__block info__block--wide"};var c=(0,n.aZ)({__name:"Info",props:{startDate:{},startDateLabel:{},price:{},priceLabel:{},members:{},membersLabel:{}},setup(e){return(e,t)=>((0,n.wg)(),(0,n.iD)("div",l,[e.startDate&&e.startDateLabel?((0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)((0,i.SU)(r.yW),{class:"info__main"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.startDate),1)])),_:1}),(0,n.Wm)((0,i.SU)(r.yW),{class:"info__secondary"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.startDateLabel),1)])),_:1})])):(0,n.kq)("",!0),(0,n._)("div",d,[(0,n.Wm)((0,i.SU)(r.yW),{class:"info__main"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.price),1)])),_:1}),(0,n.Wm)((0,i.SU)(r.yW),{class:"info__secondary"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.priceLabel),1)])),_:1})]),(0,n._)("div",u,[(0,n.Wm)((0,i.SU)(r.yW),{class:"info__main"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.members),1)])),_:1}),(0,n.Wm)((0,i.SU)(r.yW),{class:"info__secondary"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.membersLabel),1)])),_:1})])]))}}),v=a(83744);const m=(0,v.Z)(c,[["__scopeId","data-v-26f5e932"]]);var p=m},72982:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});a(57658);var n=a(66252),i=a(2262),s=a(31810),r=a(22201),l=a(66578),o=a(49316),d=a(87794),u=a(24634),c=a(61081),v=a(33735),m=a(92781),p=a(12432),_=a(9905),f=a(43173),w=a(94161);const b={class:"holder-content ion-padding-horizontal"},h={name:"EventDetail"};var y=(0,n.aZ)({...h,setup(e){const t=(0,r.yj)(),a=(0,r.tv)(),h=(0,i.iH)(!1),{result:y,loading:g}=(0,o.aM)(d.il,{id:t.params.id},{fetchPolicy:"no-cache"}),{onResult:E}=(0,o.aM)(d.en,{},{fetchPolicy:"no-cache"});E((async e=>{h.value=!!e.data?.me?.settings?.find((e=>e.setting.code===d.Lm.VerifiedUser))?.value}));const{mutate:U,loading:k}=(0,o.Db)(d.Ww),S=(0,n.Fl)((()=>({id:y?.value?.event?.id||null,title:y?.value?.event?.title||"",description:y?.value?.event?.description||"",startDate:(0,m.W0)(y?.value?.event?.start_date)||"",endDate:y?.value?.event?.end_date||"",price:(0,p.y)(y?.value?.event?.price,!0)||"0.00",trainerId:y?.value?.event?.trainer?.id||null,address:y?.value?.event?.address?.street||"",media:y?.value?.event?.media?.map((e=>e?.pathUrl))??[],maxParticipants:y?.value?.event?.max_participants,bookedCount:y?.value?.event?.booked_count||0,amenities:y?.value?.event?.amenities||"",equipments:y?.value?.event?.equipments||""}))),D=(0,n.Fl)((()=>y?.value?.event?.was_ordered_by_me)),W=e=>e?.iconUrl||"assets/icon/advantages/gym.svg",Z=()=>{U({input:{purchasable_id:t.params.id,purchasable:d.ZP.Event}}).then((e=>{a.push({name:c.N.EventOrder,params:{id:t.params.id},query:{cart_id:e?.data?.addToCart?.id}})})).catch((async()=>{const e=await _.Mn.create({message:"Something went wrong. Try again.",duration:2e3,icon:"assets/icon/info.svg",cssClass:"warning-toast"});e.present()}))},{id:L}=(0,f.Z)();let M;(function(e){e["EditEvent"]="EDIT_EVENT",e["ShareEvent"]="SHARE_EVENT"})(M||(M={}));const q=async()=>{const e=await s.BO.create({mode:"ios",buttons:[{text:"Edit event",data:{type:M.EditEvent}},{text:"Share event",data:{type:M.ShareEvent}},{text:"Cancel",role:"cancel"}]});await e.present();const{data:t}=await e.onWillDismiss(),a=t?.type,n={[M.EditEvent]:()=>T(),[M.ShareEvent]:()=>x()};n[a]&&n[a]()},T=()=>{a.push({name:c.N.EditEvent,params:{id:S.value.id}})},x=async()=>{await w.m.share({title:y?.value?.event?.title,text:y?.value?.event?.description,url:`https://${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_URL}/users/activites/event/${y?.value?.event?.id}`,dialogTitle:"Share"})};return(e,t)=>(0,i.SU)(g)?((0,n.wg)(),(0,n.j4)((0,i.SU)(s.PQ),{key:0,name:"lines",class:"spinner"})):((0,n.wg)(),(0,n.j4)(l.Z,{key:1,hiddenReviews:"",name:S.value?.title,"photos-url":S.value?.media,address:S.value?.address,"footer-subtitle":"Event",buttonText:"Purchase Entry",advantagesTitle:"Amenities",equipmentsTitle:"Equipments","show-share-button":S.value?.trainerId!==(0,i.SU)(L),"edit-button":S.value?.trainerId===(0,i.SU)(L),onHandleBook:Z,onHandleEdit:q,"is-trusted":h.value,disabled:(0,i.SU)(k),ordered:D.value,"show-advantages":S.value?.amenities.length,"show-equipments":S.value?.equipments.length},{info:(0,n.w5)((()=>[(0,n.Wm)(v.Z,{"start-date":S.value?.startDate||"","start-date-label":"Start date",price:`$${S.value?.price}`,"price-label":"Entry",members:`${S.value?.bookedCount}/${S.value?.maxParticipants}`,"members-label":"Members"},null,8,["start-date","price","members"])])),content:(0,n.w5)((()=>[(0,n._)("div",b,[(0,n.Wm)((0,i.SU)(s.yW),{innerHTML:S.value?.description||""},null,8,["innerHTML"])])])),advantages:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(S.value?.amenities,((e,t)=>((0,n.wg)(),(0,n.j4)(u.Z,{icon:W(e),title:e?.name,key:t},null,8,["icon","title"])))),128))])),equipments:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(S.value?.equipments,((e,t)=>((0,n.wg)(),(0,n.j4)(u.Z,{icon:W(e),title:e?.name,key:t},null,8,["icon","title"])))),128))])),_:1},8,["name","photos-url","address","show-share-button","edit-button","is-trusted","disabled","ordered","show-advantages","show-equipments"]))}}),g=a(83744);const E=(0,g.Z)(y,[["__scopeId","data-v-265d9c14"]]);var U=E}}]);
//# sourceMappingURL=9507.6b37dc13.js.map