{"version":3,"file":"js/5871.db6f65ee.js","mappings":"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","sources":["webpack://spotter/./src/const/schedule.ts","webpack://spotter/./src/helpers/getDefaultOpenHours.ts","webpack://spotter/./src/trainers/views/registration/ExtraFacilities.vue?6674","webpack://spotter/./src/trainers/views/registration/ExtraFacilities.vue"],"sourcesContent":["export const WEEKDAYS = {\n  monday: [],\n  tuesday: [],\n  friday: [],\n  thursday: [],\n  wednesday: [],\n  sunday: [],\n  saturday: [],\n};\n\nexport const HOURS_RANGE = {\n  monday: [],\n  tuesday: [],\n  friday: [],\n  sunday: [],\n  saturday: [],\n  thursday: [],\n  wednesday: [],\n};\n\nexport const IS_WORKING_DAYS = {\n  monday: true,\n  tuesday: true,\n  friday: true,\n  sunday: false,\n  saturday: false,\n  thursday: true,\n  wednesday: true,\n};\n","import { WEEKDAYS } from \"@/const/schedule\";\n\nexport const openHours = () => {\n  const hoursRange: string[] = [\"09:00-19:00\"];\n\n  return Object.keys(WEEKDAYS)\n    .slice(0, -2)\n    .reduce((acc: { [index: string]: string[] }, cur: string) => {\n      acc[cur] = hoursRange;\n      return acc;\n    }, {});\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, withCtx as _withCtx, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-32f4445a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"extra-facility\" }\nconst _hoisted_2 = { class: \"actions-wrapper\" }\n\nimport { ref, computed, watch } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useMutation } from \"@vue/apollo-composable\";\nimport { IonHeader, IonText, IonTitle, IonButton, IonNote } from \"@ionic/vue\";\nimport { useRouter } from \"vue-router\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport {\n  Facility,\n  SettingsCodeEnum,\n  UpdateUserDocument,\n} from \"@/generated/graphql\";\nimport { openHours } from \"@/helpers/getDefaultOpenHours\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExtraFacilities',\n  setup(__props) {\n\nconst router = useRouter();\nconst store = useStore();\n\nconst hasFacility = ref<boolean>(true);\nconst errorMessage = ref<string>(\"\");\n\nwatch(\n  () => hasFacility.value,\n  (newVal: boolean) => {\n    if (!newVal) store.dispatch(\"facility/setFacilityData\", null);\n  }\n);\n\nconst { id } = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n\nconst extraPersonal = computed(() => store.getters[\"register/extraPersonal\"]);\nconst facility = computed<Facility>(() => store.getters[\"facility/facility\"]);\n\nconst { mutate } = useMutation(UpdateUserDocument);\n\nconst onHasFacilityChecked = (checked: boolean) => {\n  hasFacility.value = checked;\n};\n\nconst onChooseGym = () => {\n  router.push({ name: EntitiesEnum.ChooseGym });\n};\n\nconst onPreview = () => {\n  router.push({ name: EntitiesEnum.ProfilePreview });\n};\n\nconst onConfirm = () => {\n  if (hasFacility.value && !facility.value) {\n    return (errorMessage.value = \"Please choose gym location\");\n  } else {\n    mutate({\n      id,\n      first_name: extraPersonal.value.firstName,\n      last_name: extraPersonal.value.lastName,\n      facility_id: facility.value?.id,\n      opening_hours: JSON.stringify(openHours()),\n      settings: [\n        {\n          code: SettingsCodeEnum.HourlyRate,\n          value: Number(extraPersonal.value.hourlyRate),\n        },\n        {\n          code: SettingsCodeEnum.DisplayGyms,\n          value: hasFacility.value,\n        },\n      ],\n    })\n      .then(() => router.push({ name: EntitiesEnum.TrainerSchedule }))\n      .catch((error) => {\n        throw new Error(error);\n      });\n  }\n};\n\nconst onBack = () => {\n  router.push({ name: EntitiesEnum.TrainersExtraPersonal });\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_page_header = _resolveComponent(\"page-header\")!\n  const _component_base_toggle = _resolveComponent(\"base-toggle\")!\n  const _component_choose_block = _resolveComponent(\"choose-block\")!\n  const _component_base_layout = _resolveComponent(\"base-layout\")!\n\n  return (_openBlock(), _createBlock(_component_base_layout, { \"header-fixed\": false }, {\n    header: _withCtx(() => [\n      _createVNode(_unref(IonHeader), { class: \"ion-no-border\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_page_header, {\n            onBack: onBack,\n            \"back-btn\": \"\"\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    content: _withCtx(() => [\n      _createVNode(_unref(IonTitle), { class: \"main-title\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Letâ€™s add more information\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(IonText), { class: \"subtitle\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" To give you a better experience we need to know more about you \")\n        ]),\n        _: 1\n      }),\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", null, [\n          _createVNode(_component_base_toggle, {\n            value: hasFacility.value,\n            onChange: onHasFacilityChecked,\n            label: \"Choose the gym if you work in it\",\n            content: \"I'm working in the gym\",\n            class: \"toggle-section\"\n          }, null, 8, [\"value\"]),\n          _createVNode(_component_choose_block, {\n            title: \"Choose gym location\",\n            value: facility.value?.name || '',\n            onHandleClick: onChooseGym,\n            class: \"choose-gym\"\n          }, null, 8, [\"value\"]),\n          _createVNode(_Transition, null, {\n            default: _withCtx(() => [\n              (errorMessage.value)\n                ? (_openBlock(), _createBlock(_unref(IonNote), { key: 0 }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(errorMessage.value), 1)\n                    ]),\n                    _: 1\n                  }))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          })\n        ])\n      ])\n    ]),\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_unref(IonButton), {\n          onClick: onPreview,\n          expand: \"block\",\n          fill: \"outline\",\n          class: \"outline-btn\"\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"Preview\")\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(IonButton), {\n          onClick: onConfirm,\n          expand: \"block\",\n          class: \"confirm-btn\"\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\"Let's start!\")\n          ]),\n          _: 1\n        })\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./ExtraFacilities.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ExtraFacilities.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ExtraFacilities.vue?vue&type=style&index=0&id=32f4445a&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-32f4445a\"]])\n\nexport default __exports__"],"names":["WEEKDAYS","monday","tuesday","friday","thursday","wednesday","sunday","saturday","HOURS_RANGE","IS_WORKING_DAYS","openHours","hoursRange","Object","keys","slice","reduce","acc","cur","_hoisted_1","class","_hoisted_2","_defineComponent","__name","setup","__props","router","useRouter","store","useStore","hasFacility","ref","errorMessage","watch","value","newVal","dispatch","id","JSON","parse","localStorage","getItem","extraPersonal","computed","getters","facility","mutate","useMutation","UpdateUserDocument","onHasFacilityChecked","checked","onChooseGym","push","name","EntitiesEnum","ChooseGym","onPreview","ProfilePreview","onConfirm","first_name","firstName","last_name","lastName","facility_id","opening_hours","stringify","settings","code","SettingsCodeEnum","HourlyRate","Number","hourlyRate","DisplayGyms","then","TrainerSchedule","catch","error","Error","onBack","TrainersExtraPersonal","_ctx","_cache","_component_page_header","_resolveComponent","_component_base_toggle","_component_choose_block","_component_base_layout","_openBlock","_createBlock","header","_withCtx","_createVNode","_unref","IonHeader","default","_","content","IonTitle","_createTextVNode","IonText","_createElementVNode","onChange","label","title","onHandleClick","_Transition","IonNote","key","_toDisplayString","_createCommentVNode","footer","IonButton","onClick","expand","fill","__exports__"],"sourceRoot":""}