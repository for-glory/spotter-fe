{"version":3,"file":"js/1598.b238e89c.js","mappings":"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","sources":["webpack://spotter/./src/general/helpers/getSumForPayment.ts","webpack://spotter/./src/users/views/trainers/ChoosePlace.vue?64ee","webpack://spotter/./src/users/views/trainers/ChoosePlace.vue"],"sourcesContent":["export const getSumForPayment = (sum: number | string, isFormatted = false) =>\n  isFormatted ? (Number(sum) / 100).toFixed(2) : Number(sum) * 100;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c1780ab2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 1,\n  class: \"radiobutton__group\"\n}\nconst _hoisted_2 = {\n  key: 0,\n  class: \"radiobutton__container\"\n}\nconst _hoisted_3 = { class: \"radiobutton__container\" }\nconst _hoisted_4 = { class: \"radiobutton__container\" }\n\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport {\n  IonRadioGroup,\n  IonRadio,\n  IonItem,\n  IonLabel,\n  IonSpinner,\n} from \"@ionic/vue\";\nimport { PlaceType } from \"@/ts/enums/user\";\nimport Choose from \"@/general/components/blocks/Choose.vue\";\nimport { onMounted, ref, watch } from \"vue\";\nimport { useQuery } from \"@vue/apollo-composable\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport { paymentGatewaysStore } from \"@/users/store/paymentGatewaysStore\";\nimport {\n  Query,\n  UserDocument,\n  TrainerTypeEnum,\n  SettingsCodeEnum,\n} from \"@/generated/graphql\";\nimport { computed } from \"@vue/reactivity\";\nimport { getSumForPayment } from \"@/general/helpers/getSumForPayment\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChoosePlace',\n  setup(__props) {\n\nconst DescriptionOfPlaces = {\n  trainerGym: \"Training in trainer’s gym\",\n  userGym: \"Training in my gym\",\n  userHome: \"Travel to my location\",\n};\n\nconst router = useRouter();\nconst route = useRoute();\nconst store = paymentGatewaysStore();\nconst chosenPlace = ref(store.place?.value);\n\nconst { result, loading } = useQuery<Pick<Query, \"user\">>(UserDocument, {\n  id: route.params.id,\n});\n\nconst hourlyRate = computed(() => {\n  const rate = result.value?.user?.settings?.find(\n    (setting) => setting.setting?.code === SettingsCodeEnum.HourlyRate\n  );\n  return rate ? getSumForPayment(rate.value, true) : \"0.00\";\n});\n\nconst remoteHourlyRate = computed(() => {\n  const rate = result.value?.user?.settings?.find(\n    (setting) => setting.setting?.code === SettingsCodeEnum.RemoteHourlyRate\n  );\n  return rate ? getSumForPayment(rate.value, true) : \"0.00\";\n});\n\nconst trainerType = computed(() => result.value?.user?.trainer_type);\n\nwatch(\n  () => chosenPlace.value,\n  (newVal) => {\n    switch (newVal) {\n      case PlaceType.TrainerGym:\n        if (\n          trainerType.value !== TrainerTypeEnum.Freelancer &&\n          trainerType.value !== TrainerTypeEnum.WorkingInGym\n        ) {\n          store.setValue(\"price\", hourlyRate.value);\n        }\n        store.setValue(\"place\", {\n          value: newVal,\n          text: DescriptionOfPlaces.trainerGym,\n        });\n        break;\n      case PlaceType.UserGym:\n        if (\n          trainerType.value !== TrainerTypeEnum.Freelancer &&\n          trainerType.value !== TrainerTypeEnum.WorkingInGym\n        ) {\n          store.setValue(\"price\", remoteHourlyRate.value);\n        }\n        store.setValue(\"place\", {\n          value: newVal,\n          text: DescriptionOfPlaces.userGym,\n        });\n        break;\n      case PlaceType.UserHome:\n        if (\n          trainerType.value !== TrainerTypeEnum.Freelancer &&\n          trainerType.value !== TrainerTypeEnum.WorkingInGym\n        ) {\n          store.setValue(\"price\", remoteHourlyRate.value);\n        }\n        store.setValue(\"facility\", null);\n        store.setValue(\"place\", {\n          value: newVal,\n          text: DescriptionOfPlaces.userHome,\n        });\n        break;\n      default:\n        break;\n    }\n  }\n);\n\nconst onChooseGym = () => {\n  router.push({ name: EntitiesEnum.ChooseGym });\n};\n\nonMounted(() => {\n  if (store.place) {\n    chosenPlace.value = store.place.value;\n  }\n});\n\nconst onBack = () => {\n  router.go(-1);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseLayout, {\n    \"hide-navigation-menu\": \"\",\n    \"header-fixed\": false,\n    \"content-full-height\": false\n  }, {\n    header: _withCtx(() => [\n      _createVNode(PageHeader, {\n        \"back-btn\": \"\",\n        onBack: onBack,\n        title: \"Choose place\",\n        class: \"page-header\"\n      })\n    ]),\n    content: _withCtx(() => [\n      (_unref(loading))\n        ? (_openBlock(), _createBlock(_unref(IonSpinner), {\n            key: 0,\n            class: \"spinner\"\n          }))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createVNode(_unref(IonRadioGroup), {\n              modelValue: chosenPlace.value,\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((chosenPlace).value = $event))\n            }, {\n              default: _withCtx(() => [\n                (_unref(trainerType) !== _unref(TrainerTypeEnum).Freelancer)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                      _createVNode(_unref(IonLabel), { class: \"radiobutton__label\" }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\" Training will be in trainer’s gym \")\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_unref(IonItem), { class: \"radiobutton\" }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(DescriptionOfPlaces.trainerGym) + \" \", 1),\n                          _createVNode(_unref(IonRadio), {\n                            class: \"radiobutton__radio\",\n                            slot: \"end\",\n                            value: _unref(PlaceType).TrainerGym\n                          }, null, 8, [\"value\"])\n                        ]),\n                        _: 1\n                      })\n                    ]))\n                  : _createCommentVNode(\"\", true),\n                _createElementVNode(\"div\", _hoisted_3, [\n                  _createVNode(_unref(IonLabel), { class: \"radiobutton__label\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" You’ll be charged for trainer visiting gym with you \")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonItem), { class: \"radiobutton\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(DescriptionOfPlaces.userGym) + \" \", 1),\n                      _createVNode(_unref(IonRadio), {\n                        class: \"radiobutton__radio\",\n                        slot: \"end\",\n                        value: _unref(PlaceType).UserGym\n                      }, null, 8, [\"value\"])\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(Choose, {\n                    title: \"Choose gym location\",\n                    value: _unref(store).facility?.name,\n                    onHandleClick: onChooseGym,\n                    class: \"choose-gym\"\n                  }, null, 8, [\"value\"])\n                ]),\n                _createElementVNode(\"div\", _hoisted_4, [\n                  _createVNode(_unref(IonLabel), { class: \"radiobutton__label\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" All details will be defined with trainer in chat \")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_unref(IonItem), { class: \"radiobutton\" }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(DescriptionOfPlaces.userHome) + \" \", 1),\n                      _createVNode(_unref(IonRadio), {\n                        class: \"radiobutton__radio\",\n                        slot: \"end\",\n                        value: _unref(PlaceType).UserHome\n                      }, null, 8, [\"value\"])\n                    ]),\n                    _: 1\n                  })\n                ])\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"])\n          ]))\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./ChoosePlace.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChoosePlace.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ChoosePlace.vue?vue&type=style&index=0&id=c1780ab2&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c1780ab2\"]])\n\nexport default __exports__"],"names":["getSumForPayment","sum","isFormatted","Number","toFixed","_hoisted_1","key","class","_hoisted_2","_hoisted_3","_hoisted_4","_defineComponent","__name","setup","__props","DescriptionOfPlaces","trainerGym","userGym","userHome","router","useRouter","route","useRoute","store","paymentGatewaysStore","chosenPlace","ref","place","value","result","loading","useQuery","UserDocument","id","params","hourlyRate","computed","rate","user","settings","find","setting","code","SettingsCodeEnum","HourlyRate","remoteHourlyRate","RemoteHourlyRate","trainerType","trainer_type","watch","newVal","PlaceType","TrainerGym","TrainerTypeEnum","Freelancer","WorkingInGym","setValue","text","UserGym","UserHome","onChooseGym","push","name","EntitiesEnum","ChooseGym","onMounted","onBack","go","_ctx","_cache","_openBlock","_createBlock","BaseLayout","header","_withCtx","_createVNode","PageHeader","title","content","_unref","IonSpinner","_createElementBlock","IonRadioGroup","modelValue","$event","default","IonLabel","_createTextVNode","_","IonItem","_toDisplayString","IonRadio","slot","_createCommentVNode","_createElementVNode","Choose","facility","onHandleClick","__exports__"],"sourceRoot":""}