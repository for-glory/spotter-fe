"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[2837],{92837:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var a=n(66252),s=n(2262),i=n(10121),u=n(19239),l=n(639),o=n(75333),c=n(22201),r=n(31810),v=n(87794),d=n(49316);const p={class:"content"};var m=(0,a.aZ)({__name:"Index",setup(e){const t=(0,c.tv)(),n=(0,c.yj)(),m=()=>{k.value=!0},f=(0,s.iH)(n.params.id),{result:g,loading:h}=(0,d.aM)(v.il,{id:f.value},{fetchPolicy:"no-cache"}),b=(0,a.Fl)((()=>{if(g.value)return{title:g.value?.event.title,description:g.value?.event.description,photos:g.value?.event.media.map((e=>({id:e.id,url:e.pathUrl}))),equipments:g.value?.event.equipments,amenities:g.value?.event.amenities}})),k=(0,s.iH)(!1),_=e=>{k.value=!1,e&&(C.value?.clearStore(),t.go(-1))},{mutate:w,loading:S,onDone:Z}=(0,d.Db)(v.CD),y=e=>{w({id:f.value,input:e})},C=(0,s.iH)(null);Z((()=>{D(),C.value?.clearStore(),t.go(-1)}));const D=async()=>{const e=await r.Mn.create({message:"Succesfully updated the event",duration:2e3,icon:"assets/icon/success.svg",cssClass:"success-toast"});return e.present()};return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(i.Z,{"hide-navigation-menu":""},{header:(0,a.w5)((()=>[(0,a.Wm)(u.Z,{"back-btn":"",onBack:m,title:"Edit event"})])),content:(0,a.w5)((()=>[(0,a._)("div",p,[(0,a.Wm)(l.Z,{edit:"",ref_key:"eventForm",ref:C,data:b.value,onSubmit:y,"submit-button-text":"Update",loading:(0,s.SU)(S)||(0,s.SU)(h)},null,8,["data","loading"])])])),_:1}),(0,a.Wm)(o.Z,{"is-open":k.value,onClose:_},null,8,["is-open"])],64))}}),f=n(83744);const g=(0,f.Z)(m,[["__scopeId","data-v-2dcb53e9"]]);var h=g}}]);
//# sourceMappingURL=2837.faa49bdc.js.map