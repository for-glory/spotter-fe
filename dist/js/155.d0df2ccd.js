"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[155],{56664:function(e,t,a){var o,n,i,l;a.d(t,{GW:function(){return n},dk:function(){return i},oK:function(){return o},pA:function(){return l}}),function(e){e["Prompt"]="PROMPT",e["Camera"]="CAMERA",e["Photos"]="PHOTOS"}(o||(o={})),function(e){e["Rear"]="REAR",e["Front"]="FRONT"}(n||(n={})),function(e){e["Uri"]="uri",e["Base64"]="base64",e["DataUrl"]="dataUrl"}(i||(i={})),function(e){e["Prompt"]="PROMPT",e["Camera"]="CAMERA",e["Library"]="LIBRARY"}(l||(l={}))},79973:function(e,t,a){a.d(t,{IZ:function(){return i},dk:function(){return n.dk},oK:function(){return n.oK},pA:function(){return n.pA}});var o=a(29895),n=a(56664);const i=(0,o.fo)("CameraPro",{web:()=>a.e(4111).then(a.bind(a,24111)).then((e=>new e.CameraProWeb))})},47209:function(e,t,a){a.d(t,{Z:function(){return g}});var o=a(66252),n=a(2262),i=a(31810),l=a(45241),s=a(79973),c=a(19312),d=a(34840);const u={class:"add-photo"},r={key:0,class:"add-photo__file__loader"};var p,m;(function(e){e["MakeAPhoto"]="MAKE_A_PHOTO",e["PhotoLibrary"]="PHOTO_LIBRARY"})(p||(p={})),function(e){e["DeletePhoto"]="DELETE_PHOTO",e["EditPhoto"]="EDIT_PHOTO"}(m||(m={}));var h=(0,o.aZ)({__name:"PhotosLoader",props:{circleShape:{type:Boolean,default:!0},photos:{},loading:{type:Boolean},progress:{},disabled:{type:Boolean,default:!1}},emits:["upload","change","delete"],setup(e,{emit:t}){const a=async(e,t)=>{const a=await i.BO.create({mode:"ios",buttons:[{text:"Take photo",data:{type:p.MakeAPhoto}},{text:"Photo library",data:{type:p.PhotoLibrary}},{text:"Cancel",role:"cancel"}]});await a.present();const{data:o}=await a.onWillDismiss(),n=o?.type,l={[p.MakeAPhoto]:()=>h(s.oK.Camera,e,t),[p.PhotoLibrary]:()=>h(s.oK.Photos,e,t)};l[n]&&l[n]()},h=async(e,t,a)=>{if((0,l.a)("capacitor")){const t=await s.IZ.requestPermissions();if(e===s.oK.Camera&&"denied"===t.camera||e===s.oK.Photos&&"denied"===t.photos){const t=await i.Cl.create({header:"Permissions denied",message:e===s.oK.Camera?"You have denied the app from using the camera":"You have denied the app access to your photos",buttons:["OK"]});return void await t.present()}}const o=await s.IZ.getPhoto({width:1e3,height:1e3,quality:100,allowEditing:!1,resultType:s.dk.Base64,source:e});g.value=`data:image/jpeg;base64,${o.base64String}`,k.value=t,_.value=a,w.value=!0},v=async(e,t)=>{const o=await i.BO.create({mode:"ios",buttons:[{text:"Delete Photo",role:"destructive",data:{type:m.DeletePhoto}},{text:"Edit Photo",data:{type:m.EditPhoto}},{text:"Cancel",role:"cancel"}]});await o.present();const{data:n}=await o.onWillDismiss(),l=n?.type,s={[m.DeletePhoto]:()=>f(e,t),[m.EditPhoto]:()=>a(e,t)};s[l]&&s[l]()},f=(e,a)=>{t("delete",e,a)},g=(0,n.iH)(""),k=(0,n.iH)(void 0),_=(0,n.iH)(void 0),w=(0,n.iH)(!1),P=e=>{w.value=e},b=e=>{void 0!==k.value?t("change",e,k.value,_.value):t("upload",e),k.value=_.value=void 0};return(e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",u,[(0,o.Wm)((0,n.SU)(i.YG),{onClick:t[0]||(t[0]=e=>a()),class:"add-photo__file",expand:"block",disabled:e.loading},{default:(0,o.w5)((()=>[(0,o.Wm)((0,n.SU)(i.gu),{src:"assets/icon/payment/plus.svg",class:"add-icon"}),e.loading?((0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(d.Z,{percent:e.progress,class:"add-photo__img__progress"},null,8,["percent"])])):(0,o.kq)("",!0)])),_:1},8,["disabled"]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.photos,((t,a)=>((0,o.wg)(),(0,o.j4)((0,n.SU)(i.YG),{key:a,class:"add-photo__img",disabled:e.loading},{default:(0,o.w5)((()=>[(0,o.Wm)((0,n.SU)(i.Xz),{onClick:e=>v(a,t.id),src:t.url},null,8,["onClick","src"])])),_:2},1032,["disabled"])))),128))]),(0,o.Wm)(c.Z,{"is-open":w.value,onSetOpen:P,file:g.value,onGetUploadedImg:b,"circle-shape":e.circleShape},null,8,["is-open","file","circle-shape"])],64))}}),v=a(83744);const f=(0,v.Z)(h,[["__scopeId","data-v-de1ede2a"]]);var g=f},5964:function(e,t,a){a.d(t,{Z:function(){return r}});var o=a(66252),n=a(2262),i=a(3577),l=a(31810);const s={key:0,class:"multiselect"};var c=(0,o.aZ)({__name:"CheckboxGroup",props:{options:{},selected:{}},emits:["change"],setup(e,{emit:t}){const a=e,c=(0,n.iH)(),d=(0,n.iH)(a.options);(0,o.YP)((()=>a.options),(e=>{d.value=e})),(0,o.bv)((()=>{a.options.map((e=>{a.selected&&(e.isChecked=a.selected.indexOf(String(e.value))>-1)})),c.value=!0}));const u=(e,a)=>{a.isChecked=e;const o=d.value.filter((e=>e.isChecked)).map((e=>e.value));t("change",o,a)};return(e,t)=>c.value?((0,o.wg)(),(0,o.iD)("div",s,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.value,(e=>((0,o.wg)(),(0,o.j4)((0,n.SU)(l.Ie),{lines:"none",class:(0,i.C_)(["checkbox",{"checkbox--checked":e.isChecked}]),key:e.id},{default:(0,o.w5)((()=>[e.iconUrl?((0,o.wg)(),(0,o.j4)((0,n.SU)(l.gu),{key:0,src:e.iconUrl,class:"checkbox-group__icon"},null,8,["src"])):(0,o.kq)("",!0),(0,o.Wm)((0,n.SU)(l.Q$),null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e?.label),1)])),_:2},1024),(0,o.Wm)((0,n.SU)(l.nz),{modelValue:e.isChecked,"onUpdate:modelValue":t=>u(t,e)},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["class"])))),128))])):(0,o.kq)("",!0)}}),d=a(83744);const u=(0,d.Z)(c,[["__scopeId","data-v-5dd5bc92"]]);var r=u},65277:function(e,t,a){a.d(t,{Z:function(){return p}});var o=a(66252),n=a(2262),i=a(31810),l=a(87794),s=a(5964),c=a(49316),d=(0,o.aZ)({__name:"EquipmentAndAmenities",emits:["cancel"],setup(e,{expose:t,emit:a}){const d=(0,n.iH)(null),u=(0,n.iH)("Amenities"),r=(0,n.iH)([]),p=(0,n.iH)([]),m={first:1e3,page:1},h=e=>{u.value=e.title||"",r.value=e.amenities||[],p.value=e.equipments||[],d?.value?.$el.present()},{result:v,loading:f}=(0,c.aM)(l.yI,m),g=(0,o.Fl)((()=>v.value?.amenities?.data.map((e=>({id:e.id,label:e.name||"",value:e.id||"",isChecked:!1,iconUrl:e.iconUrl||void 0}))))),{result:k,loading:_}=(0,c.aM)(l.rM,m),w=(0,o.Fl)((()=>k.value?.equipments?.data.map((e=>({id:e.id,label:e.name||"",value:e.id||"",isChecked:!1,iconUrl:e.iconUrl||void 0}))))),P=e=>{p.value=e},b=e=>{r.value=e},y=()=>{C()},U=()=>{a("cancel",{equipments:w.value?.filter((e=>p.value.findIndex((t=>t===e.id))>-1))||[],amenities:g.value?.filter((e=>r.value.findIndex((t=>t===e.id))>-1))||[]}),C()},C=()=>{d?.value?.$el.dismiss()};return t({present:h}),(e,t)=>{const a=(0,o.up)("ion-icon"),l=(0,o.up)("ion-button"),c=(0,o.up)("page-header");return(0,o.wg)(),(0,o.j4)((0,n.SU)(i.ki),{ref_key:"modal",ref:d},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{onBack:y,"back-btn":"",title:u.value},{"custom-btn":(0,o.w5)((()=>[(0,o.Wm)(l,{onClick:U,class:"header-btn"},{default:(0,o.w5)((()=>[(0,o.Wm)(a,{src:"assets/icon/accept.svg"})])),_:1})])),_:1},8,["title"]),(0,o.Wm)((0,n.SU)(i.W2),{class:"ion-padding-horizontal content"},{default:(0,o.w5)((()=>[(0,n.SU)(_)||(0,n.SU)(f)?((0,o.wg)(),(0,o.j4)((0,n.SU)(i.PQ),{key:0,name:"lines",class:"spinner"})):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)((0,n.SU)(i.yW),{class:"title"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Equipment ")])),_:1}),(0,o.Wm)(s.Z,{onChange:P,options:w.value||[],selected:p.value},null,8,["options","selected"]),(0,o.Wm)((0,n.SU)(i.yW),{class:"title"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Amenities ")])),_:1}),(0,o.Wm)(s.Z,{onChange:b,options:g.value||[],selected:r.value},null,8,["options","selected"])],64))])),_:1})])),_:1},512)}}}),u=a(83744);const r=(0,u.Z)(d,[["__scopeId","data-v-5a3ef406"]]);var p=r}}]);
//# sourceMappingURL=155.d0df2ccd.js.map