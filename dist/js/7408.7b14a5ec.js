"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[7408],{86789:function(e,a,l){l.r(a),l.d(a,{default:function(){return j}});l(57658);var t=l(66252),i=l(2262),s=l(3577),n=l(31810),r=l(19239),u=l(88218),v=l(23582),o=l(10121),d=l(54354),c=l(33200),_=l(36019),w=l(61081),m=l(83782),g=l(49316),p=l(87794),k=l(22201);const b={class:"rating ion-padding-horizontal"},f={class:"rating-star"},h={class:"rating-star__title"},y={class:"tabs-holder"},U={class:"content ion-padding-horizontal"},Z={key:1};var x=(0,t.aZ)({__name:"Reviews",setup(e){const a=(0,k.yj)(),l=[{name:p.dX.Recent,label:"Recent"},{name:p.dX.Positive,label:"Positive"},{name:p.dX.Negative,label:"Negative"}],x=(0,i.iH)(p.dX.Recent),S=e=>{x.value=e},W=()=>{m.Z.push({name:w.N.TrainingReview})},j=()=>{m.Z.go(-1)},{result:z,loading:F}=(0,g.aM)(p.Y_,(()=>({id:a.params.id,type:p.pP.User,review_type:x.value}))),R=(0,t.Fl)((()=>z?.value?.reviews?.data.reduce(((e,a)=>(e.push({id:a.id,date:a.created_at,rating:a.score||0,text:a.review,avatarUrl:a.author?.avatarUrl||"",fullName:`${a.author?.first_name} ${a.author?.last_name}`}),e)),[]))),{result:N,loading:P}=(0,g.aM)(p.Jx,{id:a.params.id}),C=(0,t.Fl)((()=>N.value?.user)),X=(0,t.Fl)((()=>C.value?.was_visited_by_me&&!C.value?.was_commented_by_me)),Y=(0,t.Fl)((()=>`${N.value?.user?.first_name} ${N.value?.user?.last_name}`||"")),$=(0,t.Fl)((()=>N.value?.user?.facilities[0]?.address?.street||"")),D=(0,t.Fl)((()=>C.value?.positive_reviews_count&&C.value?.negative_reviews_count&&C.value?.score?(C.value?.positive_reviews_count+C.value?.negative_reviews_count)/C.value?.score*100:0));return(e,a)=>((0,t.wg)(),(0,t.j4)(o.Z,null,{header:(0,t.w5)((()=>[(0,t.Wm)(r.Z,{onBack:j,"back-btn":"",title:"Reviews"})])),content:(0,t.w5)((()=>[(0,i.SU)(P)?((0,t.wg)(),(0,t.j4)((0,i.SU)(n.PQ),{key:0,name:"lines",class:"spinner"})):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("div",b,[(0,t._)("div",f,[(0,t._)("span",h,(0,s.zw)(C.value?.score),1),(0,t.Wm)(u.Z,{"model-value":C.value?.score||0,size:"medium"},null,8,["model-value"]),(0,t.Wm)((0,i.SU)(n.yW),{color:"medium",class:"rating-star__reviews"},{default:(0,t.w5)((()=>[(0,t.Uk)(" based on "+(0,s.zw)(C.value?.reviews_count)+" reviews ",1)])),_:1})]),(0,t.Wm)(v.Z,{likes:C.value?.positive_reviews_count||0,total:C.value?.reviews_count||0,dislikes:C.value?.negative_reviews_count||0,progressValue:D.value},null,8,["likes","total","dislikes","progressValue"])]),(0,t._)("div",y,[(0,t.Wm)(d.Z,{tabs:l,class:"page-tabs ion-padding-horizontal",value:x.value,onChange:S},null,8,["value"]),(0,t._)("div",U,[(0,i.SU)(F)?((0,t.wg)(),(0,t.j4)((0,i.SU)(n.PQ),{key:0,name:"lines",class:"spinner"})):((0,t.wg)(),(0,t.iD)("div",Z,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(R.value,(e=>((0,t.wg)(),(0,t.j4)(c.Z,{key:e.id,class:"review-item","avatar-url":e.avatarUrl,"full-name":e.fullName,date:e.date,rating:e.rating,text:e.text},null,8,["avatar-url","full-name","date","rating","text"])))),128))]))])])],64))])),footer:(0,t.w5)((()=>[(0,t.Wm)(_.Z,{loading:(0,i.SU)(P),title:Y.value,location:$.value},{button:(0,t.w5)((()=>[X.value?((0,t.wg)(),(0,t.j4)((0,i.SU)(n.YG),{key:0,expand:"block",color:"primary",class:"fixed-holder__button",onClick:W},{default:(0,t.w5)((()=>[(0,t.Uk)(" Add review ")])),_:1})):(0,t.kq)("",!0)])),_:1},8,["loading","title","location"])])),_:1}))}}),S=l(83744);const W=(0,S.Z)(x,[["__scopeId","data-v-a5565e1e"]]);var j=W}}]);
//# sourceMappingURL=7408.7b14a5ec.js.map