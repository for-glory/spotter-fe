"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[7639],{48218:function(e,a,t){t.d(a,{E:function(){return s},T:function(){return l}});var n=t(61081);const l=[{name:n.N.ActivitiesNearby,label:"Nearby"},{name:n.N.MyTraining,label:"Events"}],s=[{name:n.N.Trainings,label:"Trainings"},{name:n.N.Events,label:"Events"}]},35294:function(e,a,t){t.d(a,{Z:function(){return u}});var n=t(66252),l=t(3577),s=t(2262),i=t(31810),r=(0,n.aZ)({__name:"AddressItem",props:{large:{type:Boolean,default:!1}},setup(e){return(e,a)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,l.C_)([{"address--large":e.large},"address"])},[(0,n.Wm)((0,s.SU)(i.gu),{class:(0,l.C_)([{"address__icon--large":e.large},"address__icon"]),src:"assets/icon/location.svg"},null,8,["class"]),(0,n.WI)(e.$slots,"default")],2))}}),o=t(83744);const d=(0,o.Z)(r,[["__scopeId","data-v-1aaae496"]]);var u=d},82544:function(e,a,t){t.d(a,{Z:function(){return v}});var n=t(66252),l=t(2262),s=t(3577),i=t(31810);const r={class:"empty-block"},o={class:"empty-block__img"};var d=(0,n.aZ)({__name:"EmptyBlock",props:{title:{},text:{},buttonText:{},hideButton:{type:Boolean},icon:{default:"assets/icon/shore-run.svg"}},emits:["buttonClick"],setup(e,{emit:a}){return(e,t)=>((0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",null,[(0,n._)("div",o,[(0,n.Wm)((0,l.SU)(i.gu),{src:e.icon},null,8,["src"])]),(0,n.Wm)((0,l.SU)(i.wd),{class:"empty-block__title"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.title),1)])),_:1}),(0,n.Wm)((0,l.SU)(i.yW),{color:"medium",class:"empty-block__text"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.text),1)])),_:1}),e.hideButton?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)((0,l.SU)(i.YG),{key:0,class:"button",expand:"block",color:"primary",onClick:t[0]||(t[0]=e=>a("buttonClick"))},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.buttonText),1)])),_:1}))])]))}}),u=t(83744);const c=(0,u.Z)(d,[["__scopeId","data-v-776b8fd0"]]);var v=c},27893:function(e,a,t){t.d(a,{Z:function(){return f}});var n=t(66252),l=t(2262),s=t(3577),i=t(31810),r=t(35294),o=t(27484),d=t.n(o);const u=["src"],c={class:"event__holder"},v={key:0,class:"event__time"};var m=(0,n.aZ)({__name:"EventItem",props:{item:{},rounded:{type:Boolean,default:!1},dateRange:{type:Boolean},hideTime:{type:Boolean}},setup(e){const a=e,t=(0,n.Fl)((()=>d()(a.item.start_date).format(a.dateRange&&d()(a.item.start_date).year()!==d()(a.item.end_date).year()?"D MMM YYYY":"D MMMM"))),o=(0,n.Fl)((()=>d()(a.item.end_date).format(a.dateRange&&d()(a.item.start_date).year()!==d()(a.item.end_date).year()?"D MMM YYYY":"D MMMM"))),m=(0,n.Fl)((()=>d()(a.item.start_date).format("hh:mm A")));return(e,a)=>((0,n.wg)(),(0,n.j4)((0,l.SU)(i.Ie),{lines:"none",class:(0,s.C_)(["event",{"event--time-hidden":e.hideTime}])},{default:(0,n.w5)((()=>[(0,n.Wm)((0,l.SU)(i.Bs),{class:(0,s.C_)([{"event__photo--rounded":e.rounded},"event__photo"])},{default:(0,n.w5)((()=>[e.item?.media?.length&&e.item.media[0]?.pathUrl?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.item.media[0].pathUrl,class:"event__img"},null,8,u)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)((0,s.zw)(e.item.title?.charAt(0)),1)],64))])),_:1},8,["class"]),(0,n._)("div",c,[(0,n.Wm)((0,l.SU)(i.Q$),{class:"event__title"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.item.title),1)])),_:1}),e.dateRange||e.hideTime?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",v,[(0,n.Wm)((0,l.SU)(i.gu),{src:"assets/icon/time.svg",class:"time-icon"}),(0,n.Uk)(" "+(0,s.zw)(m.value),1)])),e.hideTime?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)((0,l.SU)(i.yW),{key:1,class:"event__date"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(t.value)+" ",1),e.dateRange?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)("- "+(0,s.zw)(o.value),1)],64)):(0,n.kq)("",!0)])),_:1})),e.item.address?.street?((0,n.wg)(),(0,n.j4)(r.Z,{key:2,class:"event__address"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.item.address?.street),1)])),_:1})):(0,n.kq)("",!0)])])),_:1},8,["class"]))}}),g=t(83744);const _=(0,g.Z)(m,[["__scopeId","data-v-39053960"]]);var f=_},54354:function(e,a,t){t.d(a,{Z:function(){return u}});var n=t(66252),l=t(2262),s=t(3577),i=t(31810),r=(0,n.aZ)({__name:"PageTabs",props:{tabs:{},value:{}},emits:["change"],setup(e,{emit:a}){const t=e=>{e.detail.value&&a("change",e.detail.value)};return(e,a)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)((0,l.SU)(i.cJ),{id:"page-tabs",mode:"ios",class:"tabs",onIonChange:a[0]||(a[0]=e=>t(e)),value:e.value||e.tabs&&e.tabs[0].name},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.tabs,(e=>((0,n.wg)(),(0,n.j4)((0,l.SU)(i.GO),{key:e.name,value:e.name,class:"tabs__item",disabled:e.disabled},{default:(0,n.w5)((()=>[(0,n.Uk)((0,s.zw)(e.label),1)])),_:2},1032,["value","disabled"])))),128))])),_:1},8,["value"])]))}}),o=t(83744);const d=(0,o.Z)(r,[["__scopeId","data-v-6ea469ae"]]);var u=d},37639:function(e,a,t){t.r(a),t.d(a,{default:function(){return U}});t(57658);var n=t(66252),l=t(2262),s=t(10121),i=t(19239),r=t(61081),o=t(54354),d=t(87794),u=t(49316),c=t(27893),v=t(22201),m=t(48218),g=t(43173),_=t(31810),f=t(82544),p=t(27484),h=t.n(p);const k={class:"dashboard"};var w=(0,n.aZ)({__name:"Trainings",setup(e){const a=(0,v.tv)(),t=()=>{a.go(-1)},{id:p}=(0,g.Z)(),w=(0,l.iH)(1),{result:y,loading:b,refetch:U,onResult:Y}=(0,u.aM)(d.jb,{page:w.value,first:6,created_by_trainer:p,start_date:{from:h()().format("YYYY-MM-DD HH:mm:ss"),to:h()().add(1,"M").format("YYYY-MM-DD HH:mm:ss")},orderBy:[{column:d.vA.StartDate,order:d.As.Asc}]},{fetchPolicy:"no-cache"}),{result:S,loading:M,refetch:D,onResult:Z}=(0,u.aM)(d.wt,{page:w.value,first:6,filters:{start_date:h()().format("YYYY-MM-DD HH:mm:ss"),states:[d.Z3.Accepted,d.Z3.Started]},orderBy:[{column:d.Wf.StartDate,order:d.As.Asc}]},{fetchPolicy:"no-cache"}),T=(0,n.Fl)((()=>S?.value?.trainerTrainings?.paginatorInfo?.total??0)),H=(0,n.Fl)((()=>y?.value?.events?.paginatorInfo?.total??0)),N=(0,l.iH)(),I=(0,l.iH)();Z((e=>{const a=e.data?.trainerTrainings?.data?.map((e=>({id:e.id,title:`${e.user.first_name} ${e.user.last_name}`,address:e.trainer.facilities?.length?e.trainer.facilities[0]?.address:"",media:e.user.media,start_date:e.start_date})))??[];I.value?.length?-1===I.value.findIndex((e=>e.id===a[0].id))&&(I.value=[...I.value,...a]):I.value=a})),Y((e=>{const a=e?.data?.events?.data??[];N.value?.length?-1===N.value.findIndex((e=>e.id===a[0].id))&&(N.value=[...N.value,...a]):N.value=a}));const A=m.E,C=(0,l.iH)(localStorage.getItem("trainer_schedule_active_tab")??r.N.Trainings),W=e=>{e&&(C.value=e),w.value=1,I.value=[],N.value=[],localStorage.setItem("trainer_schedule_active_tab",C.value),z()},B=(0,n.Fl)((()=>C.value===r.N.Events?"events":"trainings")),E=e=>{a.push({name:r.N.Training,params:{id:e}})},j=e=>{a.push({name:r.N.TrainersEventTraining,params:{id:e}})},x=async e=>{(C.value===r.N.Trainings&&I.value&&I.value.length<T.value||C.value===r.N.Events&&N.value&&N.value.length<T.value)&&(w.value++,await z(),e.target.complete())},z=async()=>new Promise(((e,a)=>{C.value===r.N.Events?U({first:6,page:w.value,created_by_trainer:p,start_date:{from:h()().format("YYYY-MM-DD HH:mm:ss"),to:h()().add(1,"M").format("YYYY-MM-DD HH:mm:ss")},orderBy:[{column:d.vA.StartDate,order:d.As.Asc}]})?.then((()=>{e(!0)})).catch((e=>{console.log("err:",e),a()})):D({first:6,page:w.value,filters:{start_date:h()().format("YYYY-MM-DD HH:mm:ss"),states:[d.Z3.Accepted,d.Z3.Started]},orderBy:[{column:d.Wf.StartDate,order:d.As.Asc}]})?.then((()=>{e(!0)})).catch((e=>{console.log("err:",e),a()}))}));return(e,a)=>((0,n.wg)(),(0,n.j4)(s.Z,null,{header:(0,n.w5)((()=>[(0,n.Wm)(i.Z,{"back-btn":"",title:`Upcoming ${B.value}`,onBack:t},null,8,["title"])])),content:(0,n.w5)((()=>[(0,n._)("div",k,[C.value===(0,l.SU)(r.N).Trainings&&!I.value?.length&&(0,l.SU)(M)||C.value===(0,l.SU)(r.N).Events&&!N.value?.length&&(0,l.SU)(b)?((0,n.wg)(),(0,n.j4)((0,l.SU)(_.PQ),{key:0,name:"lines",class:"spinner"})):C.value===(0,l.SU)(r.N).Trainings&&I.value&&!I.value.length||C.value===(0,l.SU)(r.N).Events&&N.value&&!N.value.length?((0,n.wg)(),(0,n.j4)(f.Z,{key:1,"hide-button":"",icon:"assets/icon/empty.svg",title:`Sorry, no ${B.value} found`,text:`Currently you have no booked ${B.value}`},null,8,["title","text"])):((0,n.wg)(),(0,n.iD)(n.HY,{key:2},[C.value===(0,l.SU)(r.N).Trainings?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(I.value,(e=>((0,n.wg)(),(0,n.j4)(c.Z,{key:e.id,item:e,rounded:"",onClick:a=>E(e.id)},null,8,["item","onClick"])))),128)):(0,n.kq)("",!0),C.value===(0,l.SU)(r.N).Events?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(N.value,(e=>((0,n.wg)(),(0,n.j4)(c.Z,{key:e.id,item:e,onClick:a=>j(e.id)},null,8,["item","onClick"])))),128)):(0,n.kq)("",!0)],64)),C.value===(0,l.SU)(r.N).Trainings&&I.value&&I.value?.length<T.value||C.value===(0,l.SU)(r.N).Events&&N.value&&N.value?.length<H.value?((0,n.wg)(),(0,n.j4)((0,l.SU)(_.ju),{key:3,threshold:"100px",class:"infinite-scroll",onIonInfinite:x},{default:(0,n.w5)((()=>[(0,n.Wm)((0,l.SU)(_.MB),{"loading-spinner":"lines","loading-text":"Loading more data..."})])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(o.Z,{tabs:(0,l.SU)(A),class:"page-tabs",value:C.value,onChange:W},null,8,["tabs","value"])])])),_:1}))}}),y=t(83744);const b=(0,y.Z)(w,[["__scopeId","data-v-d2f858c4"]]);var U=b}}]);
//# sourceMappingURL=7639.aa1f5efb.js.map