"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[1313],{79641:function(e,a,t){function n(){const{first_name:e,last_name:a,email:t}=JSON.parse(localStorage.getItem("user")||"{}");return{first_name:e,last_name:a,email:t}}t.d(a,{Z:function(){return n}})},18882:function(e,a,t){t.d(a,{Z:function(){return c}});var n=t(66252),l=t(2262),o=t(3577),r=t(31810);const s={class:"buttons__container"};var u=(0,n.aZ)({__name:"ButtonsFooter",props:{mainButtonText:{},secondaryButtonText:{default:""},disabled:{type:Boolean,default:!1}},emits:["handle-click","handle-secondary-click"],setup(e){return(e,a)=>((0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)((0,l.SU)(r.YG),{onClick:a[0]||(a[0]=a=>e.$emit("handle-click")),class:"submit-btn",disabled:e.disabled},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.mainButtonText),1)])),_:1},8,["disabled"]),e.secondaryButtonText?((0,n.wg)(),(0,n.j4)((0,l.SU)(r.YG),{key:0,class:"secondary secondary-btn",onClick:a[1]||(a[1]=a=>e.$emit("handle-secondary-click"))},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.secondaryButtonText),1)])),_:1})):(0,n.kq)("",!0)]))}}),i=t(83744);const d=(0,i.Z)(u,[["__scopeId","data-v-70d0b6b0"]]);var c=d},21313:function(e,a,t){t.r(a),t.d(a,{default:function(){return S}});t(57658);var n=t(66252),l=t(2262),o=t(49963),r=t(3577),s=t(10121),u=t(19239),i=t(67273),d=t(18882),c=t(22201),m=t(31810),v=t(12954),b=t(8373),f=t(59483),k=t(87794),p=t(49316),_=t(18354),g=t(43173),w=t(79641),h=t(61081),U=(0,n.aZ)({__name:"Email",setup(e){const a=(0,c.tv)(),{id:t}=(0,g.Z)(),{email:U}=(0,w.Z)(),{mutate:y,error:Z,loading:S}=(0,p.Db)(k.ft);let{value:C,errorMessage:B}=(0,v.U$)("email",b.Io,{modelPropName:"email"});C.value=U;let x=(0,n.Fl)((()=>Z.value?(0,f.Cb)(Z.value.message):null));const T=(0,n.Fl)((()=>!B.value&&C.value)),W=()=>{a.go(-1)},q=()=>{Z.value=null},j=()=>{Z.value=null,T.value&&T.value!=U&&y({id:t,input:{email:C.value}}).then((e=>{console.log(e,e.data,e.errors),void 0!==e.data?((0,_.Os)(),a.push({name:h.N.CheckEmail})):e.errors&&"unique"==e.errors[0].extensions.validation&&(console.log("aqui estab bn"),Z.value=e.errors[0])}))};return(e,a)=>((0,n.wg)(),(0,n.j4)(s.Z,null,{header:(0,n.w5)((()=>[(0,n.Wm)(u.Z,{"back-btn":"",title:"Change email",onBack:W})])),content:(0,n.w5)((()=>[(0,n.Wm)(i.Z,{value:(0,l.SU)(C),"onUpdate:value":a[0]||(a[0]=e=>(0,l.dq)(C)?C.value=e:C=e),"error-message":(0,l.SU)(B),type:"email",disabled:(0,l.SU)(S),onChange:q,placeholder:"Enter new email",class:"email-input"},null,8,["value","error-message","disabled"]),(0,n.Wm)(o.uT,{name:"fade",mode:"out-in",duration:500},{default:(0,n.w5)((()=>[(0,l.SU)(x)?((0,n.wg)(),(0,n.j4)((0,l.SU)(m.yW),{key:0,class:"error errormessaje",color:"danger"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)((0,l.SU)(x)),1)])),_:1})):(0,n.kq)("",!0)])),_:1})])),footer:(0,n.w5)((()=>[(0,n.Wm)(d.Z,{"main-button-text":"Change email",onClick:j,disabled:!(0,l.SU)(C)},null,8,["disabled"])])),_:1}))}}),y=t(83744);const Z=(0,y.Z)(U,[["__scopeId","data-v-284e591b"]]);var S=Z}}]);
//# sourceMappingURL=1313.196ad102.js.map