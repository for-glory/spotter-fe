"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[1303],{30321:function(e,a,t){t.r(a),t.d(a,{default:function(){return U}});t(57658);var s=t(66252),r=t(2262),i=t(3577),n=t(22201),l=t(61081),o=t(10121),u=t(79356),c=t(31810),d=t(49316),v=t(87794),m=t(81902),p=t(27484),_=t.n(p);const w=e=>((0,s.dD)("data-v-555d119b"),e=e(),(0,s.Cn)(),e),y={class:"order__head"},C=w((()=>(0,s._)("span",{class:"order__title"}," Payment Complete! ",-1))),k={class:"order__description"},b={class:"buttons__container"};var f=(0,s.aZ)({__name:"PaymentSuccessfull",setup(e){const a=(0,n.tv)(),t=(0,n.yj)(),p=(0,m.h)(),{result:w,loading:f}=(0,d.aM)(v.tt,{id:t?.query?.cartId}),g=(0,s.Fl)((()=>w.value?.getCart?.items[0]?.productable)),h=(0,s.Fl)((()=>w.value?.getCart?.items[0]?.productable?.is_unlimited_checkin?"Unlimit Sessions":`${w.value?.getCart?.items[0]?.productable?.checkin_counter} Session`)),U=(0,s.Fl)((()=>t.query.session===l.N.Facility.toLowerCase())),q=(0,s.Fl)((()=>U.value?w.value?.getCart?.start_date:g.value?.start_date)),{result:F}=(0,d.aM)(v.zr,{id:t.params.id},(()=>({enabled:t?.query?.session===l.N.Facility.toLowerCase()}))),{result:S,loading:M}=(0,d.aM)(v.Jx,{id:t.params.id},(()=>({enabled:t?.query?.session===l.N.Trainer.toLowerCase()}))),N=t.query.session===l.N.Trainer.toLowerCase()?t.query.session:"session",L=(0,s.Fl)((()=>{let e;switch(t?.query?.session){case l.N.Trainer.toLowerCase():e=S.value?.user;break;case l.N.Facility.toLowerCase():e=F.value?.facility;break;case l.N.Event.toLowerCase():e=Y.value?.event;break;default:break}return e})),{result:Y}=(0,d.aM)(v.il,{id:t.params.id}),D=(0,s.Fl)((()=>_()(new Date(g.value?.start_date)).format("hh:mm A"))),T=()=>{p.clearCart(),a.push({name:l.N.Facilities})},j=async()=>{const e=U.value?new Date(w.value?.getCart?.start_date):new Date(g.value?.start_date),s=new Date(g.value?.end_date),r=g.value.title,i=L.value.address?.street,n=t?.query?.session===l.N.Trainer.toLocaleLowerCase()?"Upcoming training":"Upcoming event",o=function(){p.clearCart(),p.setValue("isOpenWaitingModal",!1),a.push({name:l.N.Facilities})},u=async function(e){const a=await c.Mn.create({message:e,duration:2e3,icon:"assets/icon/info.svg",cssClass:"danger-toast"});a.present()};window?.plugins?.calendar.createEventInteractively(r,i,n,e,s,o,u)};return(e,a)=>(0,r.SU)(M)||(0,r.SU)(f)?((0,s.wg)(),(0,s.j4)((0,r.SU)(c.PQ),{key:0,name:"lines",class:"spinner"})):((0,s.wg)(),(0,s.j4)(o.Z,{key:1},{content:(0,s.w5)((()=>[(0,s._)("div",y,[C,(0,s._)("span",k," You've successfully booked your "+(0,i.zw)((0,r.SU)(N)),1),(0,s.Uk)(" "+(0,i.zw)(g.value.start_date),1)]),(0,s.Wm)(u.Z,{"hide-price":"","hide-title":"",class:"order","date-format":"D MMMM YYYY - dddd",type:(0,r.SU)(t)?.query?.session?.toUpperCase(),item:L.value,"time-section-title":U.value?"Session quantity":"Time","order-date":q.value,"order-time":U.value?h.value:D.value},null,8,["type","item","time-section-title","order-date","order-time"])])),footer:(0,s.w5)((()=>[(0,s._)("div",b,[U.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)((0,r.SU)(c.YG),{key:0,class:"secondary",onClick:j},{default:(0,s.w5)((()=>[(0,s.Uk)("Remind me")])),_:1})),(0,s.Wm)((0,r.SU)(c.YG),{onClick:T,class:(0,i.C_)(["submit-btn",{"full-width-btn":U.value}])},{default:(0,s.w5)((()=>[(0,s.Uk)("Got it")])),_:1},8,["class"])])])),_:1}))}}),g=t(83744);const h=(0,g.Z)(f,[["__scopeId","data-v-555d119b"]]);var U=h}}]);
//# sourceMappingURL=1303.3d79bc1a.js.map