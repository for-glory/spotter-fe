{"version":3,"file":"js/8723.0369e9c9.js","mappings":"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","sources":["webpack://spotter/./node_modules/@capacitor/geolocation/dist/esm/index.js","webpack://spotter/./src/const/tabs.ts","webpack://spotter/./src/helpers/distance-between-coords.ts","webpack://spotter/./src/general/components/EmptyBlock.vue?f0a6","webpack://spotter/./src/general/components/EmptyBlock.vue","webpack://spotter/./src/general/components/PageTabs.vue?d28f","webpack://spotter/./src/general/components/PageTabs.vue","webpack://spotter/./src/users/components/Activity.vue?d290","webpack://spotter/./src/users/components/Activity.vue","webpack://spotter/./src/users/views/activities/TrainersNearby.vue?2a18","webpack://spotter/./src/users/views/activities/TrainersNearby.vue"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst Geolocation = registerPlugin('Geolocation', {\n    web: () => import('./web').then(m => new m.GeolocationWeb()),\n});\nexport * from './definitions';\nexport { Geolocation };\n//# sourceMappingURL=index.js.map","import { TabItem } from \"@/interfaces/TabItem\";\nimport { EntitiesEnum } from \"@/const/entities\";\n\nexport const discoverTabs: TabItem[] = [\n  {\n    name: EntitiesEnum.ActivitiesNearby,\n    label: \"Nearby\",\n  },\n  {\n    name: EntitiesEnum.MyTraining,\n    label: \"Events\",\n  },\n];\nexport const scheduleTabs: TabItem[] = [\n  {\n    name: EntitiesEnum.Trainings,\n    label: \"Trainings\",\n  },\n  {\n    name: EntitiesEnum.Events,\n    label: \"Events\",\n  },\n];\n","import { PositionLatLng } from \"@/ts/types/map\";\n\nexport const distanceBetweenCoords = (\n  point1: PositionLatLng,\n  point2: PositionLatLng\n) => {\n  const R = 3958.8;\n  const dLat = deg2rad(point2.lat - point1.lat);\n  const dLon = deg2rad(point2.lng - point1.lng);\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(deg2rad(point1.lat)) *\n      Math.cos(deg2rad(point2.lat)) *\n      Math.sin(dLon / 2) *\n      Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c;\n};\n\nconst deg2rad = (deg: number) => deg * (Math.PI / 180);\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-776b8fd0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"empty-block\" }\nconst _hoisted_2 = { class: \"empty-block__img\" }\n\nimport { IonText, IonIcon, IonTitle, IonButton } from \"@ionic/vue\";\nimport { withDefaults } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EmptyBlock',\n  props: {\n    title: {},\n    text: {},\n    buttonText: {},\n    hideButton: { type: Boolean },\n    icon: { default: \"assets/icon/shore-run.svg\" }\n  },\n  emits: [\"buttonClick\"],\n  setup(__props: any, { emit: emits }) {\n\n\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_unref(IonIcon), { src: _ctx.icon }, null, 8, [\"src\"])\n      ]),\n      _createVNode(_unref(IonTitle), { class: \"empty-block__title\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(_ctx.title), 1)\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(IonText), {\n        color: \"medium\",\n        class: \"empty-block__text\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(_ctx.text), 1)\n        ]),\n        _: 1\n      }),\n      (!_ctx.hideButton)\n        ? (_openBlock(), _createBlock(_unref(IonButton), {\n            key: 0,\n            class: \"button\",\n            expand: \"block\",\n            color: \"primary\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (emits('buttonClick')))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.buttonText), 1)\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./EmptyBlock.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./EmptyBlock.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./EmptyBlock.vue?vue&type=style&index=0&id=776b8fd0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-776b8fd0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode } from \"vue\"\n\n\nimport { IonSegment, IonSegmentButton, SegmentCustomEvent } from \"@ionic/vue\";\nimport { TabItem } from \"@/interfaces/TabItem\";\nimport { EntitiesEnum } from \"@/const/entities\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PageTabs',\n  props: {\n    tabs: {},\n    value: {}\n  },\n  emits: [\"change\"],\n  setup(__props: any, { emit: emits }) {\n\n\n\n\n\nconst segmentChanged = (event: SegmentCustomEvent) => {\n  if (!event.detail.value) return;\n  emits(\"change\", event.detail.value as EntitiesEnum);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(_unref(IonSegment), {\n      id: \"page-tabs\",\n      mode: \"ios\",\n      class: \"tabs\",\n      onIonChange: _cache[0] || (_cache[0] = ($event: any) => (segmentChanged($event))),\n      value: _ctx.value || (_ctx.tabs && _ctx.tabs[0].name)\n    }, {\n      default: _withCtx(() => [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.tabs, (tab) => {\n          return (_openBlock(), _createBlock(_unref(IonSegmentButton), {\n            key: tab.name,\n            value: tab.name,\n            class: \"tabs__item\",\n            disabled: tab.disabled\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(tab.label), 1)\n            ]),\n            _: 2\n          }, 1032, [\"value\", \"disabled\"]))\n        }), 128))\n      ]),\n      _: 1\n    }, 8, [\"value\"])\n  ]))\n}\n}\n\n})","import script from \"./PageTabs.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PageTabs.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PageTabs.vue?vue&type=style&index=0&id=6ea469ae&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6ea469ae\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d2c419ce\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"activity-item__photo\" }\nconst _hoisted_2 = { class: \"activity-item__inner\" }\nconst _hoisted_3 = { class: \"activity-item__head\" }\n\n\nimport { IonItem, IonImg, IonLabel, IonText } from \"@ionic/vue\";\nimport RatingNumber from \"@/general/components/RatingNumber.vue\";\nimport AddressItem from \"@/general/components/AddressItem.vue\";\nimport { ActivityItem } from \"@/interfaces/ActivityItem\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Activity',\n  props: {\n    activity: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonItem), { class: \"activity-item\" }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_ctx.activity.photo?.length)\n          ? (_openBlock(), _createBlock(_unref(IonImg), {\n              key: 0,\n              src: _ctx.activity.photo\n            }, null, 8, [\"src\"]))\n          : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n              _createTextVNode(_toDisplayString(_ctx.activity.name?.charAt(0)), 1)\n            ], 64))\n      ]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(_unref(IonLabel), { class: \"activity-item__title\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.activity.name), 1)\n            ]),\n            _: 1\n          }),\n          _createVNode(RatingNumber, { class: \"activity-item__rating\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.activity.rating), 1)\n            ]),\n            _: 1\n          })\n        ]),\n        (_ctx.activity.distance)\n          ? (_openBlock(), _createBlock(AddressItem, {\n              key: 0,\n              class: \"activity-item__address\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(IonText), {\n                  class: \"activity-item__distance\",\n                  color: \"primary\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(_ctx.activity.distance), 1)\n                  ]),\n                  _: 1\n                }),\n                _createTextVNode(\" far from you \")\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./Activity.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Activity.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Activity.vue?vue&type=style&index=0&id=d2c419ce&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d2c419ce\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b3950b78\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"holder-content ion-padding-horizontal\" }\n\nimport {\n  IonBackButton,\n  IonTitle,\n  IonButtons,\n  toastController,\n  IonSpinner,\n  IonInfiniteScroll,\n  IonInfiniteScrollContent,\n  InfiniteScrollCustomEvent,\n} from \"@ionic/vue\";\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport PageTabs from \"@/general/components/PageTabs.vue\";\nimport SearchForm from \"@/general/components/forms/SearchForm.vue\";\nimport Activity from \"@/users/components/Activity.vue\";\nimport { TabItem } from \"@/interfaces/TabItem\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport { useLazyQuery, useQuery } from \"@vue/apollo-composable\";\nimport {\n  MeDocument,\n  RoleEnum,\n  SettingsCodeEnum,\n  UsersDocument,\n  UsersQuery,\n} from \"@/generated/graphql\";\nimport { ref } from \"vue\";\nimport { ActivityItem } from \"@/interfaces/ActivityItem\";\nimport { useRouter } from \"vue-router\";\nimport { discoverTabs } from \"@/const/tabs\";\nimport { PositionLatLng } from \"@/ts/types/map\";\nimport { Geolocation } from \"@capacitor/geolocation\";\nimport { distanceBetweenCoords } from \"@/helpers/distance-between-coords\";\nimport EmptyBlock from \"@/general/components/EmptyBlock.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TrainersNearby',\n  setup(__props) {\n\nconst router = useRouter();\n\nconst tabs: TabItem[] = discoverTabs;\n\nconst trainersLoaded = ref<boolean>(false);\nconst activePage = ref<number>(1);\nconst totalTrainers = ref<number>(0);\nconst searchQuery = ref<string>(\"\");\nconst myCoords = ref<PositionLatLng>({\n  lat: 0,\n  lng: 0,\n});\n\nconst tabsChanged = (name: EntitiesEnum) => {\n  router.push({\n    name,\n  });\n};\n\nconst { onResult: gotMe } = useQuery(\n  MeDocument,\n  {},\n  {\n    fetchPolicy: \"no-cache\",\n  }\n);\n\ngotMe(async (response) => {\n  if (\n    !response.data.me.settings.find(\n      (settings: any) =>\n        settings.setting.code === SettingsCodeEnum.UsePhoneLocation\n    )?.value\n  ) {\n    myCoords.value = {\n      lat: response.data.me.address.lat,\n      lng: response.data.me.address.lng,\n    };\n    getTrainers();\n  } else {\n    myCoords.value = await getUserLocation();\n    getTrainers();\n  }\n});\n\nconst getUserLocation = async (): Promise<PositionLatLng> => {\n  return new Promise((resolve, reject) => {\n    Geolocation.getCurrentPosition()\n      .then((myPosition) => {\n        resolve({\n          lat: myPosition.coords.latitude,\n          lng: myPosition.coords.longitude,\n        });\n      })\n      .catch(async () => {\n        const toast = await toastController.create({\n          message:\n            \"Failed to get your location. Check the permissions for the application.\",\n          duration: 2000,\n          icon: \"assets/icon/info.svg\",\n          cssClass: \"warning-toast\",\n        });\n        toast.present();\n        await Geolocation.requestPermissions();\n        reject();\n      });\n  });\n};\n\nconst {\n  load: getNearTrainers,\n  refetch: updateNearTrainers,\n  onResult: gotNearTrainers,\n} = useLazyQuery<UsersQuery>(\n  UsersDocument,\n  {\n    first: 6,\n    page: activePage.value,\n    role: RoleEnum.Trainer,\n    search: searchQuery.value?.length ? searchQuery.value : undefined,\n    near: {\n      radius: 10,\n      lat: myCoords.value.lat,\n      lng: myCoords.value.lng,\n    },\n  },\n  {\n    fetchPolicy: \"no-cache\",\n  }\n);\n\nconst getTrainers = () => {\n  getNearTrainers(\n    UsersDocument,\n    {\n      first: 6,\n      page: activePage.value,\n      role: RoleEnum.Trainer,\n      search: searchQuery.value?.length ? searchQuery.value : undefined,\n      near: {\n        radius: 10,\n        lat: myCoords.value.lat,\n        lng: myCoords.value.lng,\n      },\n    },\n    {\n      fetchPolicy: \"no-cache\",\n    }\n  );\n};\n\nconst loadMoreTrainers = (ev: InfiniteScrollCustomEvent) => {\n  if (trainers.value && trainers.value.length < totalTrainers.value) {\n    activePage.value++;\n    updateNearTrainers({\n      first: 6,\n      page: activePage.value,\n      search: searchQuery.value?.length ? searchQuery.value : undefined,\n      near: {\n        radius: 10,\n        lat: myCoords.value.lat,\n        lng: myCoords.value.lng,\n      },\n    })?.then(() => {\n      ev.target.complete();\n    });\n  }\n};\n\ngotNearTrainers((response) => {\n  totalTrainers.value = response.data.users?.paginatorInfo.total ?? 0;\n\n  const newTrainers: ActivityItem[] =\n    response.data?.users?.data.map((trainer) => ({\n      name: `${trainer.first_name} ${trainer.last_name}`,\n      id: trainer.id,\n      distance: `~${distanceBetweenCoords(\n        {\n          lat: trainer.address?.lat || 0,\n          lng: trainer.address?.lng || 0,\n        },\n        {\n          lat: myCoords.value.lat || 0,\n          lng: myCoords.value.lng || 0,\n        }\n      ).toFixed(1)}mi`,\n      rating: String(trainer.score?.toFixed(1)),\n      photo: trainer.avatarUrl ?? undefined,\n    })) ?? [];\n\n  if (\n    trainersLoaded.value &&\n    trainers.value?.length &&\n    trainers.value.findIndex(\n      (trainer) => newTrainers.length && trainer.id === newTrainers[0].id\n    ) > -1\n  )\n    return;\n\n  trainersLoaded.value = true;\n\n  trainers.value =\n    !trainers.value ||\n    response.data.users?.paginatorInfo.firstItem === null ||\n    response.data.users?.paginatorInfo.firstItem === 1\n      ? newTrainers\n      : [...trainers.value, ...newTrainers];\n});\n\nconst trainers = ref<ActivityItem[] | null>(null);\n\nconst searchTrainers = (query: string) => {\n  activePage.value = 1;\n  totalTrainers.value = 0;\n  trainersLoaded.value = false;\n  searchQuery.value = query;\n  getTrainers();\n};\n\nconst openTrainer = (trainerId: string | number) => {\n  router.push({\n    name: EntitiesEnum.Trainer,\n    params: {\n      id: trainerId,\n    },\n  });\n};\n\nconst handleBack = () => {\n  router.go(-1);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(BaseLayout, null, {\n      header: _withCtx(() => [\n        _createVNode(_unref(IonButtons), null, {\n          default: _withCtx(() => [\n            _createVNode(_unref(IonBackButton), {\n              class: \"back-btn\",\n              icon: \"assets/icon/arrow-back.svg\",\n              onClick: handleBack\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(SearchForm, {\n          \"hide-results\": \"\",\n          onSearch: searchTrainers\n        })\n      ]),\n      content: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_1, [\n          (!trainersLoaded.value)\n            ? (_openBlock(), _createBlock(_unref(IonSpinner), {\n                key: 0,\n                name: \"lines\",\n                class: \"spinner\"\n              }))\n            : (trainers.value && trainers.value.length)\n              ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                  _createVNode(_unref(IonTitle), {\n                    slot: \"start\",\n                    class: \"title\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" Trainers Nearby \")\n                    ]),\n                    _: 1\n                  }),\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(trainers.value, (trainer) => {\n                    return (_openBlock(), _createBlock(Activity, {\n                      key: trainer.id,\n                      activity: trainer,\n                      onClick: ($event: any) => (openTrainer(trainer.id))\n                    }, null, 8, [\"activity\", \"onClick\"]))\n                  }), 128)),\n                  (trainers.value.length < totalTrainers.value)\n                    ? (_openBlock(), _createBlock(_unref(IonInfiniteScroll), {\n                        key: 0,\n                        threshold: \"100px\",\n                        class: \"infinite-scroll\",\n                        onIonInfinite: loadMoreTrainers\n                      }, {\n                        default: _withCtx(() => [\n                          _createVNode(_unref(IonInfiniteScrollContent), {\n                            \"loading-spinner\": \"lines\",\n                            \"loading-text\": \"Loading more...\"\n                          })\n                        ]),\n                        _: 1\n                      }))\n                    : _createCommentVNode(\"\", true)\n                ], 64))\n              : (_openBlock(), _createBlock(EmptyBlock, {\n                  key: 2,\n                  title: \"Empty here\",\n                  \"button-text\": \"Explore more\",\n                  text: \"No trainers were found near you\",\n                  onButtonClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(router).push({ name: _unref(EntitiesEnum).Facilities })))\n                }))\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(PageTabs, {\n      tabs: _unref(tabs),\n      class: \"page-tabs\",\n      value: _unref(EntitiesEnum).ActivitiesNearby,\n      onChange: tabsChanged\n    }, null, 8, [\"tabs\", \"value\"])\n  ], 64))\n}\n}\n\n})","import script from \"./TrainersNearby.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TrainersNearby.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TrainersNearby.vue?vue&type=style&index=0&id=b3950b78&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b3950b78\"]])\n\nexport default __exports__"],"names":["Geolocation","web","then","m","GeolocationWeb","discoverTabs","name","EntitiesEnum","ActivitiesNearby","label","MyTraining","scheduleTabs","Trainings","Events","distanceBetweenCoords","point1","point2","R","dLat","deg2rad","lat","dLon","lng","a","Math","sin","cos","c","atan2","sqrt","deg","PI","_hoisted_1","class","_hoisted_2","_defineComponent","__name","props","title","text","buttonText","hideButton","type","Boolean","icon","default","emits","setup","__props","emit","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","_createVNode","_unref","IonIcon","src","IonTitle","_withCtx","_createTextVNode","_toDisplayString","_","IonText","color","_createCommentVNode","_createBlock","IonButton","key","expand","onClick","$event","__exports__","tabs","value","segmentChanged","event","detail","IonSegment","id","mode","onIonChange","_Fragment","_renderList","tab","IonSegmentButton","disabled","_hoisted_3","activity","IonItem","photo","length","IonImg","charAt","IonLabel","RatingNumber","rating","distance","AddressItem","router","useRouter","trainersLoaded","ref","activePage","totalTrainers","searchQuery","myCoords","tabsChanged","push","onResult","gotMe","useQuery","MeDocument","fetchPolicy","async","response","data","me","settings","find","setting","code","SettingsCodeEnum","UsePhoneLocation","getUserLocation","getTrainers","address","Promise","resolve","reject","getCurrentPosition","myPosition","coords","latitude","longitude","catch","toast","toastController","create","message","duration","cssClass","present","requestPermissions","load","getNearTrainers","refetch","updateNearTrainers","gotNearTrainers","useLazyQuery","UsersDocument","first","page","role","RoleEnum","Trainer","search","undefined","near","radius","loadMoreTrainers","ev","trainers","target","complete","users","paginatorInfo","total","newTrainers","map","trainer","first_name","last_name","toFixed","String","score","avatarUrl","findIndex","firstItem","searchTrainers","query","openTrainer","trainerId","params","handleBack","go","BaseLayout","header","IonButtons","IonBackButton","SearchForm","onSearch","content","slot","Activity","IonInfiniteScroll","threshold","onIonInfinite","IonInfiniteScrollContent","EmptyBlock","onButtonClick","Facilities","IonSpinner","PageTabs","onChange"],"sourceRoot":""}