{"version":3,"file":"js/7580.a3b9e5ad.js","mappings":"qLAGO,MAAMA,EAA0B,CACrC,CACEC,KAAMC,EAAAA,EAAaC,iBACnBC,MAAO,UAET,CACEH,KAAMC,EAAAA,EAAaG,WACnBD,MAAO,WAGEE,EAA0B,CACrC,CACEL,KAAMC,EAAAA,EAAaK,UACnBH,MAAO,aAET,CACEH,KAAMC,EAAAA,EAAaM,OACnBJ,MAAO,U,ySCjBX,MACMK,EAAa,CAAEC,MAAO,aACtBC,EAAa,CAAED,MAAO,oBACtBE,EAAa,CAAEF,MAAO,qBACtBG,EAAa,CAAEH,MAAO,qBAiC5B,OAA4BI,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,QACRC,MAAMC,GAER,MAAMC,GAASC,EAAAA,EAAAA,OACT,GAAEC,IAAOC,EAAAA,EAAAA,MAGbC,OAAQC,EACRC,QAASC,EACTC,QAASC,IACPC,EAAAA,EAAAA,IACFC,EAAAA,GACA,CACEC,KAAM,EACNC,MAAO,EACPC,mBAAoBZ,EACpBa,WAAY,CACVC,KAAMC,MAAQC,OAAO,uBACrBC,GAAIF,MAAQG,IAAI,EAAG,KAAKF,OAAO,wBAEjCG,QAAS,CACP,CACEC,OAAQC,EAAAA,GAAyBC,UACjCC,MAAOC,EAAAA,GAAUC,OAIvB,CACEC,YAAa,cAKfxB,OAAQyB,EACRvB,QAASwB,EACTtB,QAASuB,IACPrB,EAAAA,EAAAA,IACFsB,EAAAA,GACA,CACEpB,KAAM,EACNC,MAAO,EACPoB,QAAS,CACPlB,WAAYE,MAAQC,OAAO,uBAC3BgB,OAAQ,CAACC,EAAAA,GAAmBC,SAAUD,EAAAA,GAAmBE,UAE3DhB,QAAS,CACP,CACEC,OAAQgB,EAAAA,GAAmCd,UAC3CC,MAAOC,EAAAA,GAAUC,OAIvB,CACEC,YAAa,cAKTxB,OAAQmC,IAA0B7B,EAAAA,EAAAA,IACxC8B,EAAAA,EACA,CAAC,EACD,CACEZ,YAAa,aAIXa,GAAaC,EAAAA,EAAAA,KAAS,IAAMH,GAAuBI,OAAOC,IAAM,KAEhEC,GAAgBH,EAAAA,EAAAA,KAAS,IAAM,CACnC,CACEC,MAAO,KACLF,GAAYE,OAAOG,yBAAyBC,uBAAyB,IAEvEC,YAAa,gBAEf,CACEL,MAAO,KAAKF,GAAYE,OAAOG,yBAAyBG,YAAc,IACtED,YAAa,kBAEf,CACEL,MAAO,GAAGF,GAAYE,OAAOG,yBAAyBI,gBAAkB,IACxEF,YAAa,qBAIXG,GAAcT,EAAAA,EAAAA,KAAS,IAAM,CACjC,CACEC,MAAOF,GAAYE,OAAOS,eAAiB,EAC3CJ,YAAa,mBAEf,CACEL,MAAO,GACwC,EAA5CF,GAAYE,OAAOU,uBAClBZ,GAAYE,OAAOS,eAAiB,QAExCJ,YAAa,sBAIT5C,OAAQkD,IAAyB5C,EAAAA,EAAAA,IACvC6C,EAAAA,GACA,CACErD,KACAc,KAAMC,MAAQuC,QAAQ,KAAKtC,OAAO,uBAClCC,GAAIF,MAAQwC,MAAM,KAAKvC,OAAO,wBAEhC,CACEU,YAAa,aAIX8B,GAAShB,EAAAA,EAAAA,KAAiC,IAC9CrC,GAAcsC,OAAOe,QAAQC,KAAOtD,EAAasC,MAAMe,OAAOC,KAAO,KAGjEC,GAAYlB,EAAAA,EAAAA,KAAS,IACzBb,GAAiBc,OAAOkB,kBAAkBF,KACtC9B,EAAgBc,MAAMkB,iBAAiBF,KAAKG,KAAKC,IAAkB,CACjE7D,GAAI6D,EAAS7D,GACb8D,MAAO,GAAGD,EAASE,KAAKC,cAAcH,EAASE,KAAKE,YACpDC,QAAS,CACPC,OAAQN,EAASE,KAAKG,SAASC,QAEjCC,MAAOP,EAASE,KAAKK,MACrBvD,WAAYgD,EAAShD,WACrBwD,MAAOR,EAASQ,MAChBC,OAAQT,EAASE,KAAK/D,OAExB,KAGAuE,GAAW/B,EAAAA,EAAAA,KAAS,KACxB,MAAMgC,EAAe,GACrB,GAAIpB,GAAwBA,GAAsBX,MAAO,CACvD,MAAMgC,EAAmBrB,GAAsBX,OAAOgC,iBAEtD,GAAIA,GAAoBA,GAAkBjB,OAAQ,CAChD,MAAM,OAAEA,GAAWiB,EACbC,EAAelB,EAAOI,KAAKe,IAAU,CACzC9D,WAAY8D,GAAO9D,YAAc,SAGnC2D,EAAaI,QAAQF,E,CAEvB,GAAID,GAAoBA,GAAkBf,UAAW,CACnD,MAAM,UAAEA,GAAce,EAChBI,EAAkBnB,EACrBoB,QACEjB,GAAuBA,EAASQ,QAAUpC,EAAAA,GAAmBC,WAE/D0B,KAAKC,IAAkB,CACtBhD,WAAYgD,GAAUhD,YAAc,SAExC2D,EAAaI,QAAQC,E,EAGzB,OAAOL,CAAY,IAGfO,EAAkB7F,EAAAA,EAElB8F,GAAeC,EAAAA,EAAAA,IAAkB,MACjCC,GAAYD,EAAAA,EAAAA,IACfE,aAAaC,QAAQ,gCACpBtG,EAAAA,EAAaK,WAGXkG,EAAeC,IACfA,IAAIJ,EAAUzC,MAAQ6C,GAC1BH,aAAaI,QAAQ,8BAA+BL,EAAUzC,OAC1DyC,EAAUzC,QAAU3D,EAAAA,EAAaM,OACnCmB,IAEAsB,G,EAIE2D,GAAehD,EAAAA,EAAAA,KAAS,IACxB0C,EAAUzC,QAAU3D,EAAAA,EAAaM,OAC5B,SAGF,cAGHqG,EAAkBA,KACtB3F,EAAO8E,KAAK,CAAE/F,KAAMC,EAAAA,EAAa4G,2BAA4B,EAGzDC,EAAiBA,KACrB7F,EAAO8E,KAAK,CAAE/F,KAAMC,EAAAA,EAAa8G,yBAA0B,EAGvDC,EAAeA,CACnB7F,EACAqE,EACAC,KAEA,GAAID,IAAUpC,EAAAA,GAAmBE,QAC/B,OAAOrC,EAAO8E,KAAK,CACjB/F,KAAMC,EAAAA,EAAagH,QACnBC,OAAQ,CACN/F,MAEFgG,MAAO,CACL1B,SACA2B,KAAMnH,EAAAA,EAAaoH,YAKzBpG,EAAO8E,KAAK,CACV/F,KAAMC,EAAAA,EAAaoH,SACnBH,OAAQ,CACN/F,OAEF,EAGEmG,EAAanG,IACjBF,EAAO8E,KAAK,CACV/F,KAAMC,EAAAA,EAAasH,sBACnBL,OAAQ,CACN/F,OAEF,EAGJ,MAAO,CAACqG,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaC,EAAAA,EAAY,KAAM,CACnDC,QAAQC,EAAAA,EAAAA,KAAS,IAAM,EACrBC,EAAAA,EAAAA,IAAaC,EAAAA,EAAY,CAAE/C,MAAO,gBAEpCgD,SAASH,EAAAA,EAAAA,KAAS,IAAM,EACtBI,EAAAA,EAAAA,GAAoB,MAAO1H,EAAY,EACrC0H,EAAAA,EAAAA,GAAoB,MAAOxH,EAAY,EACrCqH,EAAAA,EAAAA,IAAaI,EAAAA,EAAe,CAAEC,MAAOtE,EAAcF,OAAS,CAC1DqB,OAAO6C,EAAAA,EAAAA,KAAS,IAAM,EACpBC,EAAAA,EAAAA,KAAaM,EAAAA,EAAAA,IAAOC,EAAAA,IAAU,CAC5BC,IAAK,2BACL9H,MAAO,mBAET+H,EAAAA,EAAAA,IAAiB,iBAEnBC,EAAG,GACF,EAAG,CAAC,WACPV,EAAAA,EAAAA,IAAaI,EAAAA,EAAe,CAAEC,MAAOhE,EAAYR,OAAS,CACxDqB,OAAO6C,EAAAA,EAAAA,KAAS,IAAM,EACpBC,EAAAA,EAAAA,KAAaM,EAAAA,EAAAA,IAAOC,EAAAA,IAAU,CAC5BC,IAAK,yBACL9H,MAAO,iBAET+H,EAAAA,EAAAA,IAAiB,eAEnBE,QAAQZ,EAAAA,EAAAA,KAAS,IAAM,EACrBI,EAAAA,EAAAA,GAAoB,MAAOvH,EAAY,EACrCoH,EAAAA,EAAAA,KAAaM,EAAAA,EAAAA,IAAOM,EAAAA,IAAU,CAAElI,MAAO,gBAAkB,CACvDmI,SAASd,EAAAA,EAAAA,KAAS,IAAM,EACtBU,EAAAA,EAAAA,KAAiBK,EAAAA,EAAAA,IAAiBnF,EAAWE,OAAOU,wBAA0B,GAAK,IAAK,IACxFyD,EAAAA,EAAAA,KAAaM,EAAAA,EAAAA,IAAOC,EAAAA,IAAU,CAC5B7H,MAAO,YACP8H,IAAK,4BAGTE,EAAG,KAELV,EAAAA,EAAAA,KAAaM,EAAAA,EAAAA,IAAOM,EAAAA,IAAU,CAAElI,MAAO,mBAAqB,CAC1DmI,SAASd,EAAAA,EAAAA,KAAS,IAAM,EACtBU,EAAAA,EAAAA,KAAiBK,EAAAA,EAAAA,IAAiBnF,EAAWE,OAAOkF,wBAA0B,GAAK,IAAK,IACxFf,EAAAA,EAAAA,KAAaM,EAAAA,EAAAA,IAAOC,EAAAA,IAAU,CAC5B7H,MAAO,eACP8H,IAAK,+BAGTE,EAAG,SAITA,EAAG,GACF,EAAG,CAAC,aAETV,EAAAA,EAAAA,IAAagB,EAAAA,EAAc,CACzBC,WAAY7C,EAAavC,MACzB,sBAAuB6D,EAAO,KAAOA,EAAO,GAAMwB,GAAkB9C,EAAcvC,MAAQqF,GAC1FvD,SAAUA,EAAS9B,MACnBsF,aAAcpC,GACb,KAAM,EAAG,CAAC,aAAc,cAC3BoB,EAAAA,EAAAA,GAAoB,MAAOtH,EAAY,EACrCmH,EAAAA,EAAAA,IAAaoB,EAAAA,EAAa,CACxBlE,MAAO,aACLoB,EAAUzC,SAAUyE,EAAAA,EAAAA,IAAOpI,EAAAA,GAAcM,OAAS,SAAW,aAE/D2I,aAActC,EACd,kBACEyB,EAAAA,EAAAA,IAAOtF,KACPsF,EAAAA,EAAAA,IAAO7G,IACN6E,EAAUzC,SAAUyE,EAAAA,EAAAA,IAAOpI,EAAAA,GAAcK,YAAcuE,EAAUjB,OAAOwF,QACxE/C,EAAUzC,SAAUyE,EAAAA,EAAAA,IAAOpI,EAAAA,GAAcM,SAAWoE,EAAOf,OAAOwF,QAEpE,KAAM,EAAG,CAAC,QAAS,mBAEjB/C,EAAUzC,SAAUyE,EAAAA,EAAAA,IAAOpI,EAAAA,GAAcK,YAAa+H,EAAAA,EAAAA,IAAOtF,IAC7DsD,EAAUzC,SAAUyE,EAAAA,EAAAA,IAAOpI,EAAAA,GAAcM,SAAU8H,EAAAA,EAAAA,IAAO7G,KAE1DkG,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,KAAaU,EAAAA,EAAAA,IAAOgB,EAAAA,IAAa,CAC9CC,IAAK,EACLtJ,KAAM,QACNS,MAAO,aAGR4F,EAAUzC,SAAUyE,EAAAA,EAAAA,IAAOpI,EAAAA,GAAcK,YAAcuE,EAAUjB,MAAMwF,QACvE/C,EAAUzC,SAAUyE,EAAAA,EAAAA,IAAOpI,EAAAA,GAAcM,SAAWoE,EAAOf,MAAMwF,SAE/D1B,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAa4B,EAAAA,EAAY,CACtCD,IAAK,EACL,cAAe,GACfE,KAAM,wBACNvE,MAAO,aAAa0B,EAAa/C,cACjC6F,KAAM,gCAAgC9C,EAAa/C,SAClD,KAAM,EAAG,CAAC,QAAS,YACrB8D,EAAAA,EAAAA,OAAcgC,EAAAA,EAAAA,IAAoBC,EAAAA,GAAW,CAAEL,IAAK,GAAK,CACvDjD,EAAUzC,SAAUyE,EAAAA,EAAAA,IAAOpI,EAAAA,GAAcK,YACrCoH,EAAAA,EAAAA,KAAW,IAAOgC,EAAAA,EAAAA,IAAoBC,EAAAA,GAAW,CAAEL,IAAK,IAAKM,EAAAA,EAAAA,IAAY/E,EAAUjB,OAAQoB,KAClF0C,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAakC,EAAAA,EAAW,CAC5CP,IAAKtE,EAAS7D,GACd2I,KAAM9E,EACN+E,QAAS,GACTC,QAAUf,GAClBjC,EAAahC,EAAS7D,GAAI6D,EAASQ,MAAOR,EAASS,SAE1C,KAAM,EAAG,CAAC,OAAQ,eACnB,OACJwE,EAAAA,EAAAA,IAAoB,IAAI,GAC3B5D,EAAUzC,SAAUyE,EAAAA,EAAAA,IAAOpI,EAAAA,GAAcM,SACrCmH,EAAAA,EAAAA,KAAW,IAAOgC,EAAAA,EAAAA,IAAoBC,EAAAA,GAAW,CAAEL,IAAK,IAAKM,EAAAA,EAAAA,IAAYjF,EAAOf,OAAQkC,KAC/E4B,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAakC,EAAAA,EAAW,CAC5CP,IAAKxD,EAAM3E,GACX2I,KAAMhE,EACNkE,QAAUf,GAAiB3B,EAAUxB,EAAM3E,KAC1C,KAAM,EAAG,CAAC,OAAQ,eACnB,OACJ8I,EAAAA,EAAAA,IAAoB,IAAI,IAC3B,QAEXlC,EAAAA,EAAAA,IAAamC,EAAAA,EAAU,CACrBhE,MAAMmC,EAAAA,EAAAA,IAAOnC,GACbzF,MAAO,YACPmD,MAAOyC,EAAUzC,MACjBuG,SAAU3D,GACT,KAAM,EAAG,CAAC,OAAQ,eAGzBiC,EAAG,IAGP,I,WCtYA,MAAM2B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://spotter/./src/const/tabs.ts","webpack://spotter/./src/trainers/views/schedule/Index.vue?204c","webpack://spotter/./src/trainers/views/schedule/Index.vue"],"sourcesContent":["import { TabItem } from \"@/interfaces/TabItem\";\nimport { EntitiesEnum } from \"@/const/entities\";\n\nexport const discoverTabs: TabItem[] = [\n  {\n    name: EntitiesEnum.ActivitiesNearby,\n    label: \"Nearby\",\n  },\n  {\n    name: EntitiesEnum.MyTraining,\n    label: \"Events\",\n  },\n];\nexport const scheduleTabs: TabItem[] = [\n  {\n    name: EntitiesEnum.Trainings,\n    label: \"Trainings\",\n  },\n  {\n    name: EntitiesEnum.Events,\n    label: \"Events\",\n  },\n];\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, createTextVNode as _createTextVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3ba849b3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"dashboard\" }\nconst _hoisted_2 = { class: \"dashboards-items\" }\nconst _hoisted_3 = { class: \"rating__container\" }\nconst _hoisted_4 = { class: \"events__container\" }\n\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport DashboardItem from \"@/general/components/DashboardItem.vue\";\nimport { IonIcon, IonText, IonSpinner } from \"@ionic/vue\";\nimport { TabItem } from \"@/interfaces/TabItem\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport { computed, ref } from \"vue\";\nimport PageTabs from \"@/general/components/PageTabs.vue\";\nimport {\n  EventPaginator,\n  EventsDocument,\n  TrainerTrainingsDocument,\n  Training,\n  DashboardWidgetDocument,\n  UserAvailabilityDocument,\n  QueryEventsOrderByColumn,\n  SortOrder,\n  QueryTrainerTrainingsOrderByColumn,\n  TrainingStatesEnum,\n} from \"@/generated/graphql\";\nimport { useQuery } from \"@vue/apollo-composable\";\nimport EventItem from \"@/general/components/EventItem.vue\";\nimport ItemsHeader from \"@/general/components/blocks/headers/ItemsHeader.vue\";\nimport WeekCalendar from \"@/general/components/blocks/calendar/WeekCalendar.vue\";\nimport dayjs, { Dayjs } from \"dayjs\";\nimport { useRouter } from \"vue-router\";\nimport { scheduleTabs } from \"@/const/tabs\";\nimport useId from \"@/hooks/useId\";\nimport EmptyBlock from \"@/general/components/EmptyBlock.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Index',\n  setup(__props) {\n\nconst router = useRouter();\nconst { id } = useId();\n\nconst {\n  result: eventsResult,\n  loading: eventsLoading,\n  refetch: updateEvents,\n} = useQuery(\n  EventsDocument,\n  {\n    page: 0,\n    first: 4,\n    created_by_trainer: id,\n    start_date: {\n      from: dayjs().format(\"YYYY-MM-DD HH:mm:ss\"),\n      to: dayjs().add(1, \"M\").format(\"YYYY-MM-DD HH:mm:ss\"),\n    },\n    orderBy: [\n      {\n        column: QueryEventsOrderByColumn.StartDate,\n        order: SortOrder.Asc,\n      },\n    ],\n  },\n  {\n    fetchPolicy: \"no-cache\",\n  }\n);\n\nconst {\n  result: trainingsResult,\n  loading: trainingsLoading,\n  refetch: updateTrainings,\n} = useQuery(\n  TrainerTrainingsDocument,\n  {\n    page: 0,\n    first: 4,\n    filters: {\n      start_date: dayjs().format(\"YYYY-MM-DD HH:mm:ss\"),\n      states: [TrainingStatesEnum.Accepted, TrainingStatesEnum.Started],\n    },\n    orderBy: [\n      {\n        column: QueryTrainerTrainingsOrderByColumn.StartDate,\n        order: SortOrder.Asc,\n      },\n    ],\n  },\n  {\n    fetchPolicy: \"no-cache\",\n  }\n);\n\n// Dashboard widgets - Activity + My Ratings widgets info\nconst { result: dashboardWidgetResult } = useQuery(\n  DashboardWidgetDocument,\n  {},\n  {\n    fetchPolicy: \"no-cache\",\n  }\n);\n\nconst widgetInfo = computed(() => dashboardWidgetResult?.value?.me || []);\n\nconst activityItems = computed(() => [\n  {\n    value: `+$${\n      widgetInfo?.value?.trainer_dashboard_stats?.earn_last_thirty_days || 0\n    }`,\n    description: \"last 30 days\",\n  },\n  {\n    value: `+$${widgetInfo?.value?.trainer_dashboard_stats?.total_earn || 0}`,\n    description: \"total earnings\",\n  },\n  {\n    value: `${widgetInfo?.value?.trainer_dashboard_stats?.total_bookings || 0}`,\n    description: \"total bookings\",\n  },\n]);\n\nconst ratingItems = computed(() => [\n  {\n    value: widgetInfo?.value?.reviews_count || 0,\n    description: \"total feedbacks\",\n  },\n  {\n    value: `${\n      (widgetInfo?.value?.positive_reviews_count * 5) /\n        widgetInfo?.value?.reviews_count || 0\n    } / 5`,\n    description: \"general rating\",\n  },\n]);\n\nconst { result: calendarWidgetResult } = useQuery(\n  UserAvailabilityDocument,\n  {\n    id,\n    from: dayjs().startOf(\"w\").format(\"YYYY-MM-DD HH:mm:ss\"),\n    to: dayjs().endOf(\"w\").format(\"YYYY-MM-DD HH:mm:ss\"),\n  },\n  {\n    fetchPolicy: \"no-cache\",\n  }\n);\n\nconst events = computed<EventPaginator[\"data\"]>(() =>\n  eventsResult?.value?.events?.data ? eventsResult.value.events.data : []\n);\n\nconst trainings = computed(() =>\n  trainingsResult?.value?.trainerTrainings?.data\n    ? trainingsResult.value.trainerTrainings.data.map((training: Training) => ({\n        id: training.id,\n        title: `${training.user.first_name} ${training.user.last_name}`,\n        address: {\n          street: training.user.address?.street,\n        },\n        media: training.user.media,\n        start_date: training.start_date,\n        state: training.state,\n        userId: training.user.id,\n      }))\n    : []\n);\n\nconst bookings = computed(() => {\n  const availability = [];\n  if (calendarWidgetResult && calendarWidgetResult?.value) {\n    const userAvailability = calendarWidgetResult?.value?.userAvailability;\n\n    if (userAvailability && userAvailability?.events) {\n      const { events } = userAvailability;\n      const bookedEvents = events.map((event: any) => ({\n        start_date: event?.start_date || null,\n      }));\n\n      availability.push(...bookedEvents);\n    }\n    if (userAvailability && userAvailability?.trainings) {\n      const { trainings } = userAvailability;\n      const bookedTrainings = trainings\n        .filter(\n          (training: Training) => training.state === TrainingStatesEnum.Accepted\n        )\n        .map((training: Training) => ({\n          start_date: training?.start_date || null,\n        }));\n      availability.push(...bookedTrainings);\n    }\n  }\n  return availability;\n});\n\nconst tabs: TabItem[] = scheduleTabs;\n\nconst selectedDate = ref<Dayjs | null>(null);\nconst activeTab = ref<EntitiesEnum>(\n  (localStorage.getItem(\"trainer_schedule_active_tab\") as EntitiesEnum) ??\n    EntitiesEnum.Trainings\n);\n\nconst tabsChanged = (ev: EntitiesEnum) => {\n  if (ev) activeTab.value = ev;\n  localStorage.setItem(\"trainer_schedule_active_tab\", activeTab.value);\n  if (activeTab.value === EntitiesEnum.Events) {\n    updateEvents();\n  } else {\n    updateTrainings();\n  }\n};\n\nconst activityName = computed(() => {\n  if (activeTab.value === EntitiesEnum.Events) {\n    return \"events\";\n  }\n\n  return \"trainings\";\n});\n\nconst onViewAllEvents = () => {\n  router.push({ name: EntitiesEnum.TrainersUpcomingTrainings });\n};\n\nconst onViewCalendar = () => {\n  router.push({ name: EntitiesEnum.TrainerScheduleCalendar });\n};\n\nconst openTraining = (\n  id: number,\n  state?: TrainingStatesEnum,\n  userId?: string\n) => {\n  if (state === TrainingStatesEnum.Started) {\n    return router.push({\n      name: EntitiesEnum.Session,\n      params: {\n        id,\n      },\n      query: {\n        userId,\n        type: EntitiesEnum.Training,\n      },\n    });\n  }\n\n  router.push({\n    name: EntitiesEnum.Training,\n    params: {\n      id,\n    },\n  });\n};\n\nconst openEvent = (id: string) => {\n  router.push({\n    name: EntitiesEnum.TrainersEventTraining,\n    params: {\n      id,\n    },\n  });\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseLayout, null, {\n    header: _withCtx(() => [\n      _createVNode(PageHeader, { title: \"Schedule\" })\n    ]),\n    content: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(DashboardItem, { items: activityItems.value }, {\n            title: _withCtx(() => [\n              _createVNode(_unref(IonIcon), {\n                src: \"assets/icon/activity.svg\",\n                class: \"activity-icon\"\n              }),\n              _createTextVNode(\" Activity \")\n            ]),\n            _: 1\n          }, 8, [\"items\"]),\n          _createVNode(DashboardItem, { items: ratingItems.value }, {\n            title: _withCtx(() => [\n              _createVNode(_unref(IonIcon), {\n                src: \"assets/icon/trophy.svg\",\n                class: \"trophy-icon\"\n              }),\n              _createTextVNode(\" Rating \")\n            ]),\n            bottom: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_3, [\n                _createVNode(_unref(IonText), { class: \"rating-likes\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(widgetInfo.value?.positive_reviews_count || 0) + \" \", 1),\n                    _createVNode(_unref(IonIcon), {\n                      class: \"like-icon\",\n                      src: \"assets/icon/like.svg\"\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(IonText), { class: \"rating-dislikes\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(widgetInfo.value?.negative_reviews_count || 0) + \" \", 1),\n                    _createVNode(_unref(IonIcon), {\n                      class: \"dislike-icon\",\n                      src: \"assets/icon/dislike.svg\"\n                    })\n                  ]),\n                  _: 1\n                })\n              ])\n            ]),\n            _: 1\n          }, 8, [\"items\"])\n        ]),\n        _createVNode(WeekCalendar, {\n          modelValue: selectedDate.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((selectedDate).value = $event)),\n          bookings: bookings.value,\n          onHandleView: onViewCalendar\n        }, null, 8, [\"modelValue\", \"bookings\"]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(ItemsHeader, {\n            title: `Upcoming ${\n              activeTab.value === _unref(EntitiesEnum).Events ? 'events' : 'trainings'\n            }`,\n            onHandleView: onViewAllEvents,\n            \"hide-view-more\": \n              _unref(trainingsLoading) ||\n              _unref(eventsLoading) ||\n              (activeTab.value === _unref(EntitiesEnum).Trainings && !trainings.value?.length) ||\n              (activeTab.value === _unref(EntitiesEnum).Events && !events.value?.length)\n            \n          }, null, 8, [\"title\", \"hide-view-more\"]),\n          (\n              (activeTab.value === _unref(EntitiesEnum).Trainings && _unref(trainingsLoading)) ||\n              (activeTab.value === _unref(EntitiesEnum).Events && _unref(eventsLoading))\n            )\n            ? (_openBlock(), _createBlock(_unref(IonSpinner), {\n                key: 0,\n                name: \"lines\",\n                class: \"spinner\"\n              }))\n            : (\n              (activeTab.value === _unref(EntitiesEnum).Trainings && !trainings.value.length) ||\n              (activeTab.value === _unref(EntitiesEnum).Events && !events.value.length)\n            )\n              ? (_openBlock(), _createBlock(EmptyBlock, {\n                  key: 1,\n                  \"hide-button\": \"\",\n                  icon: \"assets/icon/empty.svg\",\n                  title: `Sorry, no ${activityName.value} found`,\n                  text: `Currently you have no booked ${activityName.value}`\n                }, null, 8, [\"title\", \"text\"]))\n              : (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                  (activeTab.value === _unref(EntitiesEnum).Trainings)\n                    ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(trainings.value, (training) => {\n                        return (_openBlock(), _createBlock(EventItem, {\n                          key: training.id,\n                          item: training,\n                          rounded: \"\",\n                          onClick: ($event: any) => (\n                  openTraining(training.id, training.state, training.userId)\n                )\n                        }, null, 8, [\"item\", \"onClick\"]))\n                      }), 128))\n                    : _createCommentVNode(\"\", true),\n                  (activeTab.value === _unref(EntitiesEnum).Events)\n                    ? (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(events.value, (event) => {\n                        return (_openBlock(), _createBlock(EventItem, {\n                          key: event.id,\n                          item: event,\n                          onClick: ($event: any) => (openEvent(event.id))\n                        }, null, 8, [\"item\", \"onClick\"]))\n                      }), 128))\n                    : _createCommentVNode(\"\", true)\n                ], 64))\n        ]),\n        _createVNode(PageTabs, {\n          tabs: _unref(tabs),\n          class: \"page-tabs\",\n          value: activeTab.value,\n          onChange: tabsChanged\n        }, null, 8, [\"tabs\", \"value\"])\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./Index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=3ba849b3&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3ba849b3\"]])\n\nexport default __exports__"],"names":["discoverTabs","name","EntitiesEnum","ActivitiesNearby","label","MyTraining","scheduleTabs","Trainings","Events","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_defineComponent","__name","setup","__props","router","useRouter","id","useId","result","eventsResult","loading","eventsLoading","refetch","updateEvents","useQuery","EventsDocument","page","first","created_by_trainer","start_date","from","dayjs","format","to","add","orderBy","column","QueryEventsOrderByColumn","StartDate","order","SortOrder","Asc","fetchPolicy","trainingsResult","trainingsLoading","updateTrainings","TrainerTrainingsDocument","filters","states","TrainingStatesEnum","Accepted","Started","QueryTrainerTrainingsOrderByColumn","dashboardWidgetResult","DashboardWidgetDocument","widgetInfo","computed","value","me","activityItems","trainer_dashboard_stats","earn_last_thirty_days","description","total_earn","total_bookings","ratingItems","reviews_count","positive_reviews_count","calendarWidgetResult","UserAvailabilityDocument","startOf","endOf","events","data","trainings","trainerTrainings","map","training","title","user","first_name","last_name","address","street","media","state","userId","bookings","availability","userAvailability","bookedEvents","event","push","bookedTrainings","filter","tabs","selectedDate","ref","activeTab","localStorage","getItem","tabsChanged","ev","setItem","activityName","onViewAllEvents","TrainersUpcomingTrainings","onViewCalendar","TrainerScheduleCalendar","openTraining","Session","params","query","type","Training","openEvent","TrainersEventTraining","_ctx","_cache","_openBlock","_createBlock","BaseLayout","header","_withCtx","_createVNode","PageHeader","content","_createElementVNode","DashboardItem","items","_unref","IonIcon","src","_createTextVNode","_","bottom","IonText","default","_toDisplayString","negative_reviews_count","WeekCalendar","modelValue","$event","onHandleView","ItemsHeader","length","IonSpinner","key","EmptyBlock","icon","text","_createElementBlock","_Fragment","_renderList","EventItem","item","rounded","onClick","_createCommentVNode","PageTabs","onChange","__exports__"],"sourceRoot":""}