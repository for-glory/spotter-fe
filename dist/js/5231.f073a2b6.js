"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[5231],{13649:function(e,l,a){a.d(l,{Z:function(){return m}});var t=a(66252),i=a(2262),n=a(3577),s=a(31810),r=a(64193),o=a(35294);const d={class:"facility-item__photo"},c={class:"facility-item__inner"},u={class:"facility-item__head"};var g=(0,t.aZ)({__name:"FacilityItem",props:{facility:{}},setup(e){const l=e,a=(0,t.Fl)((()=>l.facility.media?.length?`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_MEDIA_URL}${l.facility.media[0]?.path}`:""));return(e,l)=>((0,t.wg)(),(0,t.j4)((0,i.SU)(s.Ie),{class:"facility-item"},{default:(0,t.w5)((()=>[(0,t._)("div",d,[a.value?.length?((0,t.wg)(),(0,t.j4)((0,i.SU)(s.Xz),{key:0,src:a.value},null,8,["src"])):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,n.zw)(e.facility.name?.charAt(0)),1)],64))]),(0,t._)("div",c,[(0,t._)("div",u,[(0,t.Wm)((0,i.SU)(s.Q$),{class:"facility-item__title"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.facility.name),1)])),_:1}),(0,t.Wm)(r.Z,{class:"facility-item__rating"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.facility.score),1)])),_:1})]),(0,t.Wm)(o.Z,{class:"facility-item__address"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.facility.address?.street),1)])),_:1})])])),_:1}))}}),v=a(83744);const f=(0,v.Z)(g,[["__scopeId","data-v-2f13078e"]]);var m=f},78511:function(e,l,a){a.r(l),a.d(l,{default:function(){return L}});a(57658);var t=a(66252),i=a(2262),n=a(10121),s=a(54354),r=a(58770),o=a(62308),d=a(31810),c=a(13649),u=a(87794),g=a(23834),v=a(61081),f=a(22201),m=a(82544);const y={class:"content ion-padding-horizontal ion-padding-bottom"},_={key:0,class:"ion-text-center"};var w=(0,t.aZ)({__name:"FacilitiesPage",props:{filters:{},selected:{}},emits:["location-items","toggle-modal","hide-modal","deselect"],setup(e,{emit:l}){const a=e,n=(0,f.tv)(),{formattedResult:s,markerItems:r,loading:o,error:w,refetch:k}=(0,g.a)(u.kF,(e=>({id:e.id,lat:e.address?.lat,lng:e.address?.lng})),(e=>e.value?.facilities?.data??[]),a.filters?{near:{lat:a.filters.position.lat,lng:a.filters.position.lng,radius:a.filters.distance}}:void 0),p=(0,t.Fl)((()=>a.selected?s.value.filter((e=>e.id===a.selected)):s.value));(0,t.YP)((()=>a.filters),(e=>{e&&k({near:{lat:e.position.lat,lng:e.position.lng,radius:e.distance}})}));const h=()=>{l("toggle-modal")},U=(e,a)=>{l("hide-modal"),n.push({name:v.N.Facility,params:{id:a}})};return(0,t.YP)((()=>r.value),(()=>l("location-items",r.value))),(e,a)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,i.SU)(o)||(0,i.SU)(s)?.length?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.sr),{key:0,class:"header"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,i.SU)(d.wd),{slot:"start",class:"title"},{default:(0,t.w5)((()=>[e.selected?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)("Selected")],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)("Gyms Nearby")],64))])),_:1}),e.selected?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.YG),{key:1,slot:"end",fill:"clear",color:"primary",class:"header__btn",onClick:a[0]||(a[0]=e=>l("deselect"))},{default:(0,t.w5)((()=>[(0,t.Uk)(" Show all ")])),_:1})):((0,t.wg)(),(0,t.j4)((0,i.SU)(d.YG),{key:0,slot:"end",fill:"clear",color:"primary",onClick:h,class:"header__btn hide-on-fullscreen"},{default:(0,t.w5)((()=>[(0,t.Uk)(" View All ")])),_:1}))])),_:1})):(0,t.kq)("",!0),(0,t._)("div",y,[(0,i.SU)(o)?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.PQ),{key:0,name:"lines",class:"spinner"})):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,i.SU)(w)?((0,t.wg)(),(0,t.iD)("p",_,"Something went wrong...")):p.value.length?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)(p.value,(e=>((0,t.wg)(),(0,t.j4)(c.Z,{key:e.id,facility:e,onClick:l=>U(l,e.id)},null,8,["facility","onClick"])))),128)):((0,t.wg)(),(0,t.j4)(m.Z,{key:2,"hide-button":"",title:"Sorry, no gyms found",icon:"assets/icon/weights.svg",text:"Currently there are no gyms in your area"}))],64))])],64))}}),k=a(83744);const p=(0,k.Z)(w,[["__scopeId","data-v-e57f2d9e"]]);var h=p,U=a(3577),S=a(90599),b=a(35294),D=a(49316);const F={class:"content ion-padding-horizontal ion-padding-bottom"},H={key:0,class:"ion-text-center"};var Y=(0,t.aZ)({__name:"TrainersPage",props:{filters:{},availabilityFilters:{},selected:{}},emits:["location-items","toggle-modal","hide-modal","deselect"],setup(e,{emit:l}){const a=e,n=(0,t.Fl)((()=>a.filters?{lat:a.filters.position.lat,lng:a.filters.position.lng,radius:a.filters.distance}:void 0)),s=(0,t.Fl)((()=>a.availabilityFilters?{date_from:a.availabilityFilters.date_from??void 0,date_to:a.availabilityFilters.date_to??void 0}:void 0)),{formattedResult:r,markerItems:o,loading:c,error:v,refetch:f}=(0,g.a)(u.Sg,(e=>({id:e.id,trainer_type:e.trainer_type,lat:e.address?.lat||(e.facilities?e.facilities[0]?.address?.lat:0),lng:e.address?.lng||(e.facilities?e.facilities[0]?.address?.lng:0)})),(e=>e.value?.users?.data??[]),{role:u.g8.Trainer,near:n.value,availability:s.value}),y=(0,t.Fl)((()=>r.value.find((e=>e.id===a.selected))));(0,t.YP)((()=>a.filters),(e=>{e&&f({role:u.g8.Trainer,near:n.value,availability:s.value})})),(0,t.YP)((()=>a.availabilityFilters),(()=>{f({role:u.g8.Trainer,near:n.value,availability:s.value})})),(0,t.YP)((()=>a.selected),(()=>{_.value&&(h.value?k({page:1,first:100,role:u.g8.Trainer,facilities:_.value?[_.value.id]:null}):w(u.Sg,{page:1,first:100,role:u.g8.Trainer,facilities:_.value?[_.value.id]:null}))}));const _=(0,t.Fl)((()=>y.value?.facilities?.length&&y.value?.facilities[0]||void 0)),{load:w,refetch:k,loading:p,result:h}=(0,D.td)(u.Sg,{page:1,first:100,role:u.g8.Trainer,facilities:_.value?[_.value.id]:null}),Y=(0,t.Fl)((()=>h.value?.users.data??[]));(0,t.YP)((()=>o.value),(()=>l("location-items",o.value)));const P=()=>{l("toggle-modal")};return(e,a)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,i.SU)(c)||(0,i.SU)(r)?.length?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.sr),{key:0,class:"header"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,i.SU)(d.wd),{slot:"start",class:"title"},{default:(0,t.w5)((()=>[e.selected?y.value?.trainer_type===(0,i.SU)(u.w3).Freelancer?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)(" Selected ")],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[(0,t.Uk)((0,U.zw)(_.value?.name)+" ",1),(0,t.Wm)(b.Z,{class:"radiobutton__address"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,U.zw)(_.value?.address?.street),1)])),_:1})],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)("Trainers Nearby")],64))])),_:1}),e.selected?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.YG),{key:1,slot:"end",fill:"clear",color:"primary",class:"header__btn",onClick:a[0]||(a[0]=e=>l("deselect"))},{default:(0,t.w5)((()=>[(0,t.Uk)(" Show all ")])),_:1})):((0,t.wg)(),(0,t.j4)((0,i.SU)(d.YG),{key:0,slot:"end",fill:"clear",color:"primary",onClick:P,class:"header__btn hide-on-fullscreen"},{default:(0,t.w5)((()=>[(0,t.Uk)(" View All ")])),_:1}))])),_:1})):(0,t.kq)("",!0),(0,t._)("div",F,[(0,i.SU)(c)?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.PQ),{key:0,name:"lines",class:"spinner"})):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,i.SU)(v)?((0,t.wg)(),(0,t.iD)("p",H,"Something went wrong...")):!e.selected&&(0,i.SU)(r).length?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)((0,i.SU)(r),(e=>((0,t.wg)(),(0,t.j4)(S.Z,{key:e.id,trainer:e},null,8,["trainer"])))),128)):e.selected?((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[y.value.trainer_type===(0,i.SU)(u.w3).Freelancer?((0,t.wg)(),(0,t.j4)(S.Z,{key:0,trainer:y.value},null,8,["trainer"])):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,i.SU)(p)?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.PQ),{key:0,name:"lines",class:"spinner"})):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Y.value,(e=>((0,t.wg)(),(0,t.j4)(S.Z,{key:e.id,trainer:e},null,8,["trainer"])))),128))],64))],64)):((0,t.wg)(),(0,t.j4)(m.Z,{key:3,"hide-button":"",title:"Sorry, no trainers found",icon:"assets/icon/weights.svg",text:"Currently there are no trainers in your area"}))],64))])],64))}});const P=(0,k.Z)(Y,[["__scopeId","data-v-1fc8b4f3"]]);var j=P,T=a(61133),Z=a(59205),N=a(23279),I=a.n(N);const C={class:"page-map"};var E=(0,t.aZ)({__name:"Index",setup(e){const l=(0,i.iH)([]),a=(0,i.iH)(null),d=(0,i.iH)(!1),c=(0,i.iH)(null),g=(0,i.iH)(!1),m=[{name:v.N.Facilities,label:"Gyms"},{name:v.N.Trainers,label:"Trainers"}],y=localStorage.getItem("preferred_booking_tab"),_=(0,i.iH)(y??v.N.Facilities),w=e=>{e&&(_.value=e),a.value=null},k=I()((e=>{a.value=null,H.value=e}),500),p=e=>{l.value=e},U=e=>{d.value=e},S=()=>{c?.value?.showDraggable()},b=(0,i.iH)(!1),F=(0,i.iH)({lat:Number({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_DEFAULT_POSITION_LAT),lng:Number({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_DEFAULT_POSITION_LNG)}),H=(0,i.iH)({position:F.value,distance:6}),{onResult:Y,loading:P}=(0,D.aM)(u.en);Y((({data:e})=>{_.value=e.me?.settings?.find((e=>e.setting.code===u.Lm.DisplayPreference))?.value||v.N.Facilities,localStorage.setItem("preferred_booking_tab",_.value),b.value=e.me?.settings?.find((e=>e.setting.code===u.Lm.UsePhoneLocation))?.value??!1,!b.value&&e.me?.address?.lat&&e.me?.address?.lng&&(F.value={lat:e.me.address.lat,lng:e.me.address.lng})}));const N=[{attachTo:{element:"#page-tabs"},content:{title:"Switch between gyms and trainers!",description:"With one touch, you can switch between gyms and trainers."}},{attachTo:{element:"#discover"},content:{title:"Discover Icon",description:"Check out events happening near you. Meet new people and join in on the fun. "}},{attachTo:{element:"#workout"},content:{title:"Daily Workouts",description:"Purchase daily workouts from your favorite trainer or find someone new!"}}],E=(0,f.tv)(),{isOnboardingDone:A}=(0,Z.rV)(),L=()=>{E.push({name:v.N.TrainerDemo})},W=(0,i.iH)(),z=e=>{W.value=e},V=()=>{W.value=null},q=e=>{a.value=a.value!==e?e:null};return(e,u)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(n.Z,{draggable:"","header-fixed":"",ref_key:"layout",ref:c,"offset-top":64,"content-full-height":d.value,"initial-breakpoint":d.value?1:.5},{header:(0,t.w5)((()=>[(0,t.Wm)(o.Z,{filters:W.value?{availability:{date_from:W.value.date_from,date_to:W.value.date_to}}:{},type:_.value,onHandleFocus:u[0]||(u[0]=e=>g.value=!0),onHandleBlur:u[1]||(u[1]=e=>g.value=!1),"filters-btn":_.value===(0,i.SU)(v.N).Trainers,onApplyFilters:z,onResetFilters:V},null,8,["filters","type","filters-btn"])])),static:(0,t.w5)((()=>[(0,t._)("div",C,[(0,i.SU)(P)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(r.Z,{key:0,items:l.value,center:F.value,onMarkerClick:q,onFullscreen:U,"selected-item":a.value,onChangePosition:(0,i.SU)(k),"use-current-location":b.value},null,8,["items","center","selected-item","onChangePosition","use-current-location"]))])])),draggable:(0,t.w5)((()=>[_.value===(0,i.SU)(v.N).Facilities?((0,t.wg)(),(0,t.j4)(h,{key:0,filters:H.value,onToggleModal:S,onLocationItems:p,selected:a.value,onDeselect:u[2]||(u[2]=e=>a.value=null)},null,8,["filters","selected"])):(0,t.kq)("",!0),_.value===(0,i.SU)(v.N).Trainers?((0,t.wg)(),(0,t.j4)(j,{key:1,filters:H.value,"availability-filters":W.value,onToggleModal:S,onLocationItems:p,selected:a.value,onDeselect:u[3]||(u[3]=e=>a.value=null)},null,8,["filters","availability-filters","selected"])):(0,t.kq)("",!0)])),_:1},8,["content-full-height","initial-breakpoint"]),_.value&&!g.value?((0,t.wg)(),(0,t.j4)(s.Z,{key:0,tabs:m,class:"page-tabs",value:_.value,onChange:w},null,8,["value"])):(0,t.kq)("",!0),(0,i.SU)(A)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(T.Z,{key:1,steps:N,"page-classname":"booking",onFinish:L}))],64))}});const A=(0,k.Z)(E,[["__scopeId","data-v-f72b836a"]]);var L=A}}]);
//# sourceMappingURL=5231.f073a2b6.js.map