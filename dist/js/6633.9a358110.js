"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[6633],{56236:function(e,a,r){r.r(a),r.d(a,{default:function(){return D}});r(57658);var l=r(66252),s=r(2262),o=r(31810),t=r(49963),n=r(3577),u=r(67273),i=r(72353),d=r(4860),m=r(12954),v=r(8373),p=r(59483);const g={class:"mt-2"};var c=(0,l.aZ)({__name:"RegistrationForm",props:{error:{},isLoading:{type:Boolean}},emits:["handle-submit"],setup(e,{emit:a}){const r=e,{value:c,errorMessage:w}=(0,m.U$)("email",v.R_),{value:U,errorMessage:f}=(0,m.U$)("first name",v.pW),{value:b,errorMessage:_}=(0,m.U$)("last name",v.pW),{value:S,errorMessage:y}=(0,m.U$)("password",v.Js),{value:W,errorMessage:k}=(0,m.U$)("password confirmation",(e=>e===S.value)),h=(0,l.Fl)((()=>r.error?(0,p.Cb)(r.error.message):null)),Z=(0,l.Fl)((()=>!w.value&&!y.value&&!k.value&&S.value&&W.value&&c.value)),E=()=>{Z.value&&a("handle-submit",{email:c.value,first_name:U.value?b.value:"default",last_name:b.value?b.value:"default",password:S.value,password_confirmation:W.value})};return(e,a)=>{const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)((0,s.SU)(o.yW),null,{default:(0,l.w5)((()=>[(0,l.Uk)(" Already A Member? "),(0,l.Wm)(r,{to:{name:(0,s.SU)(d.N).Login}},{default:(0,l.w5)((()=>[(0,l.Uk)(" Log In ")])),_:1},8,["to"])])),_:1}),(0,l._)("div",g,[(0,l.Wm)(i.Z,{class:"authentication-form",onSubmit:(0,t.iM)(E,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(u.Z,{value:(0,s.SU)(c),"onUpdate:value":a[0]||(a[0]=e=>(0,s.dq)(c)?c.value=e:null),"error-message":(0,s.SU)(w),disabled:e.isLoading,type:"email",placeholder:"Enter your email"},null,8,["value","error-message","disabled"]),(0,l.Wm)(u.Z,{value:(0,s.SU)(S),"onUpdate:value":a[1]||(a[1]=e=>(0,s.dq)(S)?S.value=e:null),"error-message":(0,s.SU)(y),disabled:e.isLoading,type:"password",placeholder:"Enter your password"},null,8,["value","error-message","disabled"]),(0,l.Wm)(u.Z,{value:(0,s.SU)(W),"onUpdate:value":a[2]||(a[2]=e=>(0,s.dq)(W)?W.value=e:null),"error-message":(0,s.SU)(k),disabled:e.isLoading,type:"password",placeholder:"Enter your password again"},null,8,["value","error-message","disabled"]),(0,l.Wm)((0,s.SU)(o.YG),{disabled:e.isLoading,class:"button--submit",type:"submit",expand:"block"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Sign Up ")])),_:1},8,["disabled"]),(0,l.Wm)(t.uT,null,{default:(0,l.w5)((()=>[h.value?((0,l.wg)(),(0,l.j4)((0,s.SU)(o.yW),{key:0,class:"error",color:"danger"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(h.value),1)])),_:1})):(0,l.kq)("",!0)])),_:1})])),_:1},8,["onSubmit"])])],64)}}}),w=r(83744);const U=(0,w.Z)(c,[["__scopeId","data-v-167e328f"]]);var f=U,b=r(60605),_=r(74790),S=r(87794),y=r(49316),W=r(22201),k=r(61081),h=r(18354);const Z={class:"register__container"},E={class:"welcome-text"};var L=(0,l.aZ)({__name:"Register",setup(e){const{mutate:a,onDone:r,loading:t,error:n}=(0,y.Db)(_.YR);let{mutate:u,onDone:i,onError:d}=(0,y.Db)(S.b1);const m=async e=>{await a({...e,role:S.g8.User}),localStorage.setItem("temporary_email",JSON.stringify(e.email)),await u({username:e.email,password:e.password})},v=(0,W.tv)();return r((({data:e,errors:a})=>{if(e);else if(a){let e=a;if("unique"==e[0].extensions.validation)throw new Error(e[0].message)}})),i((({data:e,errors:a})=>{if(!e&&a)throw new Error(String(a[0].extensions.reason));(0,h.H9)(e.login),v.push({name:k.N.CheckEmail})})),(e,a)=>((0,l.wg)(),(0,l.iD)("div",Z,[(0,l._)("div",E,[(0,l.Wm)((0,s.SU)(o.yW),null,{default:(0,l.w5)((()=>[(0,l.Uk)("Sign up and Create Your Profile")])),_:1})]),(0,l.Wm)(f,{"is-loading":(0,s.SU)(t),error:(0,s.SU)(n),onHandleSubmit:m},null,8,["is-loading","error"]),(0,l.Wm)(b.Z)]))}});const M=(0,w.Z)(L,[["__scopeId","data-v-ad4aebf2"]]);var D=M}}]);
//# sourceMappingURL=6633.9a358110.js.map