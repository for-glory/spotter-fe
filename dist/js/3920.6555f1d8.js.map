{"version":3,"file":"js/3920.6555f1d8.js","mappings":"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","sources":["webpack://spotter/./node_modules/@capacitor/camera/dist/esm/definitions.js","webpack://spotter/./node_modules/@capacitor/camera/dist/esm/index.js","webpack://spotter/./src/general/components/blocks/PhotoLoader.vue?1162","webpack://spotter/./src/general/components/blocks/PhotoLoader.vue","webpack://spotter/./src/const/edit-profile-menu.ts","webpack://spotter/./src/general/views/profile/Edit.vue?1c46","webpack://spotter/./src/general/views/profile/Edit.vue"],"sourcesContent":["export var CameraSource;\n(function (CameraSource) {\n    /**\n     * Prompts the user to select either the photo album or take a photo.\n     */\n    CameraSource[\"Prompt\"] = \"PROMPT\";\n    /**\n     * Take a new photo using the camera.\n     */\n    CameraSource[\"Camera\"] = \"CAMERA\";\n    /**\n     * Pick an existing photo from the gallery or photo album.\n     */\n    CameraSource[\"Photos\"] = \"PHOTOS\";\n})(CameraSource || (CameraSource = {}));\nexport var CameraDirection;\n(function (CameraDirection) {\n    CameraDirection[\"Rear\"] = \"REAR\";\n    CameraDirection[\"Front\"] = \"FRONT\";\n})(CameraDirection || (CameraDirection = {}));\nexport var CameraResultType;\n(function (CameraResultType) {\n    CameraResultType[\"Uri\"] = \"uri\";\n    CameraResultType[\"Base64\"] = \"base64\";\n    CameraResultType[\"DataUrl\"] = \"dataUrl\";\n})(CameraResultType || (CameraResultType = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst Camera = registerPlugin('Camera', {\n    web: () => import('./web').then(m => new m.CameraWeb()),\n});\nexport * from './definitions';\nexport { Camera };\n//# sourceMappingURL=index.js.map","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, withCtx as _withCtx, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5a5479a9\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"photo-preview\"\n}\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = { class: \"photo-preview__icon\" }\nconst _hoisted_4 = [\"src\"]\nconst _hoisted_5 = {\n  key: 2,\n  class: \"photo-area__loader\"\n}\n\nimport {\n  actionSheetController,\n  alertController,\n  IonIcon,\n  isPlatform,\n  IonItem,\n} from \"@ionic/vue\";\nimport { ref, watch, withDefaults } from \"vue\";\nimport { Camera, CameraResultType, CameraSource } from \"@capacitor/camera\";\nimport PhotoCropper from \"@/general/components/modals/crop/PhotoCropper.vue\";\nimport CircleProgress from \"@/general/components/CircleProgress.vue\";\nimport { Capacitor } from '@capacitor/core';\n\nenum actionTypesEnum {\n  Delete = \"DELETE\",\n  MakeAPhoto = \"MAKE_A_PHOTO\",\n  PhotoLibrary = \"PHOTO_LIBRARY\",\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PhotoLoader',\n  props: {\n    photo: {},\n    icon: { default: \"person\" },\n    circleShape: { type: Boolean, default: false },\n    type: { default: \"default\" },\n    loading: { type: Boolean },\n    progress: {}\n  },\n  emits: [\"change\"],\n  setup(__props: any, { emit: emits }) {\n\nconst props = __props;\n\n\n\n\n\nconst value = ref<string | undefined>(props.photo);\nconst uploadedImage = ref<string>(\"\");\nconst isCropperOpen = ref<boolean>(false);\n\nwatch(\n  () => props.photo,\n  (newVal) => {\n    value.value = newVal;\n  }\n);\n\nconst openLoadOptions = async (): Promise<void> => {\n  \n  const mobileButtons = [\n    ...(value.value\n      ? [\n          {\n            text: \"Delete photo\",\n            role: \"destructive\",\n            data: {\n              type: actionTypesEnum.Delete,\n            },\n          },\n        ]\n      : []),\n    {\n      text: \"Take photo\",\n      data: {\n        type: actionTypesEnum.MakeAPhoto,\n      },\n    },\n    {\n      text: \"Photo library\",\n      data: {\n        type: actionTypesEnum.PhotoLibrary,\n      },\n    },\n    {\n      text: \"Cancel\",\n      role: \"cancel\",\n    },\n  ];\n  const webButtons = [\n    ...(value.value\n      ? [\n          {\n            text: \"Delete photo\",\n            role: \"destructive\",\n            data: {\n              type: actionTypesEnum.Delete,\n            },\n          },\n        ]\n      : []),\n    {\n      text: \"Photo library\",\n      data: {\n        type: actionTypesEnum.PhotoLibrary,\n      },\n    },\n    {\n      text: \"Cancel\",\n      role: \"cancel\",\n    },\n  ];\n  const actionSheet = await actionSheetController.create({\n    mode: \"ios\",\n    buttons: Capacitor.isNativePlatform()?mobileButtons:webButtons\n  });\n\n  await actionSheet.present();\n\n  const { data } = await actionSheet.onWillDismiss();\n  const type: actionTypesEnum = data?.type;\n\n  const actions = {\n    [actionTypesEnum.Delete]: () => setValue(),\n    [actionTypesEnum.MakeAPhoto]: () => getPhoto(CameraSource.Camera),\n    [actionTypesEnum.PhotoLibrary]: () => getPhoto(CameraSource.Photos),\n  };\n\n  if (actions[type]) {\n    actions[type]();\n  }\n};\n\nconst getPhoto = async (source: CameraSource): Promise<void> => {\n  if (isPlatform(\"capacitor\")) {\n    const permissions = await Camera.requestPermissions();\n    if (\n      (source === CameraSource.Camera && permissions.camera === \"denied\") ||\n      (source === CameraSource.Photos && permissions.photos === \"denied\")\n    ) {\n      const alert = await alertController.create({\n        header: \"Permissions denied\",\n        message:\n          source === CameraSource.Camera\n            ? \"You have denied the app from using the camera\"\n            : \"You have denied the app access to your photos\",\n        buttons: [\"OK\"],\n      });\n\n      await alert.present();\n      return;\n    }\n  }\n\n  const image = await Camera.getPhoto({\n    width: 750,\n    height: 750,\n    quality: 100,\n    allowEditing: false,\n    resultType: CameraResultType.Base64,\n    source,\n  });\n\n  uploadedImage.value = `data:image/jpeg;base64,${image.base64String}`;\n  isCropperOpen.value = true;\n};\n\nconst setValue = (newPhoto?: string): void => {\n  value.value = newPhoto;\n  emits(\"change\", value.value);\n};\n\nconst setCropperOpen = (value: boolean) => {\n  isCropperOpen.value = value;\n};\n\nconst getCroppedImg = (image: string) => {\n  setValue(image);\n  isCropperOpen.value = false;\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", {\n      class: \"photo-loader\",\n      onClick: openLoadOptions\n    }, [\n      (_ctx.type === 'avatar')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createElementVNode(\"img\", {\n              class: _normalizeClass([\"photo-preview__img\", { 'photo-preview__img--empty': !value.value }]),\n              src: value.value || `assets/icon/${_ctx.icon}.svg`\n            }, null, 10, _hoisted_2),\n            _createElementVNode(\"span\", _hoisted_3, [\n              _createVNode(_unref(IonIcon), { src: \"assets/icon/change-photo.svg\" })\n            ])\n          ]))\n        : (_openBlock(), _createBlock(_unref(IonItem), {\n            key: 1,\n            class: _normalizeClass([\"photo-area\", { 'photo-area--empty': !value.value }])\n          }, {\n            default: _withCtx(() => [\n              (value.value)\n                ? (_openBlock(), _createElementBlock(\"img\", {\n                    key: 0,\n                    src: value.value,\n                    class: \"photo-area__img\"\n                  }, null, 8, _hoisted_4))\n                : (!_ctx.loading)\n                  ? (_openBlock(), _createBlock(_unref(IonIcon), {\n                      key: 1,\n                      src: \"assets/icon/add-media.svg\",\n                      class: \"photo-area__add-icon\"\n                    }))\n                  : _createCommentVNode(\"\", true),\n              (_ctx.loading)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n                    _createVNode(CircleProgress, {\n                      percent: _ctx.progress,\n                      class: \"photo-area__progress\"\n                    }, null, 8, [\"percent\"])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }, 8, [\"class\"]))\n    ]),\n    _createVNode(PhotoCropper, {\n      \"is-open\": isCropperOpen.value,\n      onSetOpen: setCropperOpen,\n      file: uploadedImage.value,\n      onGetUploadedImg: getCroppedImg,\n      \"circle-shape\": _ctx.circleShape\n    }, null, 8, [\"is-open\", \"file\", \"circle-shape\"])\n  ], 64))\n}\n}\n\n})","import script from \"./PhotoLoader.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./PhotoLoader.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./PhotoLoader.vue?vue&type=style&index=0&id=5a5479a9&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5a5479a9\"]])\n\nexport default __exports__","import { EditProfileMenuItem } from \"@/interfaces/EditProfileMenuItem\";\nimport { EntitiesEnum } from \"@/const/entities\";\n\ntype EditProfileMenu = Record<string, EditProfileMenuItem[]>;\n\nexport const editProfileMenu: EditProfileMenu = {\n  USER: [\n    {\n      name: EntitiesEnum.ProfileEmail,\n      label: \"Change email\",\n    },\n    {\n      name: EntitiesEnum.ProfilePassword,\n      label: \"Change password\",\n    },\n    // {\n    //   name: EntitiesEnum.ProfileLanguages,\n    //   label: \"Language\",\n    //   value: EntitiesEnum.Language,\n    // },\n    // {\n    //   name: EntitiesEnum.ProfileAppMode,\n    //   label: \"App mode\",\n    //   value: EntitiesEnum.AppMode,\n    // },\n    // {\n    //   name: EntitiesEnum.ProfileNotifications,\n    //   label: \"Notifications\",\n    // },\n    {\n      name: EntitiesEnum.ProfilePreferences,\n      label: \"Preferences\",\n    },\n    {\n      name: EntitiesEnum.ProfileLocation,\n      label: \"Location\",\n    },\n  ],\n  TRAINER: [\n    {\n      name: EntitiesEnum.ProfileEditTrainer,\n      label: \"Edit trainer information\",\n    },\n    {\n      name: EntitiesEnum.ProfileEmail,\n      label: \"Change email\",\n    },\n    {\n      name: EntitiesEnum.ProfilePassword,\n      label: \"Change password\",\n    },\n    {\n      name: EntitiesEnum.ProfilePronounce,\n      label: \"Pronounce\",\n    },\n    // {\n    //   name: EntitiesEnum.ProfileLanguages,\n    //   label: \"Language\",\n    //   value: EntitiesEnum.Language,\n    // },\n    // {\n    //   name: EntitiesEnum.ProfileAppMode,\n    //   label: \"App mode\",\n    //   value: EntitiesEnum.AppMode,\n    // },\n    // {\n    //   name: EntitiesEnum.ProfileNotifications,\n    //   label: \"Notifications\",\n    // },\n    // {\n    //   name: EntitiesEnum.ProfilePreferences,\n    //   label: \"Add social links\",\n    // },\n    {\n      name: EntitiesEnum.ProfileLocation,\n      label: \"Location\",\n    },\n    {\n      name: EntitiesEnum.ProfileOrderConfirmation,\n      label: \"Order confirmation\",\n    },\n  ],\n  FACILITY: [\n    {\n      name: EntitiesEnum.ProfileEditGym,\n      label: \"Edit gym information\",\n    },\n    {\n      name: EntitiesEnum.ProfileEmail,\n      label: \"Change email\",\n    },\n    {\n      name: EntitiesEnum.ProfilePassword,\n      label: \"Change password\",\n    },\n    // {\n    //   name: EntitiesEnum.ProfileLanguages,\n    //   label: \"Language\",\n    //   value: EntitiesEnum.Language,\n    // },\n    // {\n    //   name: EntitiesEnum.ProfileAppMode,\n    //   label: \"App mode\",\n    //   value: EntitiesEnum.AppMode,\n    // },\n    // {\n    //   name: EntitiesEnum.ProfileNotifications,\n    //   label: \"Notifications\",\n    // },\n    // {\n    //   name: EntitiesEnum.ProfilePreferences,\n    //   label: \"Add social links\",\n    // },\n    {\n      name: EntitiesEnum.ProfileLocation,\n      label: \"Location\",\n    },\n    {\n      name: EntitiesEnum.ProfileOrderConfirmation,\n      label: \"Order confirmation\",\n    },\n  ],\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, renderList as _renderList, Fragment as _Fragment, createElementVNode as _createElementVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-261e0bf6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"profile-edit\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"profile-edit__photo\"\n}\nconst _hoisted_3 = { class: \"profile-edit__options\" }\n\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport PhotoLoader from \"@/general/components/blocks/PhotoLoader.vue\";\nimport { toastController } from \"@ionic/vue\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport ChooseBlock from \"@/general/components/blocks/Choose.vue\";\nimport { computed, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport useRoles from \"@/hooks/useRole\";\nimport { editProfileMenu } from \"@/const/edit-profile-menu\";\nimport { dataURItoFile } from \"@/utils/fileUtils\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport useId from \"@/hooks/useId\";\nimport { useMutation, useQuery } from \"@vue/apollo-composable\";\nimport {\n  FilePreloadDocument,\n  MeDocument,\n  RoleEnum,\n  TrainerTypeEnum,\n  UpdateUserDocument,\n  SubscriptionsTierEnum,\n} from \"@/generated/graphql\";\nimport useSubscription from \"@/hooks/useSubscription\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Edit',\n  setup(__props) {\n\nconst previewOnLoading = ref<boolean>(false);\nconst previewUrl = ref<string>(\"\");\nconst previewPath = ref<string>(\"\");\nconst percentLoaded = ref<number | undefined>();\n\nconst router = useRouter();\nconst route = useRoute();\nconst { type: subscriptionType } = useSubscription();\n\nconst { id } = useId();\n\nlet abort: any;\n\nconst { mutate: filePreload } = useMutation(FilePreloadDocument, {\n  context: {\n    fetchOptions: {\n      useUpload: true,\n      onProgress: (ev: ProgressEvent) => {\n        percentLoaded.value = (ev.loaded / ev.total) * 100;\n      },\n      onAbortPossible: (abortHandler: any) => {\n        abort = abortHandler;\n      },\n    },\n  },\n});\n\nconst { mutate } = useMutation(UpdateUserDocument);\n\nconst removePhoto = () => {\n  previewUrl.value = \"\";\n};\n\nconst photoSelected = async (value: string): Promise<void> => {\n  if (!value?.length) {\n    deletePhoto();\n\n    return;\n  }\n  const file = dataURItoFile(value, uuidv4());\n  previewOnLoading.value = true;\n  percentLoaded.value = 0;\n  await filePreload({ file })\n    .then((res) => {\n      previewPath.value = res?.data.filePreload.path;\n      previewUrl.value = `${process.env.VUE_APP_MEDIA_URL}${res?.data.filePreload.path}`;\n      mutate({\n        id,\n        input: {\n          avatar: res?.data.filePreload.path,\n        },\n      })\n        .then(async () => {\n          const toast = await toastController.create({\n            message: \"Image uploaded!\",\n            duration: 2000,\n            icon: \"assets/icon/success.svg\",\n            cssClass: \"success-toast\",\n          });\n          toast.present();\n          refetch()\n        })\n        .catch(async (error) => {\n          const toast = await toastController.create({\n            message:\n              \"Image upload failed!\",\n            duration: 2000,\n            icon: \"assets/icon/info.svg\",\n            cssClass: \"warning-toast\",\n          });\n          toast.present();\n          console.error(error)\n        });\n      previewOnLoading.value = false;\n      percentLoaded.value = undefined;\n    })\n    .catch(async (error) => {\n      const toast = await toastController.create({\n        message:\n          \"Image upload failed!\",\n        duration: 2000,\n        icon: \"assets/icon/info.svg\",\n        cssClass: \"warning-toast\",\n      });\n      toast.present();\n      console.error(error);\n      abort();\n      previewOnLoading.value = false;\n      percentLoaded.value = undefined;\n    });\n};\n\nconst deletePhoto = () => {\n  mutate({\n    id,\n    input: {\n      avatar: null,\n    },\n  })\n    .then(async () => {\n      const toast = await toastController.create({\n        message: \"Profile Image was deleted!\",\n        duration: 2000,\n        icon: \"assets/icon/success.svg\",\n        cssClass: \"success-toast\",\n      });\n      toast.present();\n      removePhoto();\n      refetch();\n    })\n    .catch(async (error) => {\n      const toast = await toastController.create({\n        message:\n          \"Action failed!\",\n        duration: 2000,\n        icon: \"assets/icon/info.svg\",\n        cssClass: \"warning-toast\",\n      });\n      toast.present();\n      console.error(error)\n    });\n};\n\nconst { onResult, refetch, result, loading } = useQuery(\n  MeDocument,\n  {},\n  { fetchPolicy: \"network-only\" }\n);\n\nonResult(({ data }) => {\n  previewUrl.value = data.me.avatarUrl;\n});\n\nconst onBack = () => {\n  router.go(-1);\n};\n\nconst { role } = useRoles();\n\nconst menuType =\n  role === RoleEnum.OrganizationOwner ||\n  role === RoleEnum.FacilityOwner ||\n  role === RoleEnum.Manager\n    ? EntitiesEnum.Facility\n    : role;\nconst menu = editProfileMenu[menuType];\n\nconst goTo = (name: EntitiesEnum) => {\n  if (route.query.facilityId) {\n    router.push({\n      name,\n      query: {\n        facilityId: route.query.facilityId as string,\n      },\n    });\n  } else {\n    router.push({\n      name,\n    });\n  }\n};\n\nconst settings = {\n  [EntitiesEnum.Language]: \"English\",\n  [EntitiesEnum.AppMode]: \"Dark mode\",\n};\n\nconst isProfile = computed(\n  () => role === RoleEnum.User || role === RoleEnum.Trainer\n);\n\nconst trainerType = computed<TrainerTypeEnum>(\n  () => result.value?.me.trainer_type\n);\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_ion_spinner = _resolveComponent(\"ion-spinner\")!\n\n  return (_openBlock(), _createBlock(BaseLayout, { \"hide-navigation-menu\": \"\" }, {\n    header: _withCtx(() => [\n      _createVNode(PageHeader, {\n        \"back-btn\": \"\",\n        title: isProfile.value ? 'Edit Profile' : 'Edit gym profile',\n        onBack: onBack\n      }, null, 8, [\"title\"])\n    ]),\n    content: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_unref(role) === _unref(RoleEnum).User)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n              _createVNode(PhotoLoader, {\n                \"circle-shape\": \"\",\n                type: \"avatar\",\n                progress: percentLoaded.value,\n                loading: previewOnLoading.value,\n                photo: previewUrl.value,\n                onChange: photoSelected\n              }, null, 8, [\"progress\", \"loading\", \"photo\"])\n            ]))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_3, [\n          (_unref(loading))\n            ? (_openBlock(), _createBlock(_component_ion_spinner, {\n                key: 0,\n                class: \"spinner\",\n                name: \"lines\"\n              }))\n            : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(_unref(menu), (menuItem) => {\n                return (_openBlock(), _createElementBlock(_Fragment, {\n                  key: menuItem.name\n                }, [\n                  (\n                _unref(role) !== _unref(RoleEnum).Trainer ||\n                menuItem.name !== _unref(EntitiesEnum).ProfileLocation ||\n                trainerType.value !== _unref(TrainerTypeEnum).WorkingInGym\n              )\n                    ? (_openBlock(), _createBlock(ChooseBlock, {\n                        key: 0,\n                        title: menuItem.label,\n                        value: settings[menuItem.value],\n                        onClick: ($event: any) => (goTo(menuItem.name)),\n                        class: \"profile-edit__option\",\n                        disabled: \n                menuItem.name === _unref(EntitiesEnum).ProfileOrderConfirmation &&\n                _unref(subscriptionType) !== _unref(SubscriptionsTierEnum).Gold\n              \n                      }, null, 8, [\"title\", \"value\", \"onClick\", \"disabled\"]))\n                    : _createCommentVNode(\"\", true)\n                ], 64))\n              }), 128))\n        ])\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./Edit.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Edit.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Edit.vue?vue&type=style&index=0&id=261e0bf6&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-261e0bf6\"]])\n\nexport default __exports__"],"names":["CameraSource","CameraDirection","CameraResultType","Camera","web","then","m","CameraWeb","_hoisted_1","key","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","actionTypesEnum","_defineComponent","__name","props","photo","icon","default","circleShape","type","Boolean","loading","progress","emits","setup","__props","emit","value","ref","uploadedImage","isCropperOpen","watch","newVal","openLoadOptions","async","mobileButtons","text","role","data","Delete","MakeAPhoto","PhotoLibrary","webButtons","actionSheet","actionSheetController","create","mode","buttons","Capacitor","isNativePlatform","present","onWillDismiss","actions","setValue","getPhoto","Photos","isPlatform","permissions","requestPermissions","source","camera","photos","alert","alertController","header","message","image","width","height","quality","allowEditing","resultType","Base64","base64String","newPhoto","setCropperOpen","getCroppedImg","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","_createElementVNode","onClick","_normalizeClass","src","_createVNode","_unref","IonIcon","_createBlock","IonItem","_withCtx","_createCommentVNode","CircleProgress","percent","_","PhotoCropper","onSetOpen","file","onGetUploadedImg","__exports__","editProfileMenu","USER","name","EntitiesEnum","ProfileEmail","label","ProfilePassword","ProfilePreferences","ProfileLocation","TRAINER","ProfileEditTrainer","ProfilePronounce","ProfileOrderConfirmation","FACILITY","ProfileEditGym","previewOnLoading","previewUrl","previewPath","percentLoaded","router","useRouter","route","useRoute","subscriptionType","useSubscription","id","useId","abort","mutate","filePreload","useMutation","FilePreloadDocument","context","fetchOptions","useUpload","onProgress","ev","loaded","total","onAbortPossible","abortHandler","UpdateUserDocument","removePhoto","photoSelected","length","deletePhoto","dataURItoFile","uuidv4","res","path","process","VUE_APP_MEDIA_URL","input","avatar","toast","toastController","duration","cssClass","refetch","catch","console","error","undefined","onResult","result","useQuery","MeDocument","fetchPolicy","me","avatarUrl","onBack","go","useRoles","menuType","RoleEnum","OrganizationOwner","FacilityOwner","Manager","Facility","menu","goTo","query","facilityId","push","settings","Language","AppMode","isProfile","computed","User","Trainer","trainerType","trainer_type","_component_ion_spinner","_resolveComponent","BaseLayout","PageHeader","title","content","PhotoLoader","onChange","_renderList","menuItem","TrainerTypeEnum","WorkingInGym","ChooseBlock","$event","disabled","SubscriptionsTierEnum","Gold"],"sourceRoot":""}