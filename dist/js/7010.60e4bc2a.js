"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[7010],{40411:function(e,a,t){t.d(a,{b:function(){return n}});var o=t(29895);const n=(0,o.fo)("Geolocation",{web:()=>t.e(6642).then(t.bind(t,56642)).then((e=>new e.GeolocationWeb))})},20354:function(e,a,t){var o;t.d(a,{u:function(){return o}}),function(e){e["login"]="LOGIN",e["registration"]="REGISTER",e["SelectRole"]="SELECT_ROLE",e["CheckEmail"]="CHECK_EMAIL",e["ChooseFacilityType"]="CHOOSE_FACILITY_TYPE"}(o||(o={}))},56067:function(e,a,t){t.d(a,{Z:function(){return b}});var o=t(66252),n=t(3577),s=t(2262),l=t(31810),i=t(20354);const c=e=>((0,o.dD)("data-v-e64b4000"),e=e(),(0,o.Cn)(),e),r={class:"header__container"},u=c((()=>(0,o._)("div",{class:"header__circles"},null,-1))),d=c((()=>(0,o._)("br",null,null,-1))),g=c((()=>(0,o._)("br",null,null,-1)));var v=(0,o.aZ)({__name:"AuthenticationHeader",props:{mode:{},backButton:{type:Boolean,default:!1},closeButton:{type:Boolean,default:!1},backgroundImage:{default:"tamra"},hiddenLogo:{type:Boolean,default:!1}},emits:["back"],setup(e){const a=e,{mode:t}=(0,s.BK)(a),c=(0,o.Fl)((()=>t?.value===i.u.login)),v=(0,o.Fl)((()=>t?.value===i.u.registration));return(e,a)=>((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",{style:(0,n.j5)({backgroundImage:`url(assets/backgrounds/${e.backgroundImage}.png)`}),class:"header"},[(0,o.Wm)((0,s.SU)(l.Sm),{class:"header__buttons"},{default:(0,o.w5)((()=>[e.backButton?((0,o.wg)(),(0,o.j4)((0,s.SU)(l.oU),{key:0,class:"header-btn",onClick:a[0]||(a[0]=a=>e.$emit("back")),icon:"assets/icon/arrow-back.svg"})):(0,o.kq)("",!0),e.closeButton?((0,o.wg)(),(0,o.j4)((0,s.SU)(l.oU),{key:1,class:"header-btn",onClick:a[1]||(a[1]=a=>e.$emit("back")),icon:"assets/icon/close.svg"})):(0,o.kq)("",!0)])),_:1}),e.hiddenLogo?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)((0,s.SU)(l.gu),{key:0,src:"assets/icon/logo.svg",class:"logo",alt:"logo"})),u,(0,o.WI)(e.$slots,"title",{},(()=>[(0,o.Wm)((0,s.SU)(l.wd),{class:"logo-title"},{default:(0,o.w5)((()=>[(0,o.Uk)(" SPOTTER")])),_:1})])),(0,o.WI)(e.$slots,"description",{},(()=>[(0,o.Wm)((0,s.SU)(l.wd),{class:"logo-description"},{default:(0,o.w5)((()=>[c.value?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)(" Log in or Sign Up to "),d,(0,o.Uk)(" Get Started ")],64)):v.value?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)(" Sign up and Create "),g,(0,o.Uk)(" Your Profile ")],64)):(0,o.kq)("",!0)])),_:1})]))],4)]))}}),k=t(83744);const _=(0,k.Z)(v,[["__scopeId","data-v-e64b4000"]]);var b=_},27010:function(e,a,t){t.r(a),t.d(a,{default:function(){return y}});t(57658);var o=t(66252),n=t(2262),s=t(31810),l=t(56067),i=t(10121),c=t(61081),r=t(36874),u=t(40411),d=t(49316),g=t(87794),v=t(43173),k=t(22201);const _=e=>((0,o.dD)("data-v-d491a990"),e=e(),(0,o.Cn)(),e),b={class:"page-content ion-padding-horizontal"},m={class:"buttons"},w=_((()=>(0,o._)("br",null,null,-1)));var p=(0,o.aZ)({__name:"RegistrationDone",setup(e){const a=(0,n.iH)(!1),t=(0,k.tv)(),_=(0,n.iH)(null),p=(0,n.iH)(null),f=async()=>{const e=await u.b.checkPermissions();"denied"===e.location?(await u.b.requestPermissions(),await E()):await E()},{load:h,onResult:y,onError:U}=(0,d.td)(g.Oo,{first:15,name:"",state_code:""}),{mutate:S,onDone:C}=(0,d.Db)(g.sY),E=async()=>{try{const e=await u.b.getCurrentPosition();_.value={lat:e.coords.latitude,lng:e.coords.longitude},r.d.reverseGeocode(_.value.lat,_.value.lng,{useLocale:!1,maxResults:2}).then((e=>{p.value=e[0],p.value?.locality?h(g.Oo,{first:15,name:p.value.locality,state_code:p.value.administrativeArea}):W()})).catch((e=>{W(),console.log(e)}))}catch(e){I("Failed to get your location. Check the permissions for the application."),W()}};y((e=>{const a=e.data.cities.data[0],{id:t}=(0,v.Z)();a?S({id:t,city_id:a.id,lat:_.value?.lat,lng:_.value?.lng,street:`${p.value?.thoroughfare} ${p.value?.subThoroughfare}`}):W()})),U((()=>{W()}));const I=async e=>{const a=await s.Mn.create({message:e,duration:2e3,icon:"assets/icon/info.svg",cssClass:"warning-toast"});a.present()};C((()=>{W()}));const W=()=>{t.push({name:c.N.Facilities})};return(e,t)=>((0,o.wg)(),(0,o.j4)(i.Z,{"hide-navigation-menu":""},{content:(0,o.w5)((()=>[(0,o.Wm)(l.Z),(0,o._)("div",b,[(0,o._)("div",null,[(0,o.Wm)((0,n.SU)(s.wd),{class:"page-title",color:"primary"},{default:(0,o.w5)((()=>[(0,o.Uk)("You're Done!")])),_:1}),(0,o.Wm)((0,n.SU)(s.yW),{color:"secondary"},{default:(0,o.w5)((()=>[(0,o.Uk)(" You will be redirected to your main landing page screen ")])),_:1})]),(0,o._)("div",m,[w,(0,o.Wm)((0,n.SU)(s.YG),{onClick:f,class:"button",expand:"block",disabled:a.value},{default:(0,o.w5)((()=>[a.value?((0,o.wg)(),(0,o.j4)((0,n.SU)(s.PQ),{key:1,name:"lines",class:"spinner"})):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)("Start now!")],64))])),_:1},8,["disabled"])])])])),_:1}))}}),f=t(83744);const h=(0,f.Z)(p,[["__scopeId","data-v-d491a990"]]);var y=h}}]);
//# sourceMappingURL=7010.60e4bc2a.js.map