{"version":3,"file":"js/5123.5c403c4e.js","mappings":"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","sources":["webpack://spotter/./src/hooks/useUser.ts","webpack://spotter/./src/trainers/views/registration/ExtraPersonal.vue?3227","webpack://spotter/./src/trainers/views/registration/ExtraPersonal.vue"],"sourcesContent":["export default function useUser() {\n  const {first_name, last_name, email} = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n\n  return {\n    first_name, last_name, email\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, unref as _unref, withCtx as _withCtx, createTextVNode as _createTextVNode, isRef as _isRef, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e065c08e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"inputs-form\" }\nconst _hoisted_2 = { class: \"action-wrapper\" }\n\nimport { computed } from \"vue\";\nimport { useField } from \"vee-validate\";\nimport { useStore } from \"vuex\";\nimport { requiredFieldSchema } from \"@/validations/authValidations\";\nimport { IonButton, IonHeader, IonText, IonTitle } from \"@ionic/vue\";\nimport { useRouter } from \"vue-router\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport { useMutation } from \"@vue/apollo-composable\";\nimport useId from \"@/hooks/useId\";\nimport useUser from \"@/hooks/useUser\";\nimport {\n  UpdateUserNameDocument,\n  UpdateUserSettingsDocument,\n} from \"@/generated/graphql\";\nimport { ProfileSettings } from \"@/ts/enums/user\";\nimport { setSettings } from \"@/hooks/useSettings\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ExtraPersonal',\n  setup(__props) {\n\nconst router = useRouter();\nconst store = useStore();\n\nconst { id } = useId();\nconst { first_name,last_name, } = useUser();\nconst { mutate: updateUser } = useMutation(UpdateUserNameDocument);\n\nlet { value: firstName, errorMessage: firstNameError } = useField<string>(\n  \"firstName\",\n  requiredFieldSchema\n);\n\nfirstName.value = first_name\n\nlet { value: lastName, errorMessage: lastNameError } = useField<string>(\n  \"lastName\",\n  requiredFieldSchema\n);\n\nlastName.value = last_name\n\nconst isValidForm = computed(\n  () =>\n    !firstNameError.value &&\n    !lastNameError.value &&\n    firstName.value &&\n    lastName.value\n);\n\nconst handleSubmit = () => {\n  const extraPersonal = [\n    {\n      name: \"firstName\",\n      value: firstName.value,\n    },\n    {\n      name: \"lastName\",\n      value: lastName.value,\n    },\n  ];\n\n  if (isValidForm.value) {\n    extraPersonal.forEach((info) => {\n      store.dispatch(\"setExtraPersonalData\", {\n        key: info.name,\n        value: info.value,\n      });\n    });\n\n    updateUser({\n      id,\n      first_name: firstName.value,\n      last_name: lastName.value,\n    })\n      .then(() => afterTrainerTypeUpdated())\n      .catch((error) => {\n        throw new Error(error);\n      });\n  }\n};\n\nconst { mutate: updateUserSettings, onDone: settingsUpdated } = useMutation(\n  UpdateUserSettingsDocument\n);\n\nconst afterTrainerTypeUpdated = () => {\n  setSettings([{ isIdentityVerified: true }]);\n\n  const { id } = useId();\n  const front_settings = localStorage.getItem(ProfileSettings.UserSettings);\n\n  updateUserSettings({\n    id,\n    front_settings,\n  });\n};\n\nsettingsUpdated(() => {\n  router.push({ name: EntitiesEnum.Quizz });\n});\n\nconst onBack = () => {\n  router.go(-1);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_page_header = _resolveComponent(\"page-header\")!\n  const _component_base_input = _resolveComponent(\"base-input\")!\n  const _component_base_layout = _resolveComponent(\"base-layout\")!\n\n  return (_openBlock(), _createBlock(_component_base_layout, { \"header-fixed\": false }, {\n    header: _withCtx(() => [\n      _createVNode(_unref(IonHeader), { class: \"ion-no-border\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_page_header, {\n            onBack: onBack,\n            \"back-btn\": \"\"\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    content: _withCtx(() => [\n      _createVNode(_unref(IonTitle), { class: \"main-title\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(\"Verification Setup\")\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(IonText), { class: \"subtitle\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" To ensure the safety of our trainers and users, we need to verify your Identity \")\n        ]),\n        _: 1\n      }),\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_base_input, {\n          value: _unref(firstName),\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(firstName) ? (firstName).value = $event : firstName = $event)),\n          \"error-message\": _unref(firstNameError),\n          placeholder: \"Enter your first name\",\n          name: \"firstName\",\n          label: \"Your full name as it appears on Gov issued I.D.\",\n          required: \"\"\n        }, null, 8, [\"value\", \"error-message\"]),\n        _createVNode(_component_base_input, {\n          value: _unref(lastName),\n          \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(lastName) ? (lastName).value = $event : lastName = $event)),\n          \"error-message\": _unref(lastNameError),\n          placeholder: \"Enter your last name\",\n          name: \"lastName\",\n          required: \"\"\n        }, null, 8, [\"value\", \"error-message\"])\n      ])\n    ]),\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_unref(IonButton), {\n          onClick: handleSubmit,\n          type: \"submit\",\n          expand: \"block\"\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\" Next \")\n          ]),\n          _: 1\n        })\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./ExtraPersonal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ExtraPersonal.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ExtraPersonal.vue?vue&type=style&index=0&id=e065c08e&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e065c08e\"]])\n\nexport default __exports__"],"names":["useUser","first_name","last_name","email","JSON","parse","localStorage","getItem","_hoisted_1","class","_hoisted_2","_defineComponent","__name","setup","__props","router","useRouter","store","useStore","id","useId","mutate","updateUser","useMutation","UpdateUserNameDocument","value","firstName","errorMessage","firstNameError","useField","requiredFieldSchema","lastName","lastNameError","isValidForm","computed","handleSubmit","extraPersonal","name","forEach","info","dispatch","key","then","afterTrainerTypeUpdated","catch","error","Error","updateUserSettings","onDone","settingsUpdated","UpdateUserSettingsDocument","setSettings","isIdentityVerified","front_settings","ProfileSettings","UserSettings","push","EntitiesEnum","Quizz","onBack","go","_ctx","_cache","_component_page_header","_resolveComponent","_component_base_input","_component_base_layout","_openBlock","_createBlock","header","_withCtx","_createVNode","_unref","IonHeader","default","_","content","IonTitle","_createTextVNode","IonText","_createElementVNode","$event","_isRef","placeholder","label","required","footer","IonButton","onClick","type","expand","__exports__"],"sourceRoot":""}