"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[5231],{13649:function(e,l,a){a.d(l,{Z:function(){return f}});var t=a(66252),i=a(2262),n=a(3577),s=a(31810),r=a(64193),o=a(35294);const d={class:"facility-item__photo"},c={class:"facility-item__inner"},u={class:"facility-item__head"};var g=(0,t.aZ)({__name:"FacilityItem",props:{facility:{}},setup(e){const l=e,a=(0,t.Fl)((()=>l.facility.media?.length?`${{NODE_ENV:"production",VUE_APP_API_URL:"https://api.spotterfitness.com/graphql",VUE_APP_GOOGLE_AUTH_CLIENT_ID:"",BASE_URL:"/"}.VUE_APP_MEDIA_URL}${l.facility.media[0]?.path}`:""));return(e,l)=>((0,t.wg)(),(0,t.j4)((0,i.SU)(s.Ie),{class:"facility-item"},{default:(0,t.w5)((()=>[(0,t._)("div",d,[a.value?.length?((0,t.wg)(),(0,t.j4)((0,i.SU)(s.Xz),{key:0,src:a.value},null,8,["src"])):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,n.zw)(e.facility.name?.charAt(0)),1)],64))]),(0,t._)("div",c,[(0,t._)("div",u,[(0,t.Wm)((0,i.SU)(s.Q$),{class:"facility-item__title"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.facility.name),1)])),_:1}),(0,t.Wm)(r.Z,{class:"facility-item__rating"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.facility.score),1)])),_:1})]),(0,t.Wm)(o.Z,{class:"facility-item__address"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(e.facility.address?.street),1)])),_:1})])])),_:1}))}}),v=a(83744);const _=(0,v.Z)(g,[["__scopeId","data-v-2f13078e"]]);var f=_},78511:function(e,l,a){a.r(l),a.d(l,{default:function(){return C}});a(57658);var t=a(66252),i=a(2262),n=a(10121),s=a(54354),r=a(58770),o=a(62308),d=a(31810),c=a(13649),u=a(87794),g=a(23834),v=a(61081),_=a(22201),f=a(82544);const m={class:"content ion-padding-horizontal ion-padding-bottom"},y={key:0,class:"ion-text-center"};var p=(0,t.aZ)({__name:"FacilitiesPage",props:{filters:{},selected:{}},emits:["location-items","toggle-modal","hide-modal","deselect"],setup(e,{emit:l}){const a=e,n=(0,_.tv)(),{formattedResult:s,markerItems:r,loading:o,error:p,refetch:w}=(0,g.a)(u.kF,(e=>({id:e.id,lat:e.address?.lat,lng:e.address?.lng})),(e=>e.value?.facilities?.data??[]),a.filters?{near:{lat:a.filters.position.lat,lng:a.filters.position.lng,radius:a.filters.distance}}:void 0),k=(0,t.Fl)((()=>a.selected?s.value.filter((e=>e.id===a.selected)):s.value));(0,t.YP)((()=>a.filters),(e=>{e&&w({near:{lat:e.position.lat,lng:e.position.lng,radius:e.distance}})}));const h=()=>{l("toggle-modal")},U=(e,a)=>{l("hide-modal"),n.push({name:v.N.Facility,params:{id:a}})};return(0,t.YP)((()=>r.value),(()=>l("location-items",r.value))),(e,a)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,i.SU)(o)||(0,i.SU)(s)?.length?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.sr),{key:0,class:"header"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,i.SU)(d.wd),{slot:"start",class:"title"},{default:(0,t.w5)((()=>[e.selected?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)("Selected")],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)("Gyms Nearby")],64))])),_:1}),e.selected?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.YG),{key:1,slot:"end",fill:"clear",color:"primary",class:"header__btn",onClick:a[0]||(a[0]=e=>l("deselect"))},{default:(0,t.w5)((()=>[(0,t.Uk)(" Show all ")])),_:1})):((0,t.wg)(),(0,t.j4)((0,i.SU)(d.YG),{key:0,slot:"end",fill:"clear",color:"primary",onClick:h,class:"header__btn hide-on-fullscreen"},{default:(0,t.w5)((()=>[(0,t.Uk)(" View All ")])),_:1}))])),_:1})):(0,t.kq)("",!0),(0,t._)("div",m,[(0,i.SU)(o)?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.PQ),{key:0,name:"lines",class:"spinner"})):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,i.SU)(p)?((0,t.wg)(),(0,t.iD)("p",y,"Something went wrong...")):k.value.length?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)(k.value,(e=>((0,t.wg)(),(0,t.j4)(c.Z,{key:e.id,facility:e,onClick:l=>U(l,e.id)},null,8,["facility","onClick"])))),128)):((0,t.wg)(),(0,t.j4)(f.Z,{key:2,"hide-button":"",title:"Sorry, no gyms found",icon:"assets/icon/weights.svg",text:"Currently there are no gyms in your area"}))],64))])],64))}}),w=a(83744);const k=(0,w.Z)(p,[["__scopeId","data-v-e57f2d9e"]]);var h=k,U=a(3577),S=a(90599),b=a(35294),P=a(49316);const D={class:"content ion-padding-horizontal ion-padding-bottom"},H={key:0,class:"ion-text-center"};var F=(0,t.aZ)({__name:"TrainersPage",props:{filters:{},availabilityFilters:{},selected:{}},emits:["location-items","toggle-modal","hide-modal","deselect"],setup(e,{emit:l}){const a=e,n=(0,t.Fl)((()=>a.filters?{lat:a.filters.position.lat,lng:a.filters.position.lng,radius:a.filters.distance}:void 0)),s=(0,t.Fl)((()=>a.availabilityFilters?{date_from:a.availabilityFilters.date_from??void 0,date_to:a.availabilityFilters.date_to??void 0}:void 0)),{formattedResult:r,markerItems:o,loading:c,error:v,refetch:_}=(0,g.a)(u.Sg,(e=>({id:e.id,trainer_type:e.trainer_type,lat:e.address?.lat||(e.facilities?e.facilities[0]?.address?.lat:0),lng:e.address?.lng||(e.facilities?e.facilities[0]?.address?.lng:0)})),(e=>e.value?.users?.data??[]),{role:u.g8.Trainer,near:n.value,availability:s.value}),m=(0,t.Fl)((()=>r.value.find((e=>e.id===a.selected))));(0,t.YP)((()=>a.filters),(e=>{e&&_({role:u.g8.Trainer,near:n.value,availability:s.value})})),(0,t.YP)((()=>a.availabilityFilters),(()=>{_({role:u.g8.Trainer,near:n.value,availability:s.value})})),(0,t.YP)((()=>a.selected),(()=>{y.value&&(h.value?w({page:1,first:100,role:u.g8.Trainer,facilities:y.value?[y.value.id]:null}):p(u.Sg,{page:1,first:100,role:u.g8.Trainer,facilities:y.value?[y.value.id]:null}))}));const y=(0,t.Fl)((()=>m.value?.facilities?.length&&m.value?.facilities[0]||void 0)),{load:p,refetch:w,loading:k,result:h}=(0,P.td)(u.Sg,{page:1,first:100,role:u.g8.Trainer,facilities:y.value?[y.value.id]:null}),F=(0,t.Fl)((()=>h.value?.users.data??[]));(0,t.YP)((()=>o.value),(()=>l("location-items",o.value)));const T=()=>{l("toggle-modal")};return(e,a)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,i.SU)(c)||(0,i.SU)(r)?.length?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.sr),{key:0,class:"header"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,i.SU)(d.wd),{slot:"start",class:"title"},{default:(0,t.w5)((()=>[e.selected?m.value?.trainer_type===(0,i.SU)(u.w3).Freelancer?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)(" Selected ")],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[(0,t.Uk)((0,U.zw)(y.value?.name)+" ",1),(0,t.Wm)(b.Z,{class:"radiobutton__address"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,U.zw)(y.value?.address?.street),1)])),_:1})],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)("Trainers Nearby")],64))])),_:1}),e.selected?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.YG),{key:1,slot:"end",fill:"clear",color:"primary",class:"header__btn",onClick:a[0]||(a[0]=e=>l("deselect"))},{default:(0,t.w5)((()=>[(0,t.Uk)(" Show all ")])),_:1})):((0,t.wg)(),(0,t.j4)((0,i.SU)(d.YG),{key:0,slot:"end",fill:"clear",color:"primary",onClick:T,class:"header__btn hide-on-fullscreen"},{default:(0,t.w5)((()=>[(0,t.Uk)(" View All ")])),_:1}))])),_:1})):(0,t.kq)("",!0),(0,t._)("div",D,[(0,i.SU)(c)?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.PQ),{key:0,name:"lines",class:"spinner"})):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,i.SU)(v)?((0,t.wg)(),(0,t.iD)("p",H,"Something went wrong...")):!e.selected&&(0,i.SU)(r).length?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)((0,i.SU)(r),(e=>((0,t.wg)(),(0,t.j4)(S.Z,{key:e.id,trainer:e},null,8,["trainer"])))),128)):e.selected?((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[m.value.trainer_type===(0,i.SU)(u.w3).Freelancer?((0,t.wg)(),(0,t.j4)(S.Z,{key:0,trainer:m.value},null,8,["trainer"])):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,i.SU)(k)?((0,t.wg)(),(0,t.j4)((0,i.SU)(d.PQ),{key:0,name:"lines",class:"spinner"})):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(F.value,(e=>((0,t.wg)(),(0,t.j4)(S.Z,{key:e.id,trainer:e},null,8,["trainer"])))),128))],64))],64)):((0,t.wg)(),(0,t.j4)(f.Z,{key:3,"hide-button":"",title:"Sorry, no trainers found",icon:"assets/icon/weights.svg",text:"Currently there are no trainers in your area"}))],64))])],64))}});const T=(0,w.Z)(F,[["__scopeId","data-v-1fc8b4f3"]]);var I=T,E=a(61133),A=a(59205),Y=a(23279),N=a.n(Y);const j={class:"page-map"};var Z=(0,t.aZ)({__name:"Index",setup(e){const l=(0,i.iH)([]),a=(0,i.iH)(null),d=(0,i.iH)(!1),c=(0,i.iH)(null),g=(0,i.iH)(!1),f=[{name:v.N.Facilities,label:"Gyms"},{name:v.N.Trainers,label:"Trainers"}],m=localStorage.getItem("preferred_booking_tab"),y=(0,i.iH)(m??v.N.Facilities),p=e=>{e&&(y.value=e),a.value=null},w=N()((e=>{a.value=null,H.value=e}),500),k=e=>{l.value=e},U=e=>{d.value=e},S=()=>{c?.value?.showDraggable()},b=(0,i.iH)(!1),D=(0,i.iH)({lat:Number({NODE_ENV:"production",VUE_APP_API_URL:"https://api.spotterfitness.com/graphql",VUE_APP_GOOGLE_AUTH_CLIENT_ID:"",BASE_URL:"/"}.VUE_APP_DEFAULT_POSITION_LAT),lng:Number({NODE_ENV:"production",VUE_APP_API_URL:"https://api.spotterfitness.com/graphql",VUE_APP_GOOGLE_AUTH_CLIENT_ID:"",BASE_URL:"/"}.VUE_APP_DEFAULT_POSITION_LNG)}),H=(0,i.iH)({position:D.value,distance:6}),{onResult:F,loading:T}=(0,P.aM)(u.en);F((({data:e})=>{y.value=e.me?.settings?.find((e=>e.setting.code===u.Lm.DisplayPreference))?.value||v.N.Facilities,localStorage.setItem("preferred_booking_tab",y.value),b.value=e.me?.settings?.find((e=>e.setting.code===u.Lm.UsePhoneLocation))?.value??!1,!b.value&&e.me?.address?.lat&&e.me?.address?.lng&&(D.value={lat:e.me.address.lat,lng:e.me.address.lng})}));const Y=[{attachTo:{element:"#page-tabs"},content:{title:"Switch between gyms and trainers!",description:"With one touch, you can switch between gyms and trainers."}},{attachTo:{element:"#discover"},content:{title:"Discover Icon",description:"Check out events happening near you. Meet new people and join in on the fun. "}},{attachTo:{element:"#workout"},content:{title:"Daily Workouts",description:"Purchase daily workouts from your favorite trainer or find someone new!"}}],Z=(0,_.tv)(),{isOnboardingDone:L}=(0,A.rV)(),C=()=>{Z.push({name:v.N.TrainerDemo})},V=(0,i.iH)(),O=e=>{V.value=e},G=()=>{V.value=null},q=e=>{a.value=a.value!==e?e:null};return(e,u)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(n.Z,{draggable:"","header-fixed":"",ref_key:"layout",ref:c,"offset-top":64,"content-full-height":d.value,"initial-breakpoint":d.value?1:.5},{header:(0,t.w5)((()=>[(0,t.Wm)(o.Z,{filters:V.value?{availability:{date_from:V.value.date_from,date_to:V.value.date_to}}:{},type:y.value,onHandleFocus:u[0]||(u[0]=e=>g.value=!0),onHandleBlur:u[1]||(u[1]=e=>g.value=!1),"filters-btn":y.value===(0,i.SU)(v.N).Trainers,onApplyFilters:O,onResetFilters:G},null,8,["filters","type","filters-btn"])])),static:(0,t.w5)((()=>[(0,t._)("div",j,[(0,i.SU)(T)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(r.Z,{key:0,items:l.value,center:D.value,onMarkerClick:q,onFullscreen:U,"selected-item":a.value,onChangePosition:(0,i.SU)(w),"use-current-location":b.value},null,8,["items","center","selected-item","onChangePosition","use-current-location"]))])])),draggable:(0,t.w5)((()=>[y.value===(0,i.SU)(v.N).Facilities?((0,t.wg)(),(0,t.j4)(h,{key:0,filters:H.value,onToggleModal:S,onLocationItems:k,selected:a.value,onDeselect:u[2]||(u[2]=e=>a.value=null)},null,8,["filters","selected"])):(0,t.kq)("",!0),y.value===(0,i.SU)(v.N).Trainers?((0,t.wg)(),(0,t.j4)(I,{key:1,filters:H.value,"availability-filters":V.value,onToggleModal:S,onLocationItems:k,selected:a.value,onDeselect:u[3]||(u[3]=e=>a.value=null)},null,8,["filters","availability-filters","selected"])):(0,t.kq)("",!0)])),_:1},8,["content-full-height","initial-breakpoint"]),y.value&&!g.value?((0,t.wg)(),(0,t.j4)(s.Z,{key:0,tabs:f,class:"page-tabs",value:y.value,onChange:p},null,8,["value"])):(0,t.kq)("",!0),(0,i.SU)(L)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(E.Z,{key:1,steps:Y,"page-classname":"booking",onFinish:C}))],64))}});const L=(0,w.Z)(Z,[["__scopeId","data-v-f72b836a"]]);var C=L}}]);
//# sourceMappingURL=5231.7c14bf59.js.map