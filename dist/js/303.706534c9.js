"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[303],{70303:function(e,n,o){o.r(n),o.d(n,{FacebookLoginWeb:function(){return t}});var s=o(29895);class t extends s.Uw{constructor(){super({name:"FacebookLogin",platforms:["web"]})}initialize(e){const n={version:"v10.0"};return new Promise(((o,s)=>{try{return this.loadScript(e.locale).then((()=>{FB.init(Object.assign(Object.assign({},n),e)),o()}))}catch(t){s(t)}}))}loadScript(e){if("undefined"===typeof document)return Promise.resolve();const n="fb",o=null===document||void 0===document?void 0:document.getElementById(n);if(o)return Promise.resolve();const s=document.getElementsByTagName("head")[0],t=document.createElement("script");return new Promise((o=>{t.defer=!0,t.async=!0,t.id=n,t.onload=()=>{o()},t.src=`https://connect.facebook.net/${null!==e&&void 0!==e?e:"en_US"}/sdk.js`,s.appendChild(t)}))}async login(e){return console.log("FacebookLoginWeb.login",e),new Promise(((n,o)=>{FB.login((e=>{console.debug("FB.login",e),"connected"===e.status?n({accessToken:{token:e.authResponse.accessToken}}):o({accessToken:{token:null}})}),{scope:e.permissions.join(",")})}))}async logout(){return new Promise((e=>{FB.logout((()=>e()))}))}async reauthorize(){return new Promise((e=>{FB.reauthorize((n=>e(n)))}))}async getCurrentAccessToken(){return new Promise(((e,n)=>{FB.getLoginStatus((o=>{if("connected"===o.status){const n={accessToken:{applicationId:void 0,declinedPermissions:[],expires:void 0,isExpired:void 0,lastRefresh:void 0,permissions:[],token:o.authResponse.accessToken,userId:o.authResponse.userID}};e(n)}else n({accessToken:{token:null}})}))}))}async getProfile(e){const n=e.fields.join(",");return new Promise(((e,o)=>{FB.api("/me",{fields:n},(n=>{n.error?o(n.error.message):e(n)}))}))}}}}]);
//# sourceMappingURL=303.706534c9.js.map