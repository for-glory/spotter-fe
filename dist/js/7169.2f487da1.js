"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[7169],{50328:function(t,a,e){e.d(a,{Z:function(){return l}});var n=e(66252),r=e(2262);const s={name:"Calendar"};var o=(0,n.aZ)({...s,props:{attrs:{default:[{key:"today",highlight:{style:{backgroundColor:"var(--gold)"}},dates:[new Date]}]}},emits:["month-changed"],setup(t,{emit:a}){const e=(0,r.iH)(Date.now()),s=t=>{a("month-changed",t)};return(t,a)=>{const r=(0,n.up)("v-calendar");return(0,n.wg)(),(0,n.j4)(r,{class:"spotter-calendar",modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=t=>e.value=t),"is-expanded":"","onUpdate:fromPage":s,rows:2,"is-dark":""},null,8,["modelValue"])}}});const d=o;var l=d},7169:function(t,a,e){e.r(a),e.d(a,{default:function(){return v}});e(57658);var n=e(66252),r=e(10121),s=e(19239),o=e(50328),d=e(22201),l=e(87794),u=e(49316),c=e(27484),m=e.n(c),i=e(43173),f=(0,n.aZ)({__name:"Calendar",setup(t){const a=(0,d.tv)(),{id:e}=(0,i.Z)(),{result:c,refetch:f}=(0,u.aM)(l.MF,{id:e,from:m()().startOf("M").format("YYYY-MM-DD HH:mm:ss"),to:m()().endOf("M").add(1,"M").format("YYYY-MM-DD HH:mm:ss")}),h=t=>{t.date||f({id:e,from:m()().month(t.month-1).startOf("M").format("YYYY-MM-DD HH:mm:ss"),to:m()().month(t.month-1).year(t.year).endOf("M").add(1,"M").format("YYYY-MM-DD HH:mm:ss")})},p=(0,n.Fl)((()=>{const t=[];if(c&&c?.value){const a=c?.value?.userAvailability;if(a&&a?.events){const{events:e}=a,n=e.map((t=>({start_date:t?.start_date||null})));t.push(...n)}if(a&&a?.trainings){const{trainings:e}=a,n=e.map((t=>({start_date:t?.start_date||null})));t.push(...n)}}return t})),v=(0,n.Fl)((()=>{const t=p.value.map((t=>new Date(t.start_date)));return[{key:"today",highlight:{style:{backgroundColor:"var(--gold)"}},dates:[new Date]},{dot:{style:{backgroundColor:"var(--gold)"}},dates:t}]})),g=()=>{a.go(-1)};return(t,a)=>((0,n.wg)(),(0,n.j4)(r.Z,null,{header:(0,n.w5)((()=>[(0,n.Wm)(s.Z,{"back-btn":"",title:"Calendar",onBack:g})])),content:(0,n.w5)((()=>[(0,n.Wm)(o.Z,{class:"calendar",attributes:v.value,onMonthChanged:h},null,8,["attributes"])])),_:1}))}}),h=e(83744);const p=(0,h.Z)(f,[["__scopeId","data-v-8092ba6a"]]);var v=p}}]);
//# sourceMappingURL=7169.2f487da1.js.map