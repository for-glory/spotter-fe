{"version":3,"file":"js/8590.f3732f18.js","mappings":"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","sources":["webpack://spotter/./src/hooks/useFacilityId.ts","webpack://spotter/./src/general/components/AddressItem.vue?bd05","webpack://spotter/./src/general/components/AddressItem.vue","webpack://spotter/./src/general/components/EmptyBlock.vue?f0a6","webpack://spotter/./src/general/components/EmptyBlock.vue","webpack://spotter/./src/general/components/EventItem.vue?be2d","webpack://spotter/./src/general/components/EventItem.vue","webpack://spotter/./src/general/views/events/Index.vue?1383","webpack://spotter/./src/general/views/events/Index.vue"],"sourcesContent":["import { RoleEnum } from \"@/generated/graphql\";\nimport useRoles from \"./useRole\";\n\nexport default function useFacilityId() {\n  const { role: myRole } = useRoles();\n  if (\n    myRole !== RoleEnum.Manager &&\n    myRole !== RoleEnum.FacilityOwner &&\n    myRole !== RoleEnum.OrganizationOwner\n  )\n    return {};\n  const { facilities, owned_facilities } = JSON.parse(\n    localStorage.getItem(\"user\") || \"{}\"\n  );\n  const facility =\n    myRole === RoleEnum.Manager ? facilities[0] : owned_facilities[0];\n\n  return {\n    id: facility?.id,\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeClass as _normalizeClass, createVNode as _createVNode, renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { IonIcon } from \"@ionic/vue\";\nimport { withDefaults } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AddressItem',\n  props: {\n    large: { type: Boolean, default: false }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([{ 'address--large': _ctx.large }, \"address\"])\n  }, [\n    _createVNode(_unref(IonIcon), {\n      class: _normalizeClass([{ 'address__icon--large': _ctx.large }, \"address__icon\"]),\n      src: \"assets/icon/location.svg\"\n    }, null, 8, [\"class\"]),\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 2))\n}\n}\n\n})","import script from \"./AddressItem.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AddressItem.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AddressItem.vue?vue&type=style&index=0&id=1aaae496&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1aaae496\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-776b8fd0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"empty-block\" }\nconst _hoisted_2 = { class: \"empty-block__img\" }\n\nimport { IonText, IonIcon, IonTitle, IonButton } from \"@ionic/vue\";\nimport { withDefaults } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EmptyBlock',\n  props: {\n    title: {},\n    text: {},\n    buttonText: {},\n    hideButton: { type: Boolean },\n    icon: { default: \"assets/icon/shore-run.svg\" }\n  },\n  emits: [\"buttonClick\"],\n  setup(__props: any, { emit: emits }) {\n\n\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", null, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_unref(IonIcon), { src: _ctx.icon }, null, 8, [\"src\"])\n      ]),\n      _createVNode(_unref(IonTitle), { class: \"empty-block__title\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(_ctx.title), 1)\n        ]),\n        _: 1\n      }),\n      _createVNode(_unref(IonText), {\n        color: \"medium\",\n        class: \"empty-block__text\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(_ctx.text), 1)\n        ]),\n        _: 1\n      }),\n      (!_ctx.hideButton)\n        ? (_openBlock(), _createBlock(_unref(IonButton), {\n            key: 0,\n            class: \"button\",\n            expand: \"block\",\n            color: \"primary\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (emits('buttonClick')))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.buttonText), 1)\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./EmptyBlock.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./EmptyBlock.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./EmptyBlock.vue?vue&type=style&index=0&id=776b8fd0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-776b8fd0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, unref as _unref, normalizeClass as _normalizeClass, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-39053960\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\nconst _hoisted_2 = { class: \"event__holder\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"event__time\"\n}\n\nimport { IonThumbnail, IonItem, IonLabel, IonText, IonIcon } from \"@ionic/vue\";\nimport AddressItem from \"@/general/components/AddressItem.vue\";\nimport { computed, withDefaults } from \"vue\";\nimport { Event } from \"@/generated/graphql\";\nimport dayjs from \"dayjs\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EventItem',\n  props: {\n    item: {},\n    rounded: { type: Boolean, default: false },\n    dateRange: { type: Boolean },\n    hideTime: { type: Boolean }\n  },\n  setup(__props: any) {\n\nconst props = __props;\n\n\nconst date = computed(() =>\n  dayjs(props.item.start_date).format(\n    props.dateRange &&\n      dayjs(props.item.start_date).year() !== dayjs(props.item.end_date).year()\n      ? \"D MMM YYYY\"\n      : \"D MMMM\"\n  )\n);\nconst endDate = computed(() =>\n  dayjs(props.item.end_date).format(\n    props.dateRange &&\n      dayjs(props.item.start_date).year() !== dayjs(props.item.end_date).year()\n      ? \"D MMM YYYY\"\n      : \"D MMMM\"\n  )\n);\nconst time = computed(() => dayjs(props.item.start_date).format(\"hh:mm A\"));\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonItem), {\n    lines: \"none\",\n    class: _normalizeClass([\"event\", { 'event--time-hidden': _ctx.hideTime }])\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(IonThumbnail), {\n        class: _normalizeClass([{ 'event__photo--rounded': _ctx.rounded }, \"event__photo\"])\n      }, {\n        default: _withCtx(() => [\n          (_ctx.item?.media?.length && _ctx.item.media[0]?.pathUrl)\n            ? (_openBlock(), _createElementBlock(\"img\", {\n                key: 0,\n                src: _ctx.item.media[0].pathUrl,\n                class: \"event__img\"\n              }, null, 8, _hoisted_1))\n            : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                _createTextVNode(_toDisplayString(_ctx.item.title?.charAt(0)), 1)\n              ], 64))\n        ]),\n        _: 1\n      }, 8, [\"class\"]),\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_unref(IonLabel), { class: \"event__title\" }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(_ctx.item.title), 1)\n          ]),\n          _: 1\n        }),\n        (!_ctx.dateRange && !_ctx.hideTime)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n              _createVNode(_unref(IonIcon), {\n                src: \"assets/icon/time.svg\",\n                class: \"time-icon\"\n              }),\n              _createTextVNode(\" \" + _toDisplayString(time.value), 1)\n            ]))\n          : _createCommentVNode(\"\", true),\n        (!_ctx.hideTime)\n          ? (_openBlock(), _createBlock(_unref(IonText), {\n              key: 1,\n              class: \"event__date\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(date.value) + \" \", 1),\n                (_ctx.dateRange)\n                  ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                      _createTextVNode(\"- \" + _toDisplayString(endDate.value), 1)\n                    ], 64))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true),\n        (_ctx.item.address?.street)\n          ? (_openBlock(), _createBlock(AddressItem, {\n              key: 2,\n              class: \"event__address\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.item.address?.street), 1)\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    _: 1\n  }, 8, [\"class\"]))\n}\n}\n\n})","import script from \"./EventItem.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./EventItem.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./EventItem.vue?vue&type=style&index=0&id=39053960&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-39053960\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode } from \"vue\"\n\nimport {\n  IonIcon,\n  IonButton,\n  IonSpinner,\n  IonInfiniteScroll,\n  IonInfiniteScrollContent,\n  InfiniteScrollCustomEvent,\n} from \"@ionic/vue\";\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport EventItem from \"@/general/components/EventItem.vue\";\nimport { EntitiesEnum } from \"@/const/entities\";\nimport {\n  EventsDocument,\n  EventsQuery,\n  EventsQueryVariables,\n  QueryEventsOrderByColumn,\n  RoleEnum,\n  SortOrder,\n} from \"@/generated/graphql\";\nimport { useQuery } from \"@vue/apollo-composable\";\nimport { ref } from \"vue\";\nimport EmptyBlock from \"@/general/components/EmptyBlock.vue\";\nimport { useRouter } from \"vue-router\";\nimport useId from \"@/hooks/useId\";\nimport useFacilityId from \"@/hooks/useFacilityId\";\n// import dayjs from \"dayjs\";\nimport useRoles from \"@/hooks/useRole\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Index',\n  setup(__props) {\n\nconst eventsPage = ref<number>(1);\nconst totalEvents = ref<number>(0);\n\nconst { id: myId } = useId();\nconst { id: myFacilityId } = useFacilityId();\nconst { role: myRole } = useRoles();\n\nconst idFilter =\n  myRole === RoleEnum.Trainer\n    ? { created_by_trainer: myId }\n    : { created_by_facility: myFacilityId };\n\nconst eventsParams: EventsQueryVariables = {\n  first: 8,\n  page: eventsPage.value,\n  orderBy: [\n    {\n      column: QueryEventsOrderByColumn.StartDate,\n      order: SortOrder.Asc,\n    },\n  ],\n  // start_date: {\n  //   from: dayjs().format(\"YYYY-MM-DD HH:mm:ss\"),\n  //   to: dayjs().add(1, 'y').format(\"YYYY-MM-DD HH:mm:ss\"),\n  // },\n  ...idFilter,\n};\n\nconst {\n  onResult: gotEvents,\n  loading: eventsLoading,\n  refetch: eventsRefetch,\n} = useQuery<EventsQuery>(EventsDocument, eventsParams, {\n  fetchPolicy: \"no-cache\",\n});\n\nconst events = ref([]);\n\ngotEvents((response) => {\n  totalEvents.value = response.data.events?.paginatorInfo.total ?? 0;\n  if (!events.value?.length) {\n    events.value = response.data.events?.data;\n  }\n});\n\nconst router = useRouter();\nconst openEvent = (eventId: string) => {\n  router.push({\n    name: EntitiesEnum.EventsDetailed,\n    params: {\n      id: eventId,\n    },\n  });\n};\n\nconst loadData = (ev: InfiniteScrollCustomEvent) => {\n  if (events.value.length < totalEvents.value) {\n    eventsPage.value++;\n    eventsRefetch({\n      first: 8,\n      page: eventsPage.value,\n      orderBy: [\n        {\n          column: QueryEventsOrderByColumn.StartDate,\n          order: SortOrder.Asc,\n        },\n      ],\n      // start_date: {\n      //   from: dayjs().format(\"YYYY-MM-DD HH:mm:ss\"),\n      //   to: dayjs().add(1, 'y').format(\"YYYY-MM-DD HH:mm:ss\"),\n      // },\n      ...idFilter,\n    })?.then((response) => {\n      events.value = [...events.value, ...(response.data.events?.data ?? [])];\n      ev.target.complete();\n    });\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseLayout, null, {\n    header: _withCtx(() => [\n      _createVNode(PageHeader, { title: \"Events\" }, {\n        \"custom-btn\": _withCtx(() => [\n          _createVNode(_unref(IonButton), {\n            class: \"header-btn\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(router).push({ name: _unref(EntitiesEnum).CreateEvent })))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_unref(IonIcon), { src: \"assets/icon/plus.svg\" })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    content: _withCtx(() => [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"holder-content ion-padding-horizontal\", { 'holder-content--empty': !_unref(eventsLoading) && !events.value.length }])\n      }, [\n        (eventsPage.value === 1 && _unref(eventsLoading))\n          ? (_openBlock(), _createBlock(_unref(IonSpinner), {\n              key: 0,\n              name: \"lines\",\n              class: \"spinner\"\n            }))\n          : _createCommentVNode(\"\", true),\n        (!_unref(eventsLoading) && !events.value.length)\n          ? (_openBlock(), _createBlock(EmptyBlock, {\n              key: 1,\n              title: \"Empty here\",\n              \"button-text\": \"Create first event\",\n              text: \"You have not created any event yet...\",\n              onButtonClick: _cache[1] || (_cache[1] = ($event: any) => (_unref(router).push({ name: _unref(EntitiesEnum).CreateEvent })))\n            }))\n          : _createCommentVNode(\"\", true),\n        (events.value.length)\n          ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(events.value, (event) => {\n                return (_openBlock(), _createBlock(EventItem, {\n                  item: event,\n                  key: event.id,\n                  onClick: ($event: any) => (openEvent(event.id))\n                }, null, 8, [\"item\", \"onClick\"]))\n              }), 128)),\n              (events.value.length < totalEvents.value)\n                ? (_openBlock(), _createBlock(_unref(IonInfiniteScroll), {\n                    key: 0,\n                    threshold: \"100px\",\n                    class: \"infinite-scroll\",\n                    onIonInfinite: loadData\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_unref(IonInfiniteScrollContent), {\n                        \"loading-spinner\": \"lines\",\n                        \"loading-text\": \"Loading more data...\"\n                      })\n                    ]),\n                    _: 1\n                  }))\n                : _createCommentVNode(\"\", true)\n            ], 64))\n          : _createCommentVNode(\"\", true)\n      ], 2)\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./Index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=62e26ab8&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-62e26ab8\"]])\n\nexport default __exports__"],"names":["useFacilityId","role","myRole","useRoles","RoleEnum","Manager","FacilityOwner","OrganizationOwner","facilities","owned_facilities","JSON","parse","localStorage","getItem","facility","id","_defineComponent","__name","props","large","type","Boolean","default","setup","__props","_ctx","_cache","_openBlock","_createElementBlock","class","_normalizeClass","_createVNode","_unref","IonIcon","src","_renderSlot","$slots","__exports__","_hoisted_1","_hoisted_2","title","text","buttonText","hideButton","icon","emits","emit","_createElementVNode","IonTitle","_withCtx","_createTextVNode","_toDisplayString","_","IonText","color","_createCommentVNode","_createBlock","IonButton","key","expand","onClick","$event","_hoisted_3","item","rounded","dateRange","hideTime","date","computed","dayjs","start_date","format","year","end_date","endDate","time","IonItem","lines","IonThumbnail","media","length","pathUrl","_Fragment","charAt","IonLabel","value","address","street","AddressItem","eventsPage","ref","totalEvents","myId","useId","myFacilityId","idFilter","Trainer","created_by_trainer","created_by_facility","eventsParams","first","page","orderBy","column","QueryEventsOrderByColumn","StartDate","order","SortOrder","Asc","onResult","gotEvents","loading","eventsLoading","refetch","eventsRefetch","useQuery","EventsDocument","fetchPolicy","events","response","data","paginatorInfo","total","router","useRouter","openEvent","eventId","push","name","EntitiesEnum","EventsDetailed","params","loadData","ev","then","target","complete","BaseLayout","header","PageHeader","CreateEvent","content","IonSpinner","EmptyBlock","onButtonClick","_renderList","event","EventItem","IonInfiniteScroll","threshold","onIonInfinite","IonInfiniteScrollContent"],"sourceRoot":""}