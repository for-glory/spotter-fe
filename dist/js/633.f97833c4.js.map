{"version":3,"file":"js/633.f97833c4.js","mappings":"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","sources":["webpack://spotter/./src/hooks/useConfirmationModal.ts","webpack://spotter/./src/general/components/blocks/payment/PaymentMethod.vue?cce4","webpack://spotter/./src/general/components/blocks/payment/PaymentMethod.vue","webpack://spotter/./src/general/components/modals/confirmations/Confirmation.vue?61f3","webpack://spotter/./src/general/components/modals/confirmations/Confirmation.vue","webpack://spotter/./src/general/views/profile/PaymentMethods.vue?db24","webpack://spotter/./src/general/views/profile/PaymentMethods.vue"],"sourcesContent":["import { ref } from \"vue\";\n\nexport const useConfirmationModal = () => {\n  const showConfirmationModal = ref(false);\n\n  const hideModal = () => {\n    showConfirmationModal.value = false;\n  };\n\n  const showModal = () => {\n    showConfirmationModal.value = true;\n  };\n\n  return {\n    showConfirmationModal,\n    hideModal,\n    showModal,\n  };\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, normalizeClass as _normalizeClass, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { IonButton, IonIcon, IonText } from \"@ionic/vue\";\n\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PaymentMethod',\n  props: {\n    id: {},\n    icon: {},\n    title: {}\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonButton), {\n    id: `${_ctx.icon}`,\n    class: _normalizeClass([\"payment-method__btn\", { 'payment-method__btn--google-pay': _ctx.id === 'googlePay' }])\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_unref(IonIcon), {\n        class: \"payment-method__icon\",\n        src: `assets/icon/payment/${_ctx.icon}.svg`\n      }, null, 8, [\"src\"]),\n      _createVNode(_unref(IonText), { class: \"payment-method__title\" }, {\n        default: _withCtx(() => [\n          _createTextVNode(_toDisplayString(_ctx.title), 1)\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"id\", \"class\"]))\n}\n}\n\n})","import script from \"./PaymentMethod.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PaymentMethod.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PaymentMethod.vue?vue&type=style&index=0&id=a422b7f8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a422b7f8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d596bdc6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"wrapper\" }\nconst _hoisted_2 = { class: \"ion-padding-horizontal\" }\nconst _hoisted_3 = { class: \"modal__title\" }\nconst _hoisted_4 = { class: \"modal__content\" }\nconst _hoisted_5 = { class: \"modal__footer\" }\n\nimport { IonModal, IonText, IonButton, IonIcon, IonImg } from \"@ionic/vue\";\nimport { withDefaults } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Confirmation',\n  props: {\n    title: {},\n    description: {},\n    buttonText: {},\n    isVisible: { type: Boolean },\n    cancelButtonText: { default: \"Cancel\" }\n  },\n  emits: [\"decline\", \"discard\"],\n  setup(__props: any, { emit: emits }) {\n\n\n\n\n\nconst handleCancel = () => {\n  emits(\"decline\", false);\n};\n\nconst handleDiscard = () => {\n  emits(\"discard\", true);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_unref(IonModal), {\n    ref: \"modal\",\n    \"is-open\": _ctx.isVisible,\n    \"backdrop-dismiss\": false\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_unref(IonIcon), {\n          src: \"assets/icon/close.svg\",\n          onClick: handleCancel,\n          class: \"close-btn\"\n        }),\n        _createVNode(_unref(IonImg), {\n          class: \"modal__img\",\n          src: \"assets/dumbbells.png\"\n        }),\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"strong\", _hoisted_3, _toDisplayString(_ctx.title), 1),\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(_unref(IonText), {\n              color: \"secondary\",\n              class: \"modal__text\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.description), 1)\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createVNode(_unref(IonButton), {\n              onClick: handleCancel,\n              class: \"modal__button\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.cancelButtonText), 1)\n              ]),\n              _: 1\n            }),\n            _createVNode(_unref(IonButton), {\n              onClick: handleDiscard,\n              class: \"modal__button secondary\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.buttonText), 1)\n              ]),\n              _: 1\n            })\n          ])\n        ])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"is-open\"]))\n}\n}\n\n})","import script from \"./Confirmation.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Confirmation.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Confirmation.vue?vue&type=style&index=0&id=d596bdc6&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d596bdc6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-92bb910c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"cards\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"cards__container\"\n}\nconst _hoisted_3 = {\n  key: 0,\n  class: \"separator\"\n}\nconst _hoisted_4 = {\n  key: 1,\n  class: \"payment__methods\"\n}\n\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport { IonText, IonButton, IonIcon } from \"@ionic/vue\";\nimport PaymentMethod from \"@/general/components/blocks/payment/PaymentMethod.vue\";\nimport { ref, onMounted, onUnmounted } from \"vue\";\nimport Card from \"@/general/components/blocks/payment/Card.vue\";\nimport BaseCarousel from \"@/general/components/base/BaseCarousel.vue\";\nimport { useRouter } from \"vue-router\";\nimport { BackendStripe } from \"@/services/stripe/stripe\";\nimport AddCardButton from \"@/general/components/blocks/payment/AddCardButton.vue\";\nimport { useConfirmationModal } from \"@/hooks/useConfirmationModal\";\nimport Confirmation from \"@/general/components/modals/confirmations/Confirmation.vue\";\nimport {\n  StripeCardsDocument,\n  StripeCardsQuery,\n  StripeCard,\n  DetachCardDocument,\n} from \"@/generated/graphql\";\nimport { useMutation, useQuery } from \"@vue/apollo-composable\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PaymentMethods',\n  setup(__props) {\n\nconst router = useRouter();\nconst errorMessage = ref(\"\");\nconst editMode = ref(false);\nconst cards = ref<StripeCard[]>([]);\nconst curCartId = ref(\"\");\nconst interval = ref(null);\n\nconst backendStripe = new BackendStripe(\n  process.env.VUE_APP_STRIPE_PUBLIC_KEY || \"\"\n);\n\nonUnmounted(() => {\n  clearInterval(interval.value);\n});\n\nonMounted(() => {\n  refetch();\n\n  backendStripe.init();\n\n  interval.value = setInterval(() => {\n    refetch();\n  }, 5000);\n});\n\nconst { onResult, refetch } = useQuery<StripeCardsQuery>(StripeCardsDocument, {\n  fetchPolicy: \"no-cache\",\n});\nconst { mutate: changeCard } = backendStripe.changePaymentMethod();\n\nconst { mutate: deleteCartMutate } = useMutation(DetachCardDocument);\n\nonResult(({ data }) => {\n  if (data?.cards?.data) {\n    cards.value = data.cards.data;\n  }\n});\n\nconst onCardDeletionConfirmed = () => {\n  deleteCartMutate({ card_id: curCartId.value }).then(() => {\n    refetch();\n  });\n  hideModal();\n};\n\nconst { showConfirmationModal, showModal, hideModal } = useConfirmationModal();\n\nconst onCardCreation = async () => {\n  const { onResult } = backendStripe.createSetupIntent();\n  onResult((setupIntentResult) => {\n    let intent = JSON.parse(setupIntentResult?.data?.setupIntent?.session);\n    backendStripe.redirectToCardSaving(intent.id, intent.url);\n  });\n};\n\nconst changePaymentMethod = (cardId: number) => {\n  changeCard({ card_id: cardId })\n    .then(() => {\n      refetch();\n    })\n    .catch((err) => {\n      errorMessage.value = err;\n      throw new Error(err);\n    });\n};\n\nconst toggleMode = () => {\n  editMode.value = !editMode.value;\n};\n\nconst onBack = () => {\n  router.go(-1);\n};\n\nconst onDelete = (id: string) => {\n  if (editMode.value) {\n    curCartId.value = id;\n    showModal();\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(BaseLayout, { \"hide-navigation-menu\": \"\" }, {\n      header: _withCtx(() => [\n        _createVNode(PageHeader, {\n          \"back-btn\": \"\",\n          onBack: onBack,\n          title: \"Payment methods\"\n        }, {\n          \"custom-btn\": _withCtx(() => [\n            _createVNode(_unref(IonButton), {\n              fill: \"clear\",\n              class: \"edit-btn\",\n              onClick: toggleMode\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(editMode.value ? \"Done\" : \"Edit\"), 1)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      content: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_1, [\n          (cards.value.length)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                _createVNode(BaseCarousel, {\n                  \"show-start\": \"\",\n                  items: cards.value,\n                  \"slides-offset-after\": 16,\n                  \"slides-offset-before\": 16\n                }, {\n                  start: _withCtx(() => [\n                    (!editMode.value)\n                      ? (_openBlock(), _createBlock(_unref(IonButton), {\n                          key: 0,\n                          onClick: onCardCreation,\n                          class: \"add-card\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_unref(IonIcon), {\n                              src: \"assets/icon/payment/plus.svg\",\n                              class: \"add-icon\"\n                            })\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  default: _withCtx((cards) => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(cards, (card) => {\n                      return (_openBlock(), _createBlock(Card, {\n                        deletable: editMode.value,\n                        key: card.id,\n                        \"card-holder\": card.card_holder,\n                        \"card-number\": card.pm_last_four,\n                        \"exp-date\": card.exp_month + '/' + card.exp_year,\n                        \"is-default\": card.is_default,\n                        class: \"card-slide\",\n                        onDelete: ($event: any) => (onDelete(card.id)),\n                        onClick: ($event: any) => (changePaymentMethod(card.id))\n                      }, null, 8, [\"deletable\", \"card-holder\", \"card-number\", \"exp-date\", \"is-default\", \"onDelete\", \"onClick\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }, 8, [\"items\"])\n              ]))\n            : (_openBlock(), _createBlock(AddCardButton, {\n                key: 1,\n                class: \"add-card-btn\",\n                onClick: onCardCreation\n              }))\n        ]),\n        (!editMode.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n              _createVNode(_unref(IonText), { class: \"optional\" }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"or other payment methods\")\n                ]),\n                _: 1\n              })\n            ]))\n          : _createCommentVNode(\"\", true),\n        (!editMode.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n              _createVNode(PaymentMethod, {\n                icon: \"paypal\",\n                title: \"PayPal\"\n              })\n            ]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }),\n    _createVNode(Confirmation, {\n      \"is-visible\": _unref(showConfirmationModal),\n      title: \"Do you want to delete this card?\",\n      description: \"Card will be permanently deleted\",\n      \"button-text\": \"Delete card\",\n      onDiscard: onCardDeletionConfirmed,\n      onDecline: _unref(hideModal)\n    }, null, 8, [\"is-visible\", \"onDecline\"])\n  ], 64))\n}\n}\n\n})","import script from \"./PaymentMethods.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PaymentMethods.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PaymentMethods.vue?vue&type=style&index=0&id=92bb910c&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-92bb910c\"]])\n\nexport default __exports__"],"names":["useConfirmationModal","showConfirmationModal","ref","hideModal","value","showModal","_defineComponent","__name","props","id","icon","title","setup","__props","_ctx","_cache","_openBlock","_createBlock","_unref","IonButton","class","_normalizeClass","default","_withCtx","_createVNode","IonIcon","src","IonText","_createTextVNode","_toDisplayString","_","__exports__","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","description","buttonText","isVisible","type","Boolean","cancelButtonText","emits","emit","handleCancel","handleDiscard","IonModal","_createElementVNode","onClick","IonImg","color","key","router","useRouter","errorMessage","editMode","cards","curCartId","interval","backendStripe","BackendStripe","process","VUE_APP_STRIPE_PUBLIC_KEY","onUnmounted","clearInterval","onMounted","refetch","init","setInterval","onResult","useQuery","StripeCardsDocument","fetchPolicy","mutate","changeCard","changePaymentMethod","deleteCartMutate","useMutation","DetachCardDocument","data","onCardDeletionConfirmed","card_id","then","onCardCreation","async","createSetupIntent","setupIntentResult","intent","JSON","parse","setupIntent","session","redirectToCardSaving","url","cardId","catch","err","Error","toggleMode","onBack","go","onDelete","_createElementBlock","_Fragment","BaseLayout","header","PageHeader","fill","content","length","BaseCarousel","items","start","_createCommentVNode","_renderList","card","Card","deletable","card_holder","pm_last_four","exp_month","exp_year","is_default","$event","AddCardButton","PaymentMethod","Confirmation","onDiscard","onDecline"],"sourceRoot":""}