{"version":3,"file":"js/6782.a6961615.js","mappings":"kQAGA,MACMA,EAAa,CACjBC,IAAK,EACLC,MAAO,WAiBT,OAA4BC,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,oBACRC,MAAMC,GAER,MAAMC,GAASC,EAAAA,EAAAA,OACT,GAAEC,IAAOC,EAAAA,EAAAA,KAETC,GAAwBC,EAAAA,EAAAA,KAAI,IAE5B,OAAEC,IAAWC,EAAAA,EAAAA,IAAYC,EAAAA,KAEzB,SAAEC,EAAQ,QAAEC,EAAO,QAAEC,IAAYC,EAAAA,EAAAA,IAASC,EAAAA,GAAY,CAAEX,OAE9DO,GAAS,EAAGK,WACVV,EAAsBW,MAAQD,EAAKE,IAAIC,UAAUC,MAC9CC,GACCA,EAAQA,QAAQC,OAASC,EAAAA,GAAiBC,yBAC3CP,KAAK,IAGV,MAAMQ,EAAkBC,IACtBlB,EAAO,CACLJ,KACAuB,MAAO,CACLR,SAAU,CACR,CACEG,KAAMC,EAAAA,GAAiBC,sBACvBP,MAAOS,OAKZE,MAAK,KACJf,GAAS,IAEVgB,OAAOC,IACN,MAAM,IAAIC,MAAMD,EAAM,GACtB,EAGAE,EAASA,KACb9B,EAAO+B,IAAI,EAAE,EAGf,MAAO,CAACC,EAAUC,KAChB,MAAMC,GAAyBC,EAAAA,EAAAA,IAAkB,eAEjD,OAAQC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaC,EAAAA,EAAY,CAAE,uBAAwB,IAAM,CAC7EC,QAAQC,EAAAA,EAAAA,KAAS,IAAM,EACrBC,EAAAA,EAAAA,IAAaC,EAAAA,EAAY,CACvB,WAAY,GACZC,MAAO,qBACPb,OAAQA,OAGZc,SAASJ,EAAAA,EAAAA,KAAS,IAAM,EACrBK,EAAAA,EAAAA,IAAOnC,KACH0B,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,KAAaQ,EAAAA,EAAAA,IAAOC,EAAAA,IAAa,CAC9CpD,IAAK,EACLqD,KAAM,QACNpD,MAAO,eAERyC,EAAAA,EAAAA,OAAcY,EAAAA,EAAAA,IAAoB,MAAOvD,EAAY,EACpDgD,EAAAA,EAAAA,KAAaI,EAAAA,EAAAA,IAAOI,EAAAA,IAAU,KAAM,CAClCC,SAASV,EAAAA,EAAAA,KAAS,IAAM,EACtBW,EAAAA,EAAAA,IAAiB,yFAEnBC,EAAG,KAELX,EAAAA,EAAAA,IAAaP,EAAwB,CACnCnB,MAAOX,EAAsBW,MAC7B6B,QAAS,0BACTS,SAAU9B,GACT,KAAM,EAAG,CAAC,gBAGrB6B,EAAG,GACH,CAEJ,I,WChGA,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://spotter/./src/general/views/profile/OrderConfirmation.vue?8903","webpack://spotter/./src/general/views/profile/OrderConfirmation.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, resolveComponent as _resolveComponent, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-81247c0a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 1,\n  class: \"content\"\n}\n\nimport { IonText, IonSpinner } from \"@ionic/vue\";\nimport BaseLayout from \"@/general/components/base/BaseLayout.vue\";\nimport PageHeader from \"@/general/components/blocks/headers/PageHeader.vue\";\nimport { useRouter } from \"vue-router\";\nimport { useMutation, useQuery } from \"@vue/apollo-composable\";\nimport {\n  MeDocument,\n  SettingsCodeEnum,\n  UpdateUserDocument,\n} from \"@/generated/graphql\";\nimport useId from \"@/hooks/useId\";\nimport { ref } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'OrderConfirmation',\n  setup(__props) {\n\nconst router = useRouter();\nconst { id } = useId();\n\nconst autoOrderConfirmation = ref(false);\n\nconst { mutate } = useMutation(UpdateUserDocument);\n\nconst { onResult, loading, refetch } = useQuery(MeDocument, { id });\n\nonResult(({ data }) => {\n  autoOrderConfirmation.value = data.me?.settings?.find(\n    (setting: any) =>\n      setting.setting.code === SettingsCodeEnum.AutoOrderConfirmation\n  )?.value;\n});\n\nconst onHandleChange = (checked: boolean) => {\n  mutate({\n    id,\n    input: {\n      settings: [\n        {\n          code: SettingsCodeEnum.AutoOrderConfirmation,\n          value: checked,\n        },\n      ],\n    },\n  })\n    .then(() => {\n      refetch();\n    })\n    .catch((error) => {\n      throw new Error(error);\n    });\n};\n\nconst onBack = () => {\n  router.go(-1);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_base_toggle = _resolveComponent(\"base-toggle\")!\n\n  return (_openBlock(), _createBlock(BaseLayout, { \"hide-navigation-menu\": \"\" }, {\n    header: _withCtx(() => [\n      _createVNode(PageHeader, {\n        \"back-btn\": \"\",\n        title: \"Order confirmation\",\n        onBack: onBack\n      })\n    ]),\n    content: _withCtx(() => [\n      (_unref(loading))\n        ? (_openBlock(), _createBlock(_unref(IonSpinner), {\n            key: 0,\n            name: \"lines\",\n            class: \"spinner\"\n          }))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n            _createVNode(_unref(IonText), null, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Automatically receive confirmation notification when session is booked or canceled\")\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_base_toggle, {\n              value: autoOrderConfirmation.value,\n              content: \"Auto order confirmation\",\n              onChange: onHandleChange\n            }, null, 8, [\"value\"])\n          ]))\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./OrderConfirmation.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./OrderConfirmation.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./OrderConfirmation.vue?vue&type=style&index=0&id=81247c0a&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-81247c0a\"]])\n\nexport default __exports__"],"names":["_hoisted_1","key","class","_defineComponent","__name","setup","__props","router","useRouter","id","useId","autoOrderConfirmation","ref","mutate","useMutation","UpdateUserDocument","onResult","loading","refetch","useQuery","MeDocument","data","value","me","settings","find","setting","code","SettingsCodeEnum","AutoOrderConfirmation","onHandleChange","checked","input","then","catch","error","Error","onBack","go","_ctx","_cache","_component_base_toggle","_resolveComponent","_openBlock","_createBlock","BaseLayout","header","_withCtx","_createVNode","PageHeader","title","content","_unref","IonSpinner","name","_createElementBlock","IonText","default","_createTextVNode","_","onChange","__exports__"],"sourceRoot":""}