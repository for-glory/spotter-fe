"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[5609],{39206:function(e,a,t){t.d(a,{Z:function(){return d}});var i=t(66252),o=t(2262),l=t(19239),n=t(66699),r=(0,i.aZ)({__name:"VideoPlayer",props:{pathUrl:{},height:{},width:{default:320},photoUrl:{default:""},autoplay:{type:Boolean,default:!1}},emits:["back","ended"],setup(e,{emit:a}){const t=(0,o.XI)(),r=e=>{t.value=e.player},s=()=>{a("back")},u=()=>{a("ended")};return(e,a)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l.Z,{class:"header","back-btn":"",onBack:s,transparent:""},{"custom-btn":(0,i.w5)((()=>[(0,i.WI)(e.$slots,"custom-header-btn")])),_:3}),(0,i.Wm)((0,o.SU)(n.Y7),{autoplay:e.autoplay,class:"video-player vjs-big-play-centered",src:e.pathUrl,crossorigin:"anonymous",playsinline:"",controls:"",poster:e.photoUrl,volume:.6,height:e.height,width:e.width,"playback-rates":[.7,1,1.5,2],preferFullWindow:!0,onMounted:r,onEnded:u},null,8,["autoplay","src","poster","height","width"])],64))}}),s=t(83744);const u=(0,s.Z)(r,[["__scopeId","data-v-5766a306"]]);var d=u},25609:function(e,a,t){t.r(a),t.d(a,{default:function(){return W}});t(57658);var i=t(66252),o=t(2262),l=t(22201),n=t(49316),r=t(87794),s=t(39206),u=t(31810),d=t(8767),c=t(3577),p=t(19239);const v={class:"modal-buttons ion-padding-horizontal ion-padding-top",slot:"fixed"},h={name:"WorkoutPreviewBlurredScreeModal"};var m=(0,i.aZ)({...h,props:{previewUrl:{},disabled:{type:Boolean}},emits:["visibility","watchTrialVideo","purchaseDaily"],setup(e,{emit:a}){const t=e,s=(0,o.iH)(!1),d=(0,l.tv)(),h=(0,o.iH)(!0),m=(0,o.iH)(null),w=(0,o.iH)(`background: no-repeat center/cover url(${t.previewUrl})`);(0,i.YP)(t,(e=>{w.value=`background: no-repeat center/cover url(${e.previewUrl})`}));const b=()=>{h.value=!1,a("purchaseDaily")},{onResult:k}=(0,n.aM)(r.en,{},{fetchPolicy:"no-cache"});k((async e=>{s.value=!!e.data?.me?.settings?.find((e=>e.setting.code===r.Lm.VerifiedUser))?.value}));const y=()=>{h.value=!1,a("visibility",!1),d.go(-1)},f=()=>{h.value=!1,a("visibility",!1),a("watchTrialVideo")};return(e,a)=>((0,i.wg)(),(0,i.j4)((0,o.SU)(u.ki),{ref_key:"blurredModal",ref:m,trigger:"open-modal","is-open":h.value},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"blurred-bg",style:(0,c.j5)(w.value)},null,4),(0,i.Wm)((0,o.SU)(u.W2),{class:"modal-content ion-padding"},{default:(0,i.w5)((()=>[(0,i.Wm)(p.Z,{"back-btn":"",onBack:y,class:"header",transparent:""}),(0,i._)("div",v,[s.value?((0,i.wg)(),(0,i.j4)((0,o.SU)(u.YG),{key:0,expand:"block",onClick:b,disabled:e.disabled},{default:(0,i.w5)((()=>[(0,i.Uk)(" Purchase Daily ")])),_:1},8,["disabled"])):(0,i.kq)("",!0),(0,i.Wm)((0,o.SU)(u.YG),{onClick:f,expand:"block",fill:"outline",color:"medium",class:"watch-btn"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Watch free-trial video ")])),_:1})])])),_:1})])),_:1},8,["is-open"]))}}),w=t(83744);const b=(0,w.Z)(m,[["__scopeId","data-v-85629722"]]);var k=b,y=t(61081),f=t(83782);const g={name:"WorkoutPreview"};var U=(0,i.aZ)({...g,setup(e){const a=(0,o.iH)(!1),t=(0,o.iH)(!1),c=(0,o.iH)(!0),p=(0,o.iH)(null),{mutate:v,loading:h}=(0,n.Db)(r.Ww),m=(0,l.yj)(),{result:w,onResult:b}=(0,n.aM)(r.fS,{id:m.params.id});b((e=>{e.data.workout.was_ordered_by_me&&(c.value=t.value=!1,f.Z.push({name:y.N.UserWorkouts}))}));const g=(0,i.Fl)((()=>w?.value?.workout?.exercises[0].pathUrl??"")),U=(0,i.Fl)((()=>w?.value?.workout?.previewUrl??"")),_=(0,i.Fl)((()=>w?.value?.workout?.exercises[0]?.description??"")),W=()=>{a.value=!1,c.value=!0},S=()=>{v({input:{purchasable_id:m.params.id,purchasable:r.ZP.Workout}}).then((e=>{c.value=!1,f.Z.push({name:y.N.WorkoutOrder,params:{id:m.params.id},query:{cart_id:e?.data?.addToCart?.id}})})).catch((async()=>{const e=await u.Mn.create({message:"Something went wrong. Try again.",duration:2e3,icon:"assets/icon/info.svg",cssClass:"warning-toast"});e.present()}))},Z=()=>{S()};return(e,l)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[a.value?((0,i.wg)(),(0,i.j4)((0,o.SU)(u._i),{key:0},{default:(0,i.w5)((()=>[(0,i.Wm)((0,o.SU)(u.W2),{fullscreen:!0},{default:(0,i.w5)((()=>[(0,i.Wm)(s.Z,{ref_key:"trialVideoPlayer",ref:p,pathUrl:g.value||"",photoUrl:U.value||"",height:800,width:400,class:"trial-video-player",onBack:W,onEnded:Z,autoplay:""},{"custom-header-btn":(0,i.w5)((()=>[(0,i.Wm)((0,o.SU)(u.YG),{onClick:l[0]||(l[0]=e=>t.value=!t.value),class:"header-btn"},{default:(0,i.w5)((()=>[(0,i.Wm)((0,o.SU)(u.gu),{src:"assets/icon/info.svg"})])),_:1})])),_:1},8,["pathUrl","photoUrl"])])),_:1})])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(k,{"is-open":c.value,"preview-url":U.value,onVisibility:l[1]||(l[1]=e=>c.value=!1),onWatchTrialVideo:l[2]||(l[2]=e=>a.value=!0),onPurchaseDaily:S,disabled:(0,o.SU)(h)},null,8,["is-open","preview-url","disabled"]),(0,i.Wm)(d.Z,{"is-open":t.value,onVisibility:l[3]||(l[3]=e=>t.value=!1),"instruction-tip":_.value},null,8,["is-open","instruction-tip"])],64))}});const _=(0,w.Z)(U,[["__scopeId","data-v-1a4c9622"]]);var W=_},8767:function(e,a,t){t.d(a,{Z:function(){return d}});var i=t(66252),o=t(2262),l=t(31810);const n={name:"WorkoutPreviewInstructionTipModal"};var r=(0,i.aZ)({...n,props:{isOpen:{type:Boolean},instructionTip:{}},emits:["visibility"],setup(e,{emit:a}){const t=()=>{a("visibility",!1)};return(e,a)=>((0,i.wg)(),(0,i.j4)((0,o.SU)(l.ki),{class:"instruction-tip-modal","is-open":e.isOpen,ref:"modal",trigger:"open-modal","initial-breakpoint":.4,breakpoints:[0,.4,1],"backdrop-dismiss":!0,onDidDismiss:t},{default:(0,i.w5)((()=>[(0,i.Wm)((0,o.SU)(l.W2),{class:"instruction-tip-content"},{default:(0,i.w5)((()=>[(0,i.Wm)((0,o.SU)(l.Q$),{class:"instruction-tip-label"},{default:(0,i.w5)((()=>[(0,i.Uk)("Instruction Tip")])),_:1}),(0,i.Wm)((0,o.SU)(l.yW),{color:"secondary",innerHTML:e.instructionTip},null,8,["innerHTML"])])),_:1})])),_:1},8,["is-open"]))}}),s=t(83744);const u=(0,s.Z)(r,[["__scopeId","data-v-1dbcd9ba"]]);var d=u}}]);
//# sourceMappingURL=5609.befd2661.js.map