"use strict";(self["webpackChunkspotter"]=self["webpackChunkspotter"]||[]).push([[6798],{40411:function(e,t,a){a.d(t,{b:function(){return n}});var l=a(29895);const n=(0,l.fo)("Geolocation",{web:()=>a.e(6642).then(a.bind(a,56642)).then((e=>new e.GeolocationWeb))})},48218:function(e,t,a){a.d(t,{E:function(){return s},T:function(){return n}});var l=a(61081);const n=[{name:l.N.ActivitiesNearby,label:"Nearby"},{name:l.N.MyTraining,label:"Events"}],s=[{name:l.N.Trainings,label:"Trainings"},{name:l.N.Events,label:"Events"}]},63547:function(e,t,a){a.d(t,{k:function(){return l}});const l=[{featureType:"all",elementType:"all",stylers:[{visibility:"simplified"},{saturation:"-100"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#7e7e7e"},{weight:"5.10"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{weight:"3"}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#2e2e2e"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#474747"},{visibility:"simplified"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"},{color:"#fdfdfd"}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{visibility:"simplified"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"water",elementType:"geometry.fill",stylers:[{lightness:"-62"},{saturation:"-18"},{color:"#151515"}]}]},35294:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(66252),n=a(3577),s=a(2262),i=a(31810),o=(0,l.aZ)({__name:"AddressItem",props:{large:{type:Boolean,default:!1}},setup(e){return(e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,n.C_)([{"address--large":e.large},"address"])},[(0,l.Wm)((0,s.SU)(i.gu),{class:(0,n.C_)([{"address__icon--large":e.large},"address__icon"]),src:"assets/icon/location.svg"},null,8,["class"]),(0,l.WI)(e.$slots,"default")],2))}}),r=a(83744);const c=(0,r.Z)(o,[["__scopeId","data-v-1aaae496"]]);var u=c},82544:function(e,t,a){a.d(t,{Z:function(){return m}});var l=a(66252),n=a(2262),s=a(3577),i=a(31810);const o={class:"empty-block"},r={class:"empty-block__img"};var c=(0,l.aZ)({__name:"EmptyBlock",props:{title:{},text:{},buttonText:{},hideButton:{type:Boolean},icon:{default:"assets/icon/shore-run.svg"}},emits:["buttonClick"],setup(e,{emit:t}){return(e,a)=>((0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",null,[(0,l._)("div",r,[(0,l.Wm)((0,n.SU)(i.gu),{src:e.icon},null,8,["src"])]),(0,l.Wm)((0,n.SU)(i.wd),{class:"empty-block__title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.title),1)])),_:1}),(0,l.Wm)((0,n.SU)(i.yW),{color:"medium",class:"empty-block__text"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.text),1)])),_:1}),e.hideButton?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)((0,n.SU)(i.YG),{key:0,class:"button",expand:"block",color:"primary",onClick:a[0]||(a[0]=e=>t("buttonClick"))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.buttonText),1)])),_:1}))])]))}}),u=a(83744);const d=(0,u.Z)(c,[["__scopeId","data-v-776b8fd0"]]);var m=d},27893:function(e,t,a){a.d(t,{Z:function(){return p}});var l=a(66252),n=a(2262),s=a(3577),i=a(31810),o=a(35294),r=a(27484),c=a.n(r);const u=["src"],d={class:"event__holder"},m={key:0,class:"event__time"};var v=(0,l.aZ)({__name:"EventItem",props:{item:{},rounded:{type:Boolean,default:!1},dateRange:{type:Boolean},hideTime:{type:Boolean}},setup(e){const t=e,a=(0,l.Fl)((()=>c()(t.item.start_date).format(t.dateRange&&c()(t.item.start_date).year()!==c()(t.item.end_date).year()?"D MMM YYYY":"D MMMM"))),r=(0,l.Fl)((()=>c()(t.item.end_date).format(t.dateRange&&c()(t.item.start_date).year()!==c()(t.item.end_date).year()?"D MMM YYYY":"D MMMM"))),v=(0,l.Fl)((()=>c()(t.item.start_date).format("hh:mm A")));return(e,t)=>((0,l.wg)(),(0,l.j4)((0,n.SU)(i.Ie),{lines:"none",class:(0,s.C_)(["event",{"event--time-hidden":e.hideTime}])},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(i.Bs),{class:(0,s.C_)([{"event__photo--rounded":e.rounded},"event__photo"])},{default:(0,l.w5)((()=>[e.item?.media?.length&&e.item.media[0]?.pathUrl?((0,l.wg)(),(0,l.iD)("img",{key:0,src:e.item.media[0].pathUrl,class:"event__img"},null,8,u)):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Uk)((0,s.zw)(e.item.title?.charAt(0)),1)],64))])),_:1},8,["class"]),(0,l._)("div",d,[(0,l.Wm)((0,n.SU)(i.Q$),{class:"event__title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.item.title),1)])),_:1}),e.dateRange||e.hideTime?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)((0,n.SU)(i.gu),{src:"assets/icon/time.svg",class:"time-icon"}),(0,l.Uk)(" "+(0,s.zw)(v.value),1)])),e.hideTime?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)((0,n.SU)(i.yW),{key:1,class:"event__date"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(a.value)+" ",1),e.dateRange?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Uk)("- "+(0,s.zw)(r.value),1)],64)):(0,l.kq)("",!0)])),_:1})),e.item.address?.street?((0,l.wg)(),(0,l.j4)(o.Z,{key:2,class:"event__address"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.item.address?.street),1)])),_:1})):(0,l.kq)("",!0)])])),_:1},8,["class"]))}}),_=a(83744);const g=(0,_.Z)(v,[["__scopeId","data-v-39053960"]]);var p=g},58770:function(e,t,a){a.d(t,{Z:function(){return v}});var l=a(66252),n=a(3577),s=a(2262),i=a(31810),o=a(40411),r=a(63547);const c={class:"map__controls"};var u=(0,l.aZ)({__name:"ItemsMap",props:{items:{},useCurrentLocation:{type:Boolean},center:{},selectedItem:{}},emits:["change-position","fullscreen","marker-click"],setup(e,{emit:t}){const a=e;(0,l.YP)((()=>a.useCurrentLocation),(()=>{a.useCurrentLocation&&h()})),(0,l.YP)((()=>a.center),(()=>{u.value.panTo(a.center)})),(0,l.bv)((()=>{a.useCurrentLocation&&h()}));const u=(0,s.iH)(null),d=(0,s.iH)(!1),m=(0,s.iH)({lat:a.center.lat,lng:a.center.lng}),v={url:"assets/icon/my-marker.svg",scaledSize:{width:81,height:81},labelOrigin:{x:81,y:81}},_={url:"assets/icon/map-marker.svg",scaledSize:{width:24,height:24},labelOrigin:{x:-12,y:-24}},g={url:"assets/icon/map-marker-active.svg",scaledSize:{width:24,height:24},labelOrigin:{x:-12,y:-24}},p=(0,s.iH)(13),f=(0,s.iH)(a.useCurrentLocation?m.value:a.center),y={zoom:p.value,styles:r.k,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,backgroundColor:"var(--gray-800)",disableDefaultUI:!1,padding:{bottom:150}},h=async()=>{u.value&&u.value.panTo(m.value);const e=await o.b.getCurrentPosition();m.value={lat:e.coords.latitude,lng:e.coords.longitude},u.value.panTo(m.value)},b=e=>{f.value={lat:e.lat(),lng:e.lng()}},k=()=>{h()},w=()=>{const e=Math.ceil(156543.03392*Math.cos(f.value.lat*Math.PI/180)/Math.pow(2,p.value)*621371e-9*.8*window.innerWidth);t("change-position",{position:f.value,distance:e})},U=e=>{p.value=e},T=()=>{d.value=!d.value,t("fullscreen",d.value)},S=e=>{t("marker-click",e)};return(e,t)=>{const a=(0,l.up)("GMapMarker"),o=(0,l.up)("GMapMap");return(0,l.wg)(),(0,l.iD)("div",{class:(0,n.C_)(["map",{"map--fullscreen":d.value}])},[(0,l.Wm)(o,{ref_key:"map",ref:u,options:y,onCenter_changed:b,onBounds_changed:w,onZoom_changed:U,center:e.useCurrentLocation?m.value:e.center},{default:(0,l.w5)((()=>[(0,l.Wm)(a,{ref:"myMarker",icon:v,position:e.useCurrentLocation?m.value:e.center},null,8,["position"]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,((t,n)=>((0,l.wg)(),(0,l.j4)(a,{key:n,clickable:!0,onClick:e=>S(t.id),position:{lat:t.lat,lng:t.lng},icon:e.selectedItem!==t.id?_:g},null,8,["onClick","position","icon"])))),128))])),_:1},8,["center"]),(0,l._)("div",c,[(0,l.Wm)((0,s.SU)(i.YG),{class:"map__control",onClick:T,fill:"clear",color:"medium"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(i.gu),{slot:"icon-only",src:"assets/icon/fullscreen.svg"})])),_:1}),(0,l.Wm)((0,s.SU)(i.YG),{class:"map__control",onClick:k,fill:"clear",color:"medium"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(i.gu),{slot:"icon-only",src:"assets/icon/location-point.svg"})])),_:1})])],2)}}}),d=a(83744);const m=(0,d.Z)(u,[["__scopeId","data-v-5360b8b4"]]);var v=m},54354:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(66252),n=a(2262),s=a(3577),i=a(31810),o=(0,l.aZ)({__name:"PageTabs",props:{tabs:{},value:{}},emits:["change"],setup(e,{emit:t}){const a=e=>{e.detail.value&&t("change",e.detail.value)};return(e,t)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)((0,n.SU)(i.cJ),{id:"page-tabs",mode:"ios",class:"tabs",onIonChange:t[0]||(t[0]=e=>a(e)),value:e.value||e.tabs&&e.tabs[0].name},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.tabs,(e=>((0,l.wg)(),(0,l.j4)((0,n.SU)(i.GO),{key:e.name,value:e.name,class:"tabs__item",disabled:e.disabled},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.label),1)])),_:2},1032,["value","disabled"])))),128))])),_:1},8,["value"])]))}}),r=a(83744);const c=(0,r.Z)(o,[["__scopeId","data-v-6ea469ae"]]);var u=c},36798:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});a(57658);var l=a(66252),n=a(2262),s=a(31810),i=a(10121),o=a(54354),r=a(58770),c=a(61081),u=a(27893),d=a(87794),m=a(49316),v=a(3577),_=a(96486),g=(0,l.aZ)({__name:"SearchEventForm",props:{type:{},hiddenCancel:{type:Boolean,default:!1},backBtn:{type:Boolean,default:!1},visibleResult:{type:Boolean,default:!1}},emits:["handle-item-click","handle-focus","handle-blur"],setup(e,{emit:t}){const a=(0,n.iH)(!1),i=(0,n.iH)(null),o=(0,n.iH)(""),{result:r,refetch:c,loading:g}=(0,m.aM)(d.jb,{first:20,page:1,title:o.value}),p=(0,l.Fl)((()=>r.value?.events?.data??[])),f=(0,_.debounce)((e=>{o.value=e?.detail?.value||"",c({first:20,page:1,title:o.value})}),1e3),y=()=>{a.value=!0,t("handle-focus")},h=e=>{t("handle-item-click",e)},b=()=>{const e=i.value?.$el.querySelector(".searchbar-input");e.value="",a.value=!1,t("handle-blur")};return(e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,v.C_)(["search-form",{"search-form--on-focus":a.value||e.visibleResult}])},[e.backBtn?((0,l.wg)(),(0,l.j4)((0,n.SU)(s.oU),{key:0,class:"search-form__back-btn",onClick:t[0]||(t[0]=t=>e.$emit("back")),icon:"assets/icon/arrow-back.svg"})):(0,l.kq)("",!0),(0,l.Wm)((0,n.SU)(s.VI),{ref_key:"searchBar",ref:i,onIonChange:(0,n.SU)(f),onIonFocus:y,"show-clear-button":"never",class:(0,v.C_)(["search-form__control",{"search-form__control--on-focus":a.value,"search-form__control--with-back-btn":e.backBtn,"search-form__control--with-cancel-btn":!e.hiddenCancel}]),"search-icon":"assets/icon/search.svg",placeholder:"Enter name or address..."},null,8,["onIonChange","class"]),e.hiddenCancel?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)((0,n.SU)(s.YG),{key:1,fill:"clear",color:"medium",onClick:b,disabled:!a.value,class:(0,v.C_)(["search-form__clear-btn",{"search-form__clear-btn--hidden":!a.value}])},{default:(0,l.w5)((()=>[(0,l.Uk)(" Cancel ")])),_:1},8,["disabled","class"])),(0,l.Wm)((0,n.SU)(s.W2),{class:(0,v.C_)([{"search-form__results--with-back-btn":e.backBtn},"search-form__results ion-padding-horizontal"])},{default:(0,l.w5)((()=>[(0,n.SU)(g)?((0,l.wg)(),(0,l.j4)((0,n.SU)(s.PQ),{key:0,name:"lines",class:"spinner"})):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(p.value,(e=>((0,l.wg)(),(0,l.j4)(u.Z,{item:e,key:e.id,onClick:t=>h(e.id)},null,8,["item","onClick"])))),128))])),_:1},8,["class"])],2))}}),p=a(83744);const f=(0,p.Z)(g,[["__scopeId","data-v-1871acb1"]]);var y=f,h=a(22201),b=a(48218),k=a(82544);const w={class:"page-map"},U={class:"content ion-padding-horizontal ion-padding-bottom"},T={key:0,class:"ion-text-center"};var S=(0,l.aZ)({__name:"MyTraining",setup(e){const t=(0,h.tv)(),a=(0,n.iH)(!1),v=(0,n.iH)(null),g=(0,n.iH)(!1),p=b.T,f=e=>{t.push({name:e})},S=(0,n.iH)(!1),C=(0,n.iH)({lat:Number({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_DEFAULT_POSITION_LAT),lng:Number({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_DEFAULT_POSITION_LNG)}),E=(0,n.iH)({position:C.value,distance:6}),N=(0,_.debounce)((e=>{E.value=e,A({first:100,page:1,near:{lat:E.value.position.lat,lng:E.value.position.lng,radius:E.value.distance||1}})}),500),D=e=>{a.value=e},{onResult:I,loading:P}=(0,m.aM)(d.en,{},{fetchPolicy:"no-cache"});I((({data:e})=>{S.value=e.me?.settings?.find((e=>e.setting.code===d.Lm.UsePhoneLocation))?.value??!1,!S.value&&e.me?.address?.lat&&e.me?.address?.lng&&(C.value={lat:e.me.address?.lat??Number({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_DEFAULT_POSITION_LAT),lng:e.me.address?.lng??Number({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_DEFAULT_POSITION_LNG)},E.value.position=C.value),L()}));const M={first:100,page:1,near:{lat:E.value.position.lat,lng:E.value.position.lng,radius:E.value.distance}},{load:L,result:Z,refetch:A,loading:B,error:W}=(0,m.td)(d.jb,M,{fetchPolicy:"no-cache"}),H=(0,l.Fl)((()=>Z.value?.events?.data??[])),Y=(0,l.Fl)((()=>Z.value?.events?.data.map((e=>({id:e.id,lat:e.address?.lat,lng:e.address?.lng})))??[])),O=()=>{v?.value?.showDraggable()},j=e=>{t.push({name:c.N.EventsDetailed,params:{id:e}})},{onResult:z}=(0,m.aM)(d.en);return z((({data:e})=>{S.value=e.me?.settings?.find((e=>e.setting.code===d.Lm.UsePhoneLocation))?.value??!1,!S.value&&e.me?.address?.lat&&e.me?.address?.lng&&(C.value={lat:e.me.address?.lat??Number({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_DEFAULT_POSITION_LAT),lng:e.me.address?.lng??Number({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_DEFAULT_POSITION_LNG)})})),(e,t)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i.Z,{draggable:"","header-fixed":"",ref_key:"layout",ref:v,"offset-top":64,"content-full-height":a.value,"initial-breakpoint":a.value?1:.5},{header:(0,l.w5)((()=>[(0,l.Wm)(y,{type:(0,n.SU)(c.N).Events,onHandleFocus:t[0]||(t[0]=e=>g.value=!0),onHandleBlur:t[1]||(t[1]=e=>g.value=!1),onHandleItemClick:j},null,8,["type"])])),static:(0,l.w5)((()=>[(0,l._)("div",w,[(0,n.SU)(P)?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(r.Z,{key:0,items:Y.value,center:C.value,onFullscreen:D,onChangePosition:(0,n.SU)(N),"use-current-location":S.value},null,8,["items","center","onChangePosition","use-current-location"]))])])),draggable:(0,l.w5)((()=>[(0,l._)("div",U,[(0,n.SU)(P)||(0,n.SU)(B)||H.value?.length?((0,l.wg)(),(0,l.j4)((0,n.SU)(s.sr),{key:0,class:"header"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(s.wd),{slot:"start",class:"title"},{default:(0,l.w5)((()=>[(0,l.Uk)("Events Nearby")])),_:1}),(0,l.Wm)((0,n.SU)(s.YG),{slot:"end",fill:"clear",color:"primary",onClick:O,class:"header__btn hide-on-fullscreen"},{default:(0,l.w5)((()=>[(0,l.Uk)(" View All ")])),_:1})])),_:1})):(0,l.kq)("",!0),(0,n.SU)(P)||(0,n.SU)(B)?((0,l.wg)(),(0,l.j4)((0,n.SU)(s.PQ),{key:1,name:"lines",class:"spinner"})):((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[(0,n.SU)(W)?((0,l.wg)(),(0,l.iD)("p",T," Something went wrong... ")):H.value.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(H.value,(e=>((0,l.wg)(),(0,l.j4)(u.Z,{key:e.id,item:e,onClick:t=>j(e.id)},null,8,["item","onClick"])))),128)):((0,l.wg)(),(0,l.j4)(k.Z,{key:2,"hide-button":"",title:"Sorry, no events found",icon:"assets/icon/weights.svg",text:"Currently there are no events in your area"}))],64))])])),_:1},8,["content-full-height","initial-breakpoint"]),g.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(o.Z,{key:0,tabs:(0,n.SU)(p),class:"page-tabs",value:(0,n.SU)(c.N).MyTraining,onChange:f},null,8,["tabs","value"]))],64))}});const C=(0,p.Z)(S,[["__scopeId","data-v-c831ba26"]]);var E=C}}]);
//# sourceMappingURL=6798.fa0f2957.js.map