def propertiesFile = file("${project.rootDir}/version.properties")
def properties = new Properties()

// Load existing versionCode from properties file
properties.load(propertiesFile.newDataInputStream())

// Get the last used versionCode and increment it
def lastVersionCode = properties.versionCode.toInteger()
def newVersionCode = lastVersionCode + 1

// Update the properties file with the new versionCode
properties.setProperty("versionCode", newVersionCode.toString())
properties.store(propertiesFile.newWriter(), null)


ext {
    versionCode = newVersionCode
    versionName = "1.1.${versionCode}"
    minSdkVersion = 22
    compileSdkVersion = 33
    targetSdkVersion = 33
    androidxActivityVersion = '1.7.0'
    androidxAppCompatVersion = '1.2.0'
    androidxCoordinatorLayoutVersion = '1.2.0'
    androidxCoreVersion = '1.10.0'
    androidxFragmentVersion = '1.5.6'
    coreSplashScreenVersion = '1.0.0'
    androidxWebkitVersion = '1.6.1'
    junitVersion = '4.13.2'
    androidxJunitVersion = '1.1.5'
    androidxEspressoCoreVersion = '3.4.0'
    cordovaAndroidVersion = '10.1.1'
    androidxBrowserVersion = '1.5.0'
    debuggable = false
    rgcfaIncludeGoogle = true
}